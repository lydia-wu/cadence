/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.indexManagement_bundle_jsonpfunction=window.indexManagement_bundle_jsonpfunction||[]).push([[1],Array(45).concat([function(e,t,a){"use strict";t.__esModule=!0;var i=c(a(131));t.combineActions=i.default;var n=c(a(61));t.createAction=n.default;var s=c(a(134));t.createActions=s.default;var r=c(a(143));t.createCurriedAction=r.default;var o=c(a(85));t.handleAction=o.default;var l=c(a(146));function c(e){return e&&e.__esModule?e:{default:e}}t.handleActions=l.default},function(e,t,a){e.exports=a(5)(1074)},function(e,t,a){e.exports=a(5)(1075)},function(e,t,a){"use strict";var i=a(47);t.__esModule=!0;var n=i(a(90));t.Provider=n.default;var s=i(a(70));t.connectAdvanced=s.default;var r=a(49);t.ReactReduxContext=r.ReactReduxContext;var o=i(a(93));t.connect=o.default;var l=a(101);t.useDispatch=l.useDispatch,t.createDispatchHook=l.createDispatchHook;var c=a(102);t.useSelector=c.useSelector,t.createSelectorHook=c.createSelectorHook;var d=a(76);t.useStore=d.useStore,t.createStoreHook=d.createStoreHook;var u=a(69),p=a(103);t.batch=p.unstable_batchedUpdates;var m=i(a(72));t.shallowEqual=m.default,(0,u.setBatch)(p.unstable_batchedUpdates)},function(e,t,a){"use strict";var i=a(47);t.__esModule=!0,t.default=t.ReactReduxContext=void 0;var n=i(a(26)).default.createContext(null);t.ReactReduxContext=n;var s=n;t.default=s},function(e,t,a){"use strict";e.exports=function(e,t,a,i,n,s,r,o){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[a,i,n,s,r,o],d=0;(l=new Error(t.replace(/%s/g,(function(){return c[d++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,a){"use strict";t.__esModule=!0,t.ACTION_TYPE_DELIMITER=t.DEFAULT_NAMESPACE=void 0;t.DEFAULT_NAMESPACE="/";t.ACTION_TYPE_DELIMITER="||"},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;t.default=function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},function(e,t,a){"use strict";function i(e){return e}function n(e){throw new Error("Called `absurd` function which should be uncallable")}Object.defineProperty(t,"__esModule",{value:!0}),t.bindTo_=t.bind_=t.hole=t.pipe=t.untupled=t.tupled=t.absurd=t.decrement=t.increment=t.tuple=t.flow=t.flip=t.constVoid=t.constUndefined=t.constNull=t.constFalse=t.constTrue=t.constant=t.not=t.unsafeCoerce=t.identity=void 0,t.identity=i,t.unsafeCoerce=i,t.not=function(e){return function(t){return!e(t)}},t.constant=function(e){return function(){return e}},t.constTrue=function(){return!0},t.constFalse=function(){return!1},t.constNull=function(){return null},t.constUndefined=function(){},t.constVoid=function(){},t.flip=function(e){return function(t,a){return e(a,t)}},t.flow=function(e,t,a,i,n,s,r,o,l){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return a(t(e.apply(this,arguments)))};case 4:return function(){return i(a(t(e.apply(this,arguments))))};case 5:return function(){return n(i(a(t(e.apply(this,arguments)))))};case 6:return function(){return s(n(i(a(t(e.apply(this,arguments))))))};case 7:return function(){return r(s(n(i(a(t(e.apply(this,arguments)))))))};case 8:return function(){return o(r(s(n(i(a(t(e.apply(this,arguments))))))))};case 9:return function(){return l(o(r(s(n(i(a(t(e.apply(this,arguments)))))))))}}},t.tuple=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},t.increment=function(e){return e+1},t.decrement=function(e){return e-1},t.absurd=n,t.tupled=function(e){return function(t){return e.apply(void 0,t)}},t.untupled=function(e){return function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return e(t)}},t.pipe=function(e,t,a,i,n,s,r,o,l,c,d,u,p,m,g,f,x,b,h,j){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return a(t(e));case 4:return i(a(t(e)));case 5:return n(i(a(t(e))));case 6:return s(n(i(a(t(e)))));case 7:return r(s(n(i(a(t(e))))));case 8:return o(r(s(n(i(a(t(e)))))));case 9:return l(o(r(s(n(i(a(t(e))))))));case 10:return c(l(o(r(s(n(i(a(t(e)))))))));case 11:return d(c(l(o(r(s(n(i(a(t(e))))))))));case 12:return u(d(c(l(o(r(s(n(i(a(t(e)))))))))));case 13:return p(u(d(c(l(o(r(s(n(i(a(t(e))))))))))));case 14:return m(p(u(d(c(l(o(r(s(n(i(a(t(e)))))))))))));case 15:return g(m(p(u(d(c(l(o(r(s(n(i(a(t(e))))))))))))));case 16:return f(g(m(p(u(d(c(l(o(r(s(n(i(a(t(e)))))))))))))));case 17:return x(f(g(m(p(u(d(c(l(o(r(s(n(i(a(t(e))))))))))))))));case 18:return b(x(f(g(m(p(u(d(c(l(o(r(s(n(i(a(t(e)))))))))))))))));case 19:return h(b(x(f(g(m(p(u(d(c(l(o(r(s(n(i(a(t(e))))))))))))))))));case 20:return j(h(b(x(f(g(m(p(u(d(c(l(o(r(s(n(i(a(t(e)))))))))))))))))))}},t.hole=n,t.bind_=function(e,t,a){var i;return Object.assign({},e,((i={})[t]=a,i))},t.bindTo_=function(e){return function(t){var a;return(a={})[e]=t,a}}},function(e,t,a){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(95));function s(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var r="function"==typeof Symbol&&Symbol.observable||"@@observable",o=function(){return Math.random().toString(36).substring(7).split("").join(".")},l={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function c(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function d(e,t){return function(){return t(e.apply(this,arguments))}}function u(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}t.__DO_NOT_USE__ActionTypes=l,t.applyMiddleware=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){return function(){var a=e.apply(void 0,arguments),i=function(){throw new Error(s(15))},r={getState:a.getState,dispatch:function(){return i.apply(void 0,arguments)}},o=t.map((function(e){return e(r)}));return i=u.apply(void 0,o)(a.dispatch),n.default(n.default({},a),{},{dispatch:i})}}},t.bindActionCreators=function(e,t){if("function"==typeof e)return d(e,t);if("object"!=typeof e||null===e)throw new Error(s(16));var a={};for(var i in e){var n=e[i];"function"==typeof n&&(a[i]=d(n,t))}return a},t.combineReducers=function(e){for(var t=Object.keys(e),a={},i=0;i<t.length;i++){var n=t[i];0,"function"==typeof e[n]&&(a[n]=e[n])}var r,o=Object.keys(a);try{!function(e){Object.keys(e).forEach((function(t){var a=e[t];if(void 0===a(void 0,{type:l.INIT}))throw new Error(s(12));if(void 0===a(void 0,{type:l.PROBE_UNKNOWN_ACTION()}))throw new Error(s(13))}))}(a)}catch(e){r=e}return function(e,t){if(void 0===e&&(e={}),r)throw r;for(var i=!1,n={},l=0;l<o.length;l++){var c=o[l],d=a[c],u=e[c],p=d(u,t);if(void 0===p){t&&t.type;throw new Error(s(14))}n[c]=p,i=i||p!==u}return(i=i||o.length!==Object.keys(e).length)?n:e}},t.compose=u,t.createStore=function e(t,a,i){var n;if("function"==typeof a&&"function"==typeof i||"function"==typeof i&&"function"==typeof arguments[3])throw new Error(s(0));if("function"==typeof a&&void 0===i&&(i=a,a=void 0),void 0!==i){if("function"!=typeof i)throw new Error(s(1));return i(e)(t,a)}if("function"!=typeof t)throw new Error(s(2));var o=t,d=a,u=[],p=u,m=!1;function g(){p===u&&(p=u.slice())}function f(){if(m)throw new Error(s(3));return d}function x(e){if("function"!=typeof e)throw new Error(s(4));if(m)throw new Error(s(5));var t=!0;return g(),p.push(e),function(){if(t){if(m)throw new Error(s(6));t=!1,g();var a=p.indexOf(e);p.splice(a,1),u=null}}}function b(e){if(!c(e))throw new Error(s(7));if(void 0===e.type)throw new Error(s(8));if(m)throw new Error(s(9));try{m=!0,d=o(d,e)}finally{m=!1}for(var t=u=p,a=0;a<t.length;a++){(0,t[a])()}return e}function h(e){if("function"!=typeof e)throw new Error(s(10));o=e,b({type:l.REPLACE})}function j(){var e,t=x;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(s(11));function a(){e.next&&e.next(f())}return a(),{unsubscribe:t(a)}}})[r]=function(){return this},e}return b({type:l.INIT}),(n={dispatch:b,subscribe:x,getState:f,replaceReducer:h})[r]=j,n}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;t.default=function(e){return"function"==typeof e}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;t.default=function(e){return"undefined"!=typeof Map&&e instanceof Map}},function(e,t,a){"use strict";const i=a(151),n=a(152),s=a(153);function r(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function o(e,t){return t.encode?t.strict?i(e):encodeURIComponent(e):e}function l(e,t){return t.decode?n(e):e}function c(e){return Array.isArray(e)?e.sort():"object"==typeof e?c(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function d(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function u(e){const t=(e=d(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function m(e,t){r((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const a=function(e){let t;switch(e.arrayFormat){case"index":return(e,a,i)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===i[e]&&(i[e]={}),i[e][t[1]]=a):i[e]=a};case"bracket":return(e,a,i)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==i[e]?i[e]=[].concat(i[e],a):i[e]=[a]:i[e]=a};case"comma":case"separator":return(t,a,i)=>{const n="string"==typeof a&&a.split("").indexOf(e.arrayFormatSeparator)>-1?a.split(e.arrayFormatSeparator).map((t=>l(t,e))):null===a?a:l(a,e);i[t]=n};default:return(e,t,a)=>{void 0!==a[e]?a[e]=[].concat(a[e],t):a[e]=t}}}(t),i=Object.create(null);if("string"!=typeof e)return i;if(!(e=e.trim().replace(/^[?#&]/,"")))return i;for(const n of e.split("&")){let[e,r]=s(t.decode?n.replace(/\+/g," "):n,"=");r=void 0===r?null:["comma","separator"].includes(t.arrayFormat)?r:l(r,t),a(l(e,t),r,i)}for(const e of Object.keys(i)){const a=i[e];if("object"==typeof a&&null!==a)for(const e of Object.keys(a))a[e]=p(a[e],t);else i[e]=p(a,t)}return!1===t.sort?i:(!0===t.sort?Object.keys(i).sort():Object.keys(i).sort(t.sort)).reduce(((e,t)=>{const a=i[t];return Boolean(a)&&"object"==typeof a&&!Array.isArray(a)?e[t]=c(a):e[t]=a,e}),Object.create(null))}t.extract=u,t.parse=m,t.stringify=(e,t)=>{if(!e)return"";r((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const a=a=>t.skipNull&&null==e[a]||t.skipEmptyString&&""===e[a],i=function(e){switch(e.arrayFormat){case"index":return t=>(a,i)=>{const n=a.length;return void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?a:null===i?[...a,[o(t,e),"[",n,"]"].join("")]:[...a,[o(t,e),"[",o(n,e),"]=",o(i,e)].join("")]};case"bracket":return t=>(a,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?a:null===i?[...a,[o(t,e),"[]"].join("")]:[...a,[o(t,e),"[]=",o(i,e)].join("")];case"comma":case"separator":return t=>(a,i)=>null==i||0===i.length?a:0===a.length?[[o(t,e),"=",o(i,e)].join("")]:[[a,o(i,e)].join(e.arrayFormatSeparator)];default:return t=>(a,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?a:null===i?[...a,o(t,e)]:[...a,[o(t,e),"=",o(i,e)].join("")]}}(t),n={};for(const t of Object.keys(e))a(t)||(n[t]=e[t]);const s=Object.keys(n);return!1!==t.sort&&s.sort(t.sort),s.map((a=>{const n=e[a];return void 0===n?"":null===n?o(a,t):Array.isArray(n)?n.reduce(i(a),[]).join("&"):o(a,t)+"="+o(n,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[a,i]=s(e,"#");return Object.assign({url:a.split("?")[0]||"",query:m(u(e),t)},t&&t.parseFragmentIdentifier&&i?{fragmentIdentifier:l(i,t)}:{})},t.stringifyUrl=(e,a)=>{a=Object.assign({encode:!0,strict:!0},a);const i=d(e.url).split("?")[0]||"",n=t.extract(e.url),s=t.parse(n,{sort:!1}),r=Object.assign(s,e.query);let l=t.stringify(r,a);l&&(l=`?${l}`);let c=function(e){let t="";const a=e.indexOf("#");return-1!==a&&(t=e.slice(a)),t}(e.url);return e.fragmentIdentifier&&(c=`#${o(e.fragmentIdentifier,a)}`),`${i}${l}${c}`}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apS=t.apSW=t.bind=t.bindW=t.bindTo=t.exists=t.elem=t.toError=t.either=t.getValidationMonoid=t.MonadThrow=t.ChainRec=t.Extend=t.Alt=t.Bifunctor=t.Traversable=t.Foldable=t.Monad=t.Applicative=t.Functor=t.getValidationSemigroup=t.getValidation=t.getAltValidation=t.getApplicativeValidation=t.getWitherable=t.getFilterable=t.getApplyMonoid=t.getApplySemigroup=t.getSemigroup=t.getEq=t.getShow=t.URI=t.throwError=t.sequence=t.traverse=t.reduceRight=t.foldMap=t.reduce=t.duplicate=t.extend=t.alt=t.flatten=t.chainFirst=t.chainFirstW=t.chain=t.chainW=t.of=t.apSecond=t.apFirst=t.ap=t.apW=t.mapLeft=t.bimap=t.map=t.filterOrElse=t.orElse=t.swap=t.getOrElse=t.getOrElseW=t.fold=t.fromPredicate=t.fromOption=t.stringifyJSON=t.parseJSON=t.tryCatch=t.fromNullable=t.right=t.left=t.isRight=t.isLeft=void 0;var i=a(86),n=a(53);function s(e,a){try{return t.right(e())}catch(e){return t.left(a(e))}}t.isLeft=function(e){return"Left"===e._tag},t.isRight=function(e){return"Right"===e._tag},t.left=function(e){return{_tag:"Left",left:e}},t.right=function(e){return{_tag:"Right",right:e}},t.fromNullable=function(e){return function(a){return null==a?t.left(e):t.right(a)}},t.tryCatch=s,t.parseJSON=function(e,t){return s((function(){return JSON.parse(e)}),t)},t.stringifyJSON=function(e,t){return s((function(){return JSON.stringify(e)}),t)},t.fromOption=function(e){return function(a){return"None"===a._tag?t.left(e()):t.right(a.value)}},t.fromPredicate=function(e,a){return function(i){return e(i)?t.right(i):t.left(a(i))}},t.fold=function(e,a){return function(i){return t.isLeft(i)?e(i.left):a(i.right)}},t.getOrElseW=function(e){return function(a){return t.isLeft(a)?e(a.left):a.right}},t.getOrElse=t.getOrElseW,t.swap=function(e){return t.isLeft(e)?t.right(e.left):t.left(e.right)},t.orElse=function(e){return function(a){return t.isLeft(a)?e(a.left):a}},t.filterOrElse=function(e,a){return t.chain((function(i){return e(i)?t.right(i):t.left(a(i))}))};var r=function(e,a){return n.pipe(e,t.map(a))},o=function(e,a){return n.pipe(e,t.ap(a))},l=function(e,a){return n.pipe(e,t.chain(a))},c=function(e,a,i){return n.pipe(e,t.reduce(a,i))},d=function(e){return function(a,i){var s=t.foldMap(e);return n.pipe(a,s(i))}},u=function(e,a,i){return n.pipe(e,t.reduceRight(a,i))},p=function(e){var a=t.traverse(e);return function(e,t){return n.pipe(e,a(t))}},m=function(e,a,i){return n.pipe(e,t.bimap(a,i))},g=function(e,a){return n.pipe(e,t.mapLeft(a))},f=function(e,a){return n.pipe(e,t.alt(a))},x=function(e,a){return n.pipe(e,t.extend(a))},b=function(e,a){return i.tailRec(a(e),(function(e){return t.isLeft(e)?t.right(t.left(e.left)):t.isLeft(e.right)?t.left(a(e.right.left)):t.right(t.right(e.right.right))}))};function h(e){return{concat:function(a,i){return t.isLeft(a)?a:t.isLeft(i)?i:t.right(e.concat(a.right,i.right))}}}function j(e){var a=t.left(e.empty);return{URI:t.URI,_E:void 0,map:r,compact:function(e){return t.isLeft(e)?e:"None"===e.right._tag?a:t.right(e.right.value)},separate:function(e){return t.isLeft(e)?{left:e,right:e}:t.isLeft(e.right)?{left:t.right(e.right.left),right:a}:{left:a,right:t.right(e.right.right)}},filter:function(e,i){return t.isLeft(e)||i(e.right)?e:a},filterMap:function(e,i){if(t.isLeft(e))return e;var n=i(e.right);return"None"===n._tag?a:t.right(n.value)},partition:function(e,i){return t.isLeft(e)?{left:e,right:e}:i(e.right)?{left:a,right:t.right(e.right)}:{left:t.right(e.right),right:a}},partitionMap:function(e,i){if(t.isLeft(e))return{left:e,right:e};var n=i(e.right);return t.isLeft(n)?{left:t.right(n.left),right:a}:{left:a,right:t.right(n.right)}}}}function M(e){return{URI:t.URI,_E:void 0,map:r,ap:function(a,i){return t.isLeft(a)?t.isLeft(i)?t.left(e.concat(a.left,i.left)):a:t.isLeft(i)?i:t.right(a.right(i.right))},of:t.of}}function y(e){return{URI:t.URI,_E:void 0,map:r,alt:function(a,i){if(t.isRight(a))return a;var n=i();return t.isLeft(n)?t.left(e.concat(a.left,n.left)):n}}}function O(e,a){return{concat:function(i,n){return t.isLeft(i)?t.isLeft(n)?t.left(e.concat(i.left,n.left)):i:t.isLeft(n)?n:t.right(a.concat(i.right,n.right))}}}t.map=function(e){return function(a){return t.isLeft(a)?a:t.right(e(a.right))}},t.bimap=function(e,a){return function(i){return t.isLeft(i)?t.left(e(i.left)):t.right(a(i.right))}},t.mapLeft=function(e){return function(a){return t.isLeft(a)?t.left(e(a.left)):a}},t.apW=function(e){return function(a){return t.isLeft(a)?a:t.isLeft(e)?e:t.right(a.right(e.right))}},t.ap=t.apW,t.apFirst=function(e){return n.flow(t.map((function(e){return function(){return e}})),t.ap(e))},t.apSecond=function(e){return n.flow(t.map((function(){return function(e){return e}})),t.ap(e))},t.of=t.right,t.chainW=function(e){return function(a){return t.isLeft(a)?a:e(a.right)}},t.chain=t.chainW,t.chainFirstW=function(e){return function(a){return n.pipe(a,t.chainW((function(a){return n.pipe(e(a),t.map((function(){return a})))})))}},t.chainFirst=t.chainFirstW,t.flatten=t.chain(n.identity),t.alt=function(e){return function(a){return t.isLeft(a)?e():a}},t.extend=function(e){return function(a){return t.isLeft(a)?a:t.right(e(a))}},t.duplicate=t.extend(n.identity),t.reduce=function(e,a){return function(i){return t.isLeft(i)?e:a(e,i.right)}},t.foldMap=function(e){return function(a){return function(i){return t.isLeft(i)?e.empty:a(i.right)}}},t.reduceRight=function(e,a){return function(i){return t.isLeft(i)?e:a(i.right,e)}},t.traverse=function(e){return function(a){return function(i){return t.isLeft(i)?e.of(t.left(i.left)):e.map(a(i.right),t.right)}}},t.sequence=function(e){return function(a){return t.isLeft(a)?e.of(t.left(a.left)):e.map(a.right,t.right)}},t.throwError=t.left,t.URI="Either",t.getShow=function(e,a){return{show:function(i){return t.isLeft(i)?"left("+e.show(i.left)+")":"right("+a.show(i.right)+")"}}},t.getEq=function(e,a){return{equals:function(i,n){return i===n||(t.isLeft(i)?t.isLeft(n)&&e.equals(i.left,n.left):t.isRight(n)&&a.equals(i.right,n.right))}}},t.getSemigroup=function(e){return{concat:function(a,i){return t.isLeft(i)?a:t.isLeft(a)?i:t.right(e.concat(a.right,i.right))}}},t.getApplySemigroup=h,t.getApplyMonoid=function(e){return{concat:h(e).concat,empty:t.right(e.empty)}},t.getFilterable=j,t.getWitherable=function(e){var a=j(e);return{URI:t.URI,_E:void 0,map:r,compact:a.compact,separate:a.separate,filter:a.filter,filterMap:a.filterMap,partition:a.partition,partitionMap:a.partitionMap,traverse:p,sequence:t.sequence,reduce:c,foldMap:d,reduceRight:u,wither:function(e){var t=p(e);return function(i,n){return e.map(t(i,n),a.compact)}},wilt:function(e){var t=p(e);return function(i,n){return e.map(t(i,n),a.separate)}}}},t.getApplicativeValidation=M,t.getAltValidation=y,t.getValidation=function(e){var a=M(e),i=y(e);return{URI:t.URI,_E:void 0,map:r,of:t.of,chain:l,bimap:m,mapLeft:g,reduce:c,foldMap:d,reduceRight:u,extend:x,traverse:p,sequence:t.sequence,chainRec:b,throwError:t.throwError,ap:a.ap,alt:i.alt}},t.getValidationSemigroup=O,t.Functor={URI:t.URI,map:r},t.Applicative={URI:t.URI,map:r,ap:o,of:t.of},t.Monad={URI:t.URI,map:r,ap:o,of:t.of,chain:l},t.Foldable={URI:t.URI,reduce:c,foldMap:d,reduceRight:u},t.Traversable={URI:t.URI,map:r,reduce:c,foldMap:d,reduceRight:u,traverse:p,sequence:t.sequence},t.Bifunctor={URI:t.URI,bimap:m,mapLeft:g},t.Alt={URI:t.URI,map:r,alt:f},t.Extend={URI:t.URI,map:r,extend:x},t.ChainRec={URI:t.URI,map:r,ap:o,chain:l,chainRec:b},t.MonadThrow={URI:t.URI,map:r,ap:o,of:t.of,chain:l,throwError:t.throwError},t.getValidationMonoid=function(e,a){return{concat:O(e,a).concat,empty:t.right(a.empty)}},t.either={URI:t.URI,map:r,of:t.of,ap:o,chain:l,reduce:c,foldMap:d,reduceRight:u,traverse:p,sequence:t.sequence,bimap:m,mapLeft:g,alt:f,extend:x,chainRec:b,throwError:t.throwError},t.toError=function(e){return e instanceof Error?e:new Error(String(e))},t.elem=function(e){return function(a,i){return!t.isLeft(i)&&e.equals(a,i.right)}},t.exists=function(e){return function(a){return!t.isLeft(a)&&e(a.right)}},t.bindTo=function(e){return t.map(n.bindTo_(e))},t.bindW=function(e,a){return t.chainW((function(i){return n.pipe(a(i),t.map((function(t){return n.bind_(i,e,t)})))}))},t.bind=t.bindW,t.apSW=function(e,a){return n.flow(t.map((function(t){return function(a){return n.bind_(t,e,a)}})),t.apW(a))},t.apS=t.apSW},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var i=a(69),n={notify:function(){}};var s=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=n,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){var e,t,a;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=(e=(0,i.getBatch)(),t=null,a=null,{clear:function(){t=null,a=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],a=t;a;)e.push(a),a=a.next;return e},subscribe:function(e){var i=!0,n=a={callback:e,next:null,prev:a};return n.prev?n.prev.next=n:t=n,function(){i&&null!==t&&(i=!1,n.next?n.next.prev=n.prev:a=n.prev,n.prev?n.prev.next=n.next:t=n.next)}}}))},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=n)},e}();t.default=s},function(e,t,a){e.exports=a(5)(1076)},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e,t,a){void 0===t&&(t=s.default);(0,i.default)((0,n.default)(t)||(0,r.default)(t),"Expected payloadCreator to be a function, undefined or null");var o=(0,r.default)(t)||t===s.default?s.default:function(e){for(var a=arguments.length,i=new Array(a>1?a-1:0),n=1;n<a;n++)i[n-1]=arguments[n];return e instanceof Error?e:t.apply(void 0,[e].concat(i))},l=(0,n.default)(a),c=e.toString(),d=function(){var t=o.apply(void 0,arguments),i={type:e};return t instanceof Error&&(i.error=!0),void 0!==t&&(i.payload=t),l&&(i.meta=a.apply(void 0,arguments)),i};return d.toString=function(){return c},d};var i=o(a(50)),n=o(a(55)),s=o(a(62)),r=o(a(133));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;t.default=function(e){return e}},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e){if((0,n.default)(e))return Array.from(e.keys());if("undefined"!=typeof Reflect&&"function"==typeof Reflect.ownKeys)return Reflect.ownKeys(e);var t=Object.getOwnPropertyNames(e);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e)));return t};var i,n=(i=a(56))&&i.__esModule?i:{default:i}},function(e,t,a){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),s=this&&this.__assign||function(){return(s=Object.assign||function(e){for(var t,a=1,i=arguments.length;a<i;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=a(58),o=r.either.map,l=r.either.chain,c=function(){function e(e,t,a,i){this.name=e,this.is=t,this.validate=a,this.encode=i,this.decode=this.decode.bind(this)}return e.prototype.pipe=function(a,i){var n=this;return void 0===i&&(i="pipe("+this.name+", "+a.name+")"),new e(i,a.is,(function(e,t){return l(n.validate(e,t),(function(e){return a.validate(e,t)}))}),this.encode===t.identity&&a.encode===t.identity?t.identity:function(e){return n.encode(a.encode(e))})},e.prototype.asDecoder=function(){return this},e.prototype.asEncoder=function(){return this},e.prototype.decode=function(e){return this.validate(e,[{key:"",type:this,actual:e}])},e}();t.Type=c,t.identity=function(e){return e},t.getFunctionName=function(e){return e.displayName||e.name||"<function"+e.length+">"},t.getContextEntry=function(e,t){return{key:e,type:t}},t.appendContext=function(e,t,a,i){for(var n=e.length,s=Array(n+1),r=0;r<n;r++)s[r]=e[r];return s[n]={key:t,type:a,actual:i},s},t.failures=r.left,t.failure=function(e,a,i){return t.failures([{value:e,context:a,message:i}])},t.success=r.right;var d=function(e,t){for(var a=t.length,i=0;i<a;i++)e.push(t[i])},u=function(e){return function(t){return t._tag===e}},p=u("AnyType"),m=u("InterfaceType"),g=u("PartialType"),f=function(e){function a(){var a=e.call(this,"null",(function(e){return null===e}),(function(e,i){return a.is(e)?t.success(e):t.failure(e,i)}),t.identity)||this;return a._tag="NullType",a}return n(a,e),a}(c);t.NullType=f,t.nullType=new f,t.null=t.nullType;var x=function(e){function a(){var a=e.call(this,"undefined",(function(e){return void 0===e}),(function(e,i){return a.is(e)?t.success(e):t.failure(e,i)}),t.identity)||this;return a._tag="UndefinedType",a}return n(a,e),a}(c);t.UndefinedType=x;var b=new x;t.undefined=b;var h=function(e){function a(){var a=e.call(this,"void",b.is,b.validate,t.identity)||this;return a._tag="VoidType",a}return n(a,e),a}(c);t.VoidType=h,t.voidType=new h,t.void=t.voidType;var j=function(e){function a(){var a=e.call(this,"unknown",(function(e){return!0}),t.success,t.identity)||this;return a._tag="UnknownType",a}return n(a,e),a}(c);t.UnknownType=j,t.unknown=new j;var M=function(e){function a(){var a=e.call(this,"string",(function(e){return"string"==typeof e}),(function(e,i){return a.is(e)?t.success(e):t.failure(e,i)}),t.identity)||this;return a._tag="StringType",a}return n(a,e),a}(c);t.StringType=M,t.string=new M;var y=function(e){function a(){var a=e.call(this,"number",(function(e){return"number"==typeof e}),(function(e,i){return a.is(e)?t.success(e):t.failure(e,i)}),t.identity)||this;return a._tag="NumberType",a}return n(a,e),a}(c);t.NumberType=y,t.number=new y;var O=function(e){function a(){var a=e.call(this,"boolean",(function(e){return"boolean"==typeof e}),(function(e,i){return a.is(e)?t.success(e):t.failure(e,i)}),t.identity)||this;return a._tag="BooleanType",a}return n(a,e),a}(c);t.BooleanType=O,t.boolean=new O;var v=function(e){function a(){var a=e.call(this,"UnknownArray",Array.isArray,(function(e,i){return a.is(e)?t.success(e):t.failure(e,i)}),t.identity)||this;return a._tag="AnyArrayType",a}return n(a,e),a}(c);t.AnyArrayType=v,t.UnknownArray=new v,t.Array=t.UnknownArray;var T=function(e){function a(){var a=e.call(this,"UnknownRecord",(function(e){return"[object Object]"===Object.prototype.toString.call(e)}),(function(e,i){return a.is(e)?t.success(e):t.failure(e,i)}),t.identity)||this;return a._tag="AnyDictionaryType",a}return n(a,e),a}(c);t.AnyDictionaryType=T,t.UnknownRecord=new T;var E=function(e){function a(){var a=e.call(this,"Function",(function(e){return"function"==typeof e}),(function(e,i){return a.is(e)?t.success(e):t.failure(e,i)}),t.identity)||this;return a._tag="FunctionType",a}return n(a,e),a}(c);t.FunctionType=E,t.Function=new E;var k=function(e){function t(t,a,i,n,s,r){var o=e.call(this,t,a,i,n)||this;return o.type=s,o.predicate=r,o._tag="RefinementType",o}return n(t,e),t}(c);t.RefinementType=k,t.brand=function(e,t,a){return Q(e,t,a)},t.Int=t.brand(t.number,(function(e){return Number.isInteger(e)}),"Int");var F=function(e){function t(t,a,i,n,s){var r=e.call(this,t,a,i,n)||this;return r.value=s,r._tag="LiteralType",r}return n(t,e),t}(c);t.LiteralType=F,t.literal=function(e,a){void 0===a&&(a=JSON.stringify(e));var i=function(t){return t===e};return new F(a,i,(function(a,n){return i(a)?t.success(e):t.failure(a,n)}),t.identity,e)};var _=function(e){function t(t,a,i,n,s){var r=e.call(this,t,a,i,n)||this;return r.keys=s,r._tag="KeyofType",r}return n(t,e),t}(c);t.KeyofType=_;var S=Object.prototype.hasOwnProperty;t.keyof=function(e,a){void 0===a&&(a=Object.keys(e).map((function(e){return JSON.stringify(e)})).join(" | "));var i=function(a){return t.string.is(a)&&S.call(e,a)};return new _(a,i,(function(e,a){return i(e)?t.success(e):t.failure(e,a)}),t.identity,e)};var C=function(e){function t(t,a,i,n,s){var r=e.call(this,t,a,i,n)||this;return r.runDefinition=s,r._tag="RecursiveType",r}return n(t,e),t}(c);t.RecursiveType=C,Object.defineProperty(C.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0}),t.recursion=function(e,t){var a,i=function(){return a||((a=t(n)).name=e),a},n=new C(e,(function(e){return i().is(e)}),(function(e,t){return i().validate(e,t)}),(function(e){return i().encode(e)}),i);return n};var L=function(e){function t(t,a,i,n,s){var r=e.call(this,t,a,i,n)||this;return r.type=s,r._tag="ArrayType",r}return n(t,e),t}(c);t.ArrayType=L,t.array=function(e,a){return void 0===a&&(a="Array<"+e.name+">"),new L(a,(function(a){return t.UnknownArray.is(a)&&a.every(e.is)}),(function(a,i){return l(t.UnknownArray.validate(a,i),(function(a){for(var n=a.length,s=a,o=[],l=0;l<n;l++){var c=a[l],u=e.validate(c,t.appendContext(i,String(l),e,c));if(r.isLeft(u))d(o,u.left);else{var p=u.right;p!==c&&(s===a&&(s=a.slice()),s[l]=p)}}return o.length>0?t.failures(o):t.success(s)}))}),e.encode===t.identity?t.identity:function(t){return t.map(e.encode)},e)};var w=function(e){function t(t,a,i,n,s){var r=e.call(this,t,a,i,n)||this;return r.props=s,r._tag="InterfaceType",r}return n(t,e),t}(c);t.InterfaceType=w;var I=function(e){return Object.keys(e).map((function(t){return t+": "+e[t].name})).join(", ")},D=function(e){for(var a=0;a<e.length;a++)if(e[a].encode!==t.identity)return!1;return!0},P=function(e){return"{ "+I(e)+" }"};t.type=function(e,a){void 0===a&&(a=P(e));var i=Object.keys(e),n=i.map((function(t){return e[t]})),o=i.length;return new w(a,(function(e){if(t.UnknownRecord.is(e)){for(var a=0;a<o;a++){var s=i[a];if(!S.call(e,s)||!n[a].is(e[s]))return!1}return!0}return!1}),(function(e,a){return l(t.UnknownRecord.validate(e,a),(function(e){for(var l=e,c=[],u=0;u<o;u++){var p=i[u];S.call(l,p)||(l===e&&(l=s({},e)),l[p]=l[p]);var m=l[p],g=n[u],f=g.validate(m,t.appendContext(a,p,g,m));if(r.isLeft(f))d(c,f.left);else{var x=f.right;x!==m&&(l===e&&(l=s({},e)),l[p]=x)}}return c.length>0?t.failures(c):t.success(l)}))}),D(n)?t.identity:function(e){for(var a=s({},e),r=0;r<o;r++){var l=i[r],c=n[r].encode;c!==t.identity&&(a[l]=c(e[l]))}return a},e)},t.interface=t.type;var N=function(e){function t(t,a,i,n,s){var r=e.call(this,t,a,i,n)||this;return r.props=s,r._tag="PartialType",r}return n(t,e),t}(c);t.PartialType=N;var A=function(e){return"Partial<"+e+">"};t.partial=function(e,a){void 0===a&&(a=A(P(e)));var i=Object.keys(e),n=i.map((function(t){return e[t]})),o=i.length;return new N(a,(function(a){if(t.UnknownRecord.is(a)){for(var n=0;n<o;n++){var s=i[n],r=a[s];if(void 0!==r&&!e[s].is(r))return!1}return!0}return!1}),(function(a,n){return l(t.UnknownRecord.validate(a,n),(function(a){for(var l=a,c=[],u=0;u<o;u++){var p=i[u],m=l[p],g=e[p],f=g.validate(m,t.appendContext(n,p,g,m));if(r.isLeft(f))void 0!==m&&d(c,f.left);else{var x=f.right;x!==m&&(l===a&&(l=s({},a)),l[p]=x)}}return c.length>0?t.failures(c):t.success(l)}))}),D(n)?t.identity:function(e){for(var t=s({},e),a=0;a<o;a++){var r=i[a],l=e[r];void 0!==l&&(t[r]=n[a].encode(l))}return t},e)};var R=function(e){function t(t,a,i,n,s,r){var o=e.call(this,t,a,i,n)||this;return o.domain=s,o.codomain=r,o._tag="DictionaryType",o}return n(t,e),t}(c);t.DictionaryType=R,t.record=function(e,a,i){return void 0===i&&(i="{ [K in "+e.name+"]: "+a.name+" }"),new R(i,(function(i){return t.UnknownRecord.is(i)?Object.keys(i).every((function(t){return e.is(t)&&a.is(i[t])})):p(a)&&Array.isArray(i)}),(function(i,n){if(t.UnknownRecord.is(i)){for(var s={},o=[],l=Object.keys(i),c=l.length,u=!1,m=0;m<c;m++){var g=l[m],f=i[g],x=e.validate(g,t.appendContext(n,g,e,g));if(r.isLeft(x))d(o,x.left);else{var b=x.right;u=u||b!==g,g=b;var h=a.validate(f,t.appendContext(n,g,a,f));if(r.isLeft(h))d(o,h.left);else{var j=h.right;u=u||j!==f,s[g]=j}}}return o.length>0?t.failures(o):t.success(u?s:i)}return p(a)&&Array.isArray(i)?t.success(i):t.failure(i,n)}),e.encode===t.identity&&a.encode===t.identity?t.identity:function(t){for(var i={},n=Object.keys(t),s=n.length,r=0;r<s;r++){var o=n[r];i[String(e.encode(o))]=a.encode(t[o])}return i},e,a)};var z=function(e){function t(t,a,i,n,s){var r=e.call(this,t,a,i,n)||this;return r.types=s,r._tag="UnionType",r}return n(t,e),t}(c);t.UnionType=z;var B=function(e){return"("+e.map((function(e){return e.name})).join(" | ")+")"};t.union=function(e,a){void 0===a&&(a=B(e));var i=se(e);if(void 0!==i&&e.length>0){var n=i[0],s=i[1],o=s.length,c=function(e){for(var t=0;t<o;t++)if(-1!==s[t].indexOf(e))return t};return new H(a,(function(a){if(t.UnknownRecord.is(a)){var i=c(a[n]);return void 0!==i&&e[i].is(a)}return!1}),(function(a,i){return l(t.UnknownRecord.validate(a,i),(function(s){var r=c(s[n]);if(void 0===r)return t.failure(a,i);var o=e[r];return o.validate(s,t.appendContext(i,String(r),o,s))}))}),D(e)?t.identity:function(t){var i=c(t[n]);if(void 0===i)throw new Error("no codec found to encode value in union codec "+a);return e[i].encode(t)},e,n)}return new z(a,(function(t){return e.some((function(e){return e.is(t)}))}),(function(a,i){for(var n=[],s=0;s<e.length;s++){var o=e[s],l=o.validate(a,t.appendContext(i,String(s),o,a));if(!r.isLeft(l))return t.success(l.right);d(n,l.left)}return t.failures(n)}),D(e)?t.identity:function(t){for(var i=0,n=e;i<n.length;i++){var s=n[i];if(s.is(t))return s.encode(t)}throw new Error("no codec found to encode value in union type "+a)},e)};var V=function(e){function t(t,a,i,n,s){var r=e.call(this,t,a,i,n)||this;return r.types=s,r._tag="IntersectionType",r}return n(t,e),t}(c);t.IntersectionType=V;var U=function(e,a){for(var i=!0,n=!0,s=0,r=a;s<r.length;s++){(d=r[s])!==e&&(i=!1),t.UnknownRecord.is(d)&&(n=!1)}if(i)return e;if(n)return a[a.length-1];for(var o={},l=0,c=a;l<c.length;l++){var d=c[l];for(var u in d)d[u]===e[u]&&o.hasOwnProperty(u)||(o[u]=d[u])}return o};t.intersection=function(e,a){void 0===a&&(a="("+e.map((function(e){return e.name})).join(" & ")+")");var i=e.length;return new V(a,(function(t){return e.every((function(e){return e.is(t)}))}),0===e.length?t.success:function(a,n){for(var s=[],o=[],l=0;l<i;l++){var c=e[l],u=c.validate(a,t.appendContext(n,String(l),c,a));r.isLeft(u)?d(o,u.left):s.push(u.right)}return o.length>0?t.failures(o):t.success(U(a,s))},0===e.length?t.identity:function(t){return U(t,e.map((function(e){return e.encode(t)})))},e)};var q=function(e){function t(t,a,i,n,s){var r=e.call(this,t,a,i,n)||this;return r.types=s,r._tag="TupleType",r}return n(t,e),t}(c);t.TupleType=q,t.tuple=function(e,a){void 0===a&&(a="["+e.map((function(e){return e.name})).join(", ")+"]");var i=e.length;return new q(a,(function(a){return t.UnknownArray.is(a)&&a.length===i&&e.every((function(e,t){return e.is(a[t])}))}),(function(a,n){return l(t.UnknownArray.validate(a,n),(function(a){for(var s=a.length>i?a.slice(0,i):a,o=[],l=0;l<i;l++){var c=a[l],u=e[l],p=u.validate(c,t.appendContext(n,String(l),u,c));if(r.isLeft(p))d(o,p.left);else{var m=p.right;m!==c&&(s===a&&(s=a.slice()),s[l]=m)}}return o.length>0?t.failures(o):t.success(s)}))}),D(e)?t.identity:function(t){return e.map((function(e,a){return e.encode(t[a])}))},e)};var $=function(e){function t(t,a,i,n,s){var r=e.call(this,t,a,i,n)||this;return r.type=s,r._tag="ReadonlyType",r}return n(t,e),t}(c);t.ReadonlyType=$,t.readonly=function(e,a){return void 0===a&&(a="Readonly<"+e.name+">"),new $(a,e.is,(function(t,a){return o(e.validate(t,a),(function(e){return e}))}),e.encode===t.identity?t.identity:e.encode,e)};var W=function(e){function t(t,a,i,n,s){var r=e.call(this,t,a,i,n)||this;return r.type=s,r._tag="ReadonlyArrayType",r}return n(t,e),t}(c);t.ReadonlyArrayType=W,t.readonlyArray=function(e,a){void 0===a&&(a="ReadonlyArray<"+e.name+">");var i=t.array(e);return new W(a,i.is,(function(e,t){return o(i.validate(e,t),(function(e){return e}))}),i.encode,e)},t.strict=function(e,a){return t.exact(t.type(e),a)};var H=function(e){function t(t,a,i,n,s,r){var o=e.call(this,t,a,i,n,s)||this;return o.tag=r,o}return n(t,e),t}(z);t.TaggedUnionType=H,t.taggedUnion=function(e,a,i){void 0===i&&(i=B(a));var n=t.union(a,i);return n instanceof H?n:(console.warn("[io-ts] Cannot build a tagged union for "+i+", returning a de-optimized union"),new H(i,n.is,n.validate,n.encode,a,e))};var G=function(e){function t(t,a,i,n,s){var r=e.call(this,t,a,i,n)||this;return r.type=s,r._tag="ExactType",r}return n(t,e),t}(c);t.ExactType=G;var J=function(e){switch(e._tag){case"RefinementType":case"ReadonlyType":return J(e.type);case"InterfaceType":case"StrictType":case"PartialType":return e.props;case"IntersectionType":return e.types.reduce((function(e,t){return Object.assign(e,J(t))}),{})}},Y=function(e,t){for(var a=Object.getOwnPropertyNames(e),i=!1,n={},s=0;s<a.length;s++){var r=a[s];S.call(t,r)?n[r]=e[r]:i=!0}return i?n:e};t.exact=function(e,a){void 0===a&&(a=function(e){return m(e)?"{| "+I(e.props)+" |}":g(e)?A("{| "+I(e.props)+" |}"):"Exact<"+e.name+">"}(e));var i=J(e);return new G(a,e.is,(function(a,n){return l(t.UnknownRecord.validate(a,n),(function(){return o(e.validate(a,n),(function(e){return Y(e,i)}))}))}),(function(t){return e.encode(Y(t,i))}),e)},t.getValidationError=function(e,t){return{value:e,context:t}},t.getDefaultContext=function(e){return[{key:"",type:e}]};var K=function(e){function a(){var a=e.call(this,"never",(function(e){return!1}),(function(e,a){return t.failure(e,a)}),(function(){throw new Error("cannot encode never")}))||this;return a._tag="NeverType",a}return n(a,e),a}(c);t.NeverType=K,t.never=new K;var X=function(e){function a(){var a=e.call(this,"any",(function(e){return!0}),t.success,t.identity)||this;return a._tag="AnyType",a}return n(a,e),a}(c);t.AnyType=X,t.any=new X,t.Dictionary=t.UnknownRecord;var Z=function(e){function a(){var a=e.call(this,"object",(function(e){return null!==e&&"object"==typeof e}),(function(e,i){return a.is(e)?t.success(e):t.failure(e,i)}),t.identity)||this;return a._tag="ObjectType",a}return n(a,e),a}(c);function Q(e,a,i){return void 0===i&&(i="("+e.name+" | "+t.getFunctionName(a)+")"),new k(i,(function(t){return e.is(t)&&a(t)}),(function(i,n){return l(e.validate(i,n),(function(e){return a(e)?t.success(e):t.failure(e,n)}))}),e.encode,e,a)}t.ObjectType=Z,t.object=new Z,t.refinement=Q,t.Integer=Q(t.number,Number.isInteger,"Integer"),t.dictionary=t.record;var ee=function(e){function t(t,a,i,n,s){var r=e.call(this,t,a,i,n)||this;return r.props=s,r._tag="StrictType",r}return n(t,e),t}(c);t.StrictType=ee,t.clean=function(e){return e},t.alias=function(e){return function(){return e}};function te(e,t){for(var a=[],i=0,n=e;i<n.length;i++){var s=n[i];-1!==t.indexOf(s)&&a.push(s)}return a}function ae(e){return"LiteralType"===e._tag}t.emptyTags={};var ie=[];function ne(e){if(-1!==ie.indexOf(e))return t.emptyTags;if(function(e){return"InterfaceType"===e._tag}(e)||function(e){return"StrictType"===e._tag}(e)){var a=t.emptyTags;for(var i in e.props){var n=e.props[i];ae(n)&&(a===t.emptyTags&&(a={}),a[i]=[n.value])}return a}if(function(e){return"ExactType"===e._tag}(e)||function(e){return"RefinementType"===e._tag}(e))return ne(e.type);if(function(e){return"IntersectionType"===e._tag}(e))return e.types.reduce((function(e,a){return function(e,a){if(e===t.emptyTags)return a;if(a===t.emptyTags)return e;var i=Object.assign({},e);for(var n in a)if(e.hasOwnProperty(n)){var s=te(e[n],a[n]);if(!(s.length>0)){i=t.emptyTags;break}i[n]=s}else i[n]=a[n];return i}(e,ne(a))}),t.emptyTags);if(function(e){return"UnionType"===e._tag}(e))return e.types.slice(1).reduce((function(e,a){return function(e,a){if(e===t.emptyTags||a===t.emptyTags)return t.emptyTags;var i=t.emptyTags;for(var n in e)a.hasOwnProperty(n)&&0===te(e[n],a[n]).length&&(i===t.emptyTags&&(i={}),i[n]=e[n].concat(a[n]));return i}(e,ne(a))}),ne(e.types[0]));if(function(e){return"RecursiveType"===e._tag}(e)){ie.push(e);var s=ne(e.type);return ie.pop(),s}return t.emptyTags}function se(e){var t=ne(e[0]),a=Object.keys(t),i=e.length,n=function(a){for(var n=t[a].slice(),s=[t[a]],r=1;r<i;r++){var o=ne(e[r])[a];if(void 0===o)return"continue-keys";if(o.some((function(e){return-1!==n.indexOf(e)})))return"continue-keys";n.push.apply(n,o),s.push(o)}return{value:[a,s]}};e:for(var s=0,r=a;s<r.length;s++){var o=n(r[s]);if("object"==typeof o)return o.value;switch(o){case"continue-keys":continue e}}}t.getTags=ne,t.getIndex=se},function(e,t){var a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(a){var i=new Uint8Array(16);e.exports=function(){return a(i),i}}else{var n=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}}},function(e,t){for(var a=[],i=0;i<256;++i)a[i]=(i+256).toString(16).substr(1);e.exports=function(e,t){var i=t||0,n=a;return[n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]]].join("")}},function(e,t,a){e.exports=a(5)(2389)},function(e,t,a){e.exports=a(5)(7)},function(e,t,a){"use strict";t.__esModule=!0,t.getBatch=t.setBatch=void 0;var i=function(e){e()};t.setBatch=function(e){return i=e};t.getBatch=function(){return i}},function(e,t,a){"use strict";var i=a(67),n=a(47);t.__esModule=!0,t.default=function(e,t){void 0===t&&(t={});var a=t,i=a.getDisplayName,n=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,u=a.methodName,M=void 0===u?"connectAdvanced":u,y=a.renderCountProp,O=void 0===y?void 0:y,v=a.shouldHandleStateChanges,T=void 0===v||v,E=a.storeKey,k=void 0===E?"store":E,F=(a.withRef,a.forwardRef),_=void 0!==F&&F,S=a.context,C=void 0===S?p.ReactReduxContext:S,L=(0,r.default)(a,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);0;var w=C;return function(t){var a=t.displayName||t.name||"Component",i=n(a),u=(0,s.default)({},L,{getDisplayName:n,methodName:M,renderCountProp:O,shouldHandleStateChanges:T,storeKey:k,displayName:i,wrappedComponentName:a,WrappedComponent:t}),p=L.pure;var y=p?l.useMemo:function(e){return e()};function v(a){var i=(0,l.useMemo)((function(){var e=a.forwardedRef,t=(0,r.default)(a,["forwardedRef"]);return[a.context,e,t]}),[a]),n=i[0],o=i[1],p=i[2],M=(0,l.useMemo)((function(){return n&&n.Consumer&&(0,c.isContextConsumer)(l.default.createElement(n.Consumer,null))?n:w}),[n,w]),O=(0,l.useContext)(M),v=Boolean(a.store)&&Boolean(a.store.getState)&&Boolean(a.store.dispatch);Boolean(O)&&Boolean(O.store);var E=v?a.store:O.store,k=(0,l.useMemo)((function(){return function(t){return e(t.dispatch,u)}(E)}),[E]),F=(0,l.useMemo)((function(){if(!T)return g;var e=new d.default(E,v?null:O.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[E,v,O]),_=F[0],S=F[1],C=(0,l.useMemo)((function(){return v?O:(0,s.default)({},O,{subscription:_})}),[v,O,_]),L=(0,l.useReducer)(f,m,j),I=L[0][0],D=L[1];if(I&&I.error)throw I.error;var P=(0,l.useRef)(),N=(0,l.useRef)(p),A=(0,l.useRef)(),R=(0,l.useRef)(!1),z=y((function(){return A.current&&p===N.current?A.current:k(E.getState(),p)}),[E,I,p]);x(b,[N,P,R,p,z,A,S]),x(h,[T,E,_,k,N,P,R,A,S,D],[E,_,k]);var B=(0,l.useMemo)((function(){return l.default.createElement(t,(0,s.default)({},z,{ref:o}))}),[o,t,z]);return(0,l.useMemo)((function(){return T?l.default.createElement(M.Provider,{value:C},B):B}),[M,B,C])}var E=p?l.default.memo(v):v;if(E.WrappedComponent=t,E.displayName=i,_){var F=l.default.forwardRef((function(e,t){return l.default.createElement(E,(0,s.default)({},e,{forwardedRef:t}))}));return F.displayName=i,F.WrappedComponent=t,(0,o.default)(F,t)}return(0,o.default)(E,t)}};var s=n(a(46)),r=n(a(60)),o=n(a(91)),l=i(a(26)),c=a(92),d=n(a(59)),u=a(71),p=a(49),m=[],g=[null,null];function f(e,t){var a=e[1];return[t.payload,a+1]}function x(e,t,a){(0,u.useIsomorphicLayoutEffect)((function(){return e.apply(void 0,t)}),a)}function b(e,t,a,i,n,s,r){e.current=i,t.current=n,a.current=!1,s.current&&(s.current=null,r())}function h(e,t,a,i,n,s,r,o,l,c){if(e){var d=!1,u=null,p=function(){if(!d){var e,a,p=t.getState();try{e=i(p,n.current)}catch(e){a=e,u=e}a||(u=null),e===s.current?r.current||l():(s.current=e,o.current=e,r.current=!0,c({type:"STORE_UPDATED",payload:{error:a}}))}};a.onStateChange=p,a.trySubscribe(),p();return function(){if(d=!0,a.tryUnsubscribe(),a.onStateChange=null,u)throw u}}}var j=function(){return[null,0]}},function(e,t,a){"use strict";t.__esModule=!0,t.useIsomorphicLayoutEffect=void 0;var i=a(26),n="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?i.useLayoutEffect:i.useEffect;t.useIsomorphicLayoutEffect=n},function(e,t,a){"use strict";function i(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}t.__esModule=!0,t.default=function(e,t){if(i(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(var s=0;s<a.length;s++)if(!Object.prototype.hasOwnProperty.call(t,a[s])||!i(e[a[s]],t[a[s]]))return!1;return!0}},function(e,t,a){"use strict";var i=a(47);t.__esModule=!0,t.wrapMapToPropsConstant=function(e){return function(t,a){var i=e(t,a);function n(){return i}return n.dependsOnOwnProps=!1,n}},t.getDependsOnOwnProps=n,t.wrapMapToPropsFunc=function(e,t){return function(t,a){a.displayName;var i=function(e,t){return i.dependsOnOwnProps?i.mapToProps(e,t):i.mapToProps(e)};return i.dependsOnOwnProps=!0,i.mapToProps=function(t,a){i.mapToProps=e,i.dependsOnOwnProps=n(e);var s=i(t,a);return"function"==typeof s&&(i.mapToProps=s,i.dependsOnOwnProps=n(s),s=i(t,a)),s},i}};i(a(74));function n(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}},function(e,t,a){"use strict";var i=a(47);t.__esModule=!0,t.default=function(e,t,a){(0,n.default)(e)||(0,s.default)(a+"() in "+t+" must return a plain object. Instead received "+e+".")};var n=i(a(96)),s=i(a(75))},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}},function(e,t,a){"use strict";t.__esModule=!0,t.createStoreHook=r,t.useStore=void 0;var i=a(26),n=a(49),s=a(77);function r(e){void 0===e&&(e=n.ReactReduxContext);var t=e===n.ReactReduxContext?s.useReduxContext:function(){return(0,i.useContext)(e)};return function(){return t().store}}var o=r();t.useStore=o},function(e,t,a){"use strict";t.__esModule=!0,t.useReduxContext=function(){0;return(0,i.useContext)(n.ReactReduxContext)};var i=a(26),n=a(49)},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;t.default=function(e){return 0===e.length}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;t.default=function(e){return e.toString()}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;t.default=function(e){return"string"==typeof e}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;t.default=function(e){return null==e}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var i,n=(i=a(137))&&i.__esModule?i:{default:i};t.default=function(e){return-1===e.indexOf("/")?(0,n.default)(e):e.split("/").map(n.default).join("/")}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var i=a(51),n=r(a(63)),s=r(a(84));function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function t(a,r,o,l){var c=void 0===r?{}:r,d=c.namespace,u=void 0===d?i.DEFAULT_NAMESPACE:d,p=c.prefix;return void 0===o&&(o={}),void 0===l&&(l=""),(0,n.default)(a).forEach((function(n){var r=function(e){return l||!p||p&&new RegExp("^"+p+u).test(e)?e:""+p+u+e}(function(e){var t;if(!l)return e;var a=e.toString().split(i.ACTION_TYPE_DELIMITER),n=l.split(i.ACTION_TYPE_DELIMITER);return(t=[]).concat.apply(t,n.map((function(e){return a.map((function(t){return""+e+u+t}))}))).join(i.ACTION_TYPE_DELIMITER)}(n)),c=(0,s.default)(n,a);e(c)?t(c,{namespace:u,prefix:p},o,r):o[r]=c})),o}}},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e,t){return(0,n.default)(t)?t.get(e):t[e]};var i,n=(i=a(56))&&i.__esModule?i:{default:i}},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e,t,a){void 0===t&&(t=r.default);var u=(0,c.default)(e).split(d.ACTION_TYPE_DELIMITER);(0,i.default)(!(0,l.default)(a),"defaultState for reducer handling "+u.join(", ")+" should be defined"),(0,i.default)((0,n.default)(t)||(0,s.default)(t),"Expected reducer to be a function or object with next and throw reducers");var p=(0,n.default)(t)?[t,t]:[t.next,t.throw].map((function(e){return(0,o.default)(e)?r.default:e})),m=p[0],g=p[1];return function(e,t){void 0===e&&(e=a);var i=t.type;return i&&-1!==u.indexOf((0,c.default)(i))?(!0===t.error?g:m)(e,t):e}};var i=u(a(50)),n=u(a(55)),s=u(a(52)),r=u(a(62)),o=u(a(81)),l=u(a(145)),c=u(a(79)),d=a(51);function u(e){return e&&e.__esModule?e:{default:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tailRec=void 0,t.tailRec=function(e,t){for(var a=t(e);"Left"===a._tag;)a=t(a.left);return a.right}},function(e,t,a){var i=a(88),n=a(89),s=n;s.v1=i,s.v4=n,e.exports=s},function(e,t,a){var i,n,s=a(65),r=a(66),o=0,l=0;e.exports=function(e,t,a){var c=t&&a||0,d=t||[],u=(e=e||{}).node||i,p=void 0!==e.clockseq?e.clockseq:n;if(null==u||null==p){var m=s();null==u&&(u=i=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==p&&(p=n=16383&(m[6]<<8|m[7]))}var g=void 0!==e.msecs?e.msecs:(new Date).getTime(),f=void 0!==e.nsecs?e.nsecs:l+1,x=g-o+(f-l)/1e4;if(x<0&&void 0===e.clockseq&&(p=p+1&16383),(x<0||g>o)&&void 0===e.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");o=g,l=f,n=p;var b=(1e4*(268435455&(g+=122192928e5))+f)%4294967296;d[c++]=b>>>24&255,d[c++]=b>>>16&255,d[c++]=b>>>8&255,d[c++]=255&b;var h=g/4294967296*1e4&268435455;d[c++]=h>>>8&255,d[c++]=255&h,d[c++]=h>>>24&15|16,d[c++]=h>>>16&255,d[c++]=p>>>8|128,d[c++]=255&p;for(var j=0;j<6;++j)d[c+j]=u[j];return t||r(d)}},function(e,t,a){var i=a(65),n=a(66);e.exports=function(e,t,a){var s=t&&a||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var r=(e=e||{}).random||(e.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t)for(var o=0;o<16;++o)t[s+o]=r[o];return t||n(r)}},function(e,t,a){"use strict";var i=a(47),n=a(67);t.__esModule=!0,t.default=void 0;var s=n(a(26)),r=(i(a(68)),a(49)),o=i(a(59));var l=function(e){var t=e.store,a=e.context,i=e.children,n=(0,s.useMemo)((function(){var e=new o.default(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),l=(0,s.useMemo)((function(){return t.getState()}),[t]);(0,s.useEffect)((function(){var e=n.subscription;return e.trySubscribe(),l!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[n,l]);var c=a||r.ReactReduxContext;return s.default.createElement(c.Provider,{value:n},i)};t.default=l},function(e,t,a){e.exports=a(5)(209)},function(e,t,a){e.exports=a(5)(350)},function(e,t,a){"use strict";var i=a(47);t.__esModule=!0,t.createConnect=g,t.default=void 0;var n=i(a(46)),s=i(a(60)),r=i(a(70)),o=i(a(72)),l=i(a(94)),c=i(a(97)),d=i(a(98)),u=i(a(99));function p(e,t,a){for(var i=t.length-1;i>=0;i--){var n=t[i](e);if(n)return n}return function(t,i){throw new Error("Invalid value of type "+typeof e+" for "+a+" argument when connecting component "+i.wrappedComponentName+".")}}function m(e,t){return e===t}function g(e){var t=void 0===e?{}:e,a=t.connectHOC,i=void 0===a?r.default:a,g=t.mapStateToPropsFactories,f=void 0===g?c.default:g,x=t.mapDispatchToPropsFactories,b=void 0===x?l.default:x,h=t.mergePropsFactories,j=void 0===h?d.default:h,M=t.selectorFactory,y=void 0===M?u.default:M;return function(e,t,a,r){void 0===r&&(r={});var l=r,c=l.pure,d=void 0===c||c,u=l.areStatesEqual,g=void 0===u?m:u,x=l.areOwnPropsEqual,h=void 0===x?o.default:x,M=l.areStatePropsEqual,O=void 0===M?o.default:M,v=l.areMergedPropsEqual,T=void 0===v?o.default:v,E=(0,s.default)(l,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),k=p(e,f,"mapStateToProps"),F=p(t,b,"mapDispatchToProps"),_=p(a,j,"mergeProps");return i(y,(0,n.default)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:k,initMapDispatchToProps:F,initMergeProps:_,pure:d,areStatesEqual:g,areOwnPropsEqual:h,areStatePropsEqual:O,areMergedPropsEqual:T},E))}}var f=g();t.default=f},function(e,t,a){"use strict";t.__esModule=!0,t.whenMapDispatchToPropsIsFunction=s,t.whenMapDispatchToPropsIsMissing=r,t.whenMapDispatchToPropsIsObject=o,t.default=void 0;var i=a(54),n=a(73);function s(e){return"function"==typeof e?(0,n.wrapMapToPropsFunc)(e,"mapDispatchToProps"):void 0}function r(e){return e?void 0:(0,n.wrapMapToPropsConstant)((function(e){return{dispatch:e}}))}function o(e){return e&&"object"==typeof e?(0,n.wrapMapToPropsConstant)((function(t){return(0,i.bindActionCreators)(e,t)})):void 0}var l=[s,r,o];t.default=l},function(e,t,a){e.exports=a(5)(2390)},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var a=t;for(;null!==Object.getPrototypeOf(a);)a=Object.getPrototypeOf(a);return t===a}},function(e,t,a){"use strict";t.__esModule=!0,t.whenMapStateToPropsIsFunction=n,t.whenMapStateToPropsIsMissing=s,t.default=void 0;var i=a(73);function n(e){return"function"==typeof e?(0,i.wrapMapToPropsFunc)(e,"mapStateToProps"):void 0}function s(e){return e?void 0:(0,i.wrapMapToPropsConstant)((function(){return{}}))}var r=[n,s];t.default=r},function(e,t,a){"use strict";var i=a(47);t.__esModule=!0,t.defaultMergeProps=s,t.wrapMergePropsFunc=r,t.whenMergePropsIsFunction=o,t.whenMergePropsIsOmitted=l,t.default=void 0;var n=i(a(46));i(a(74));function s(e,t,a){return(0,n.default)({},a,{},e,{},t)}function r(e){return function(t,a){a.displayName;var i,n=a.pure,s=a.areMergedPropsEqual,r=!1;return function(t,a,o){var l=e(t,a,o);return r?n&&s(l,i)||(i=l):(r=!0,i=l),i}}}function o(e){return"function"==typeof e?r(e):void 0}function l(e){return e?void 0:function(){return s}}var c=[o,l];t.default=c},function(e,t,a){"use strict";var i=a(47);t.__esModule=!0,t.impureFinalPropsSelectorFactory=s,t.pureFinalPropsSelectorFactory=r,t.default=function(e,t){var a=t.initMapStateToProps,i=t.initMapDispatchToProps,o=t.initMergeProps,l=(0,n.default)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),c=a(e,l),d=i(e,l),u=o(e,l);0;return(l.pure?r:s)(c,d,u,e,l)};var n=i(a(60));i(a(100));function s(e,t,a,i){return function(n,s){return a(e(n,s),t(i,s),s)}}function r(e,t,a,i,n){var s,r,o,l,c,d=n.areStatesEqual,u=n.areOwnPropsEqual,p=n.areStatePropsEqual,m=!1;function g(n,m){var g,f,x=!u(m,r),b=!d(n,s);return s=n,r=m,x&&b?(o=e(s,r),t.dependsOnOwnProps&&(l=t(i,r)),c=a(o,l,r)):x?(e.dependsOnOwnProps&&(o=e(s,r)),t.dependsOnOwnProps&&(l=t(i,r)),c=a(o,l,r)):b?(g=e(s,r),f=!p(g,o),o=g,f&&(c=a(o,l,r)),c):c}return function(n,d){return m?g(n,d):(o=e(s=n,r=d),l=t(i,r),c=a(o,l,r),m=!0,c)}}},function(e,t,a){"use strict";var i=a(47);t.__esModule=!0,t.default=function(e,t,a,i){s(e,"mapStateToProps",i),s(t,"mapDispatchToProps",i),s(a,"mergeProps",i)};var n=i(a(75));function s(e,t,a){if(!e)throw new Error("Unexpected value for "+t+" in "+a+".");"mapStateToProps"!==t&&"mapDispatchToProps"!==t||Object.prototype.hasOwnProperty.call(e,"dependsOnOwnProps")||(0,n.default)("The selector for "+t+" of "+a+" did not specify a value for dependsOnOwnProps.")}},function(e,t,a){"use strict";t.__esModule=!0,t.createDispatchHook=s,t.useDispatch=void 0;var i=a(49),n=a(76);function s(e){void 0===e&&(e=i.ReactReduxContext);var t=e===i.ReactReduxContext?n.useStore:(0,n.createStoreHook)(e);return function(){return t().dispatch}}var r=s();t.useDispatch=r},function(e,t,a){"use strict";var i=a(47);t.__esModule=!0,t.createSelectorHook=d,t.useSelector=void 0;var n=a(26),s=a(77),r=i(a(59)),o=a(71),l=a(49),c=function(e,t){return e===t};function d(e){void 0===e&&(e=l.ReactReduxContext);var t=e===l.ReactReduxContext?s.useReduxContext:function(){return(0,n.useContext)(e)};return function(e,a){void 0===a&&(a=c);var i=t();return function(e,t,a,i){var s,l=(0,n.useReducer)((function(e){return e+1}),0)[1],c=(0,n.useMemo)((function(){return new r.default(a,i)}),[a,i]),d=(0,n.useRef)(),u=(0,n.useRef)(),p=(0,n.useRef)();try{s=e!==u.current||d.current?e(a.getState()):p.current}catch(e){throw d.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+d.current.stack+"\n\n"),e}return(0,o.useIsomorphicLayoutEffect)((function(){u.current=e,p.current=s,d.current=void 0})),(0,o.useIsomorphicLayoutEffect)((function(){function e(){try{var e=u.current(a.getState());if(t(e,p.current))return;p.current=e}catch(e){d.current=e}l({})}return c.onStateChange=e,c.trySubscribe(),e(),function(){return c.tryUnsubscribe()}}),[a,c]),s}(e,a,i.store,i.subscription)}}var u=d();t.useSelector=u},function(e,t,a){"use strict";t.__esModule=!0,t.unstable_batchedUpdates=void 0;var i=a(41);t.unstable_batchedUpdates=i.unstable_batchedUpdates},function(e,t,a){switch(window.__kbnThemeTag__){case"v7dark":return a(105);case"v7light":return a(107);case"v8dark":return a(109);case"v8light":return a(111)}},function(e,t,a){var i=a(2),n=a(106);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1};i(n,s);e.exports=n.locals||{}},function(e,t,a){(t=a(3)(!1)).push([e.i,".componentTemplatesListItem{background-color:#141519;padding:12px;border-bottom:1px solid #343741;position:relative;height:48px}.componentTemplatesListItem--selected::before{content:'';background-color:rgba(255,255,255,0.7);height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.componentTemplatesListItem__contentIndicator{flex-direction:row}.componentTemplatesListItem__checkIcon{position:absolute;right:16px;top:16px;z-index:2}\n",""]),e.exports=t},function(e,t,a){var i=a(2),n=a(108);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1};i(n,s);e.exports=n.locals||{}},function(e,t,a){(t=a(3)(!1)).push([e.i,".componentTemplatesListItem{background-color:#fafbfd;padding:12px;border-bottom:1px solid #D3DAE6;position:relative;height:48px}.componentTemplatesListItem--selected::before{content:'';background-color:rgba(255,255,255,0.7);height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.componentTemplatesListItem__contentIndicator{flex-direction:row}.componentTemplatesListItem__checkIcon{position:absolute;right:16px;top:16px;z-index:2}\n",""]),e.exports=t},function(e,t,a){var i=a(2),n=a(110);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1};i(n,s);e.exports=n.locals||{}},function(e,t,a){(t=a(3)(!1)).push([e.i,".componentTemplatesListItem{background-color:#141519;padding:12px;border-bottom:1px solid #343741;position:relative;height:48px}.componentTemplatesListItem--selected::before{content:'';background-color:rgba(255,255,255,0.7);height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.componentTemplatesListItem__contentIndicator{flex-direction:row}.componentTemplatesListItem__checkIcon{position:absolute;right:16px;top:16px;z-index:2}\n",""]),e.exports=t},function(e,t,a){var i=a(2),n=a(112);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1};i(n,s);e.exports=n.locals||{}},function(e,t,a){(t=a(3)(!1)).push([e.i,".componentTemplatesListItem{background-color:#fafbfd;padding:12px;border-bottom:1px solid #D3DAE6;position:relative;height:48px}.componentTemplatesListItem--selected::before{content:'';background-color:rgba(255,255,255,0.7);height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.componentTemplatesListItem__contentIndicator{flex-direction:row}.componentTemplatesListItem__checkIcon{position:absolute;right:16px;top:16px;z-index:2}\n",""]),e.exports=t},function(e,t,a){switch(window.__kbnThemeTag__){case"v7dark":return a(114);case"v7light":return a(116);case"v8dark":return a(118);case"v8light":return a(120)}},function(e,t,a){var i=a(2),n=a(115);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1};i(n,s);e.exports=n.locals||{}},function(e,t,a){(t=a(3)(!1)).push([e.i,".componentTemplates{border:1px solid #343741;border-radius:4px;border-top:none;height:100%}.componentTemplates__header{height:48px}.componentTemplates__header .euiFormControlLayout{max-width:initial}.componentTemplates__searchBox{border-bottom:1px solid #343741;border-top:1px solid #343741;border-top-right-radius:0;border-bottom-right-radius:0;box-shadow:none;max-width:initial}.componentTemplates__filterListButton{border-bottom:1px solid #343741;border-top:1px solid #343741;border-left:1px solid #343741;border-top-left-radius:0;border-bottom-left-radius:0;box-shadow:none;height:40px}.componentTemplates__listWrapper{height:calc(100% - 48px)}.componentTemplates__listWrapper--is-empty{display:flex}\n",""]),e.exports=t},function(e,t,a){var i=a(2),n=a(117);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1};i(n,s);e.exports=n.locals||{}},function(e,t,a){(t=a(3)(!1)).push([e.i,".componentTemplates{border:1px solid #D3DAE6;border-radius:4px;border-top:none;height:100%}.componentTemplates__header{height:48px}.componentTemplates__header .euiFormControlLayout{max-width:initial}.componentTemplates__searchBox{border-bottom:1px solid #D3DAE6;border-top:1px solid #D3DAE6;border-top-right-radius:0;border-bottom-right-radius:0;box-shadow:none;max-width:initial}.componentTemplates__filterListButton{border-bottom:1px solid #D3DAE6;border-top:1px solid #D3DAE6;border-left:1px solid #D3DAE6;border-top-left-radius:0;border-bottom-left-radius:0;box-shadow:none;height:40px}.componentTemplates__listWrapper{height:calc(100% - 48px)}.componentTemplates__listWrapper--is-empty{display:flex}\n",""]),e.exports=t},function(e,t,a){var i=a(2),n=a(119);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1};i(n,s);e.exports=n.locals||{}},function(e,t,a){(t=a(3)(!1)).push([e.i,".componentTemplates{border:1px solid #343741;border-radius:6px;border-top:none;height:100%}.componentTemplates__header{height:48px}.componentTemplates__header .euiFormControlLayout{max-width:initial}.componentTemplates__searchBox{border-bottom:1px solid #343741;border-top:1px solid #343741;border-top-right-radius:0;border-bottom-right-radius:0;box-shadow:none;max-width:initial}.componentTemplates__filterListButton{border-bottom:1px solid #343741;border-top:1px solid #343741;border-left:1px solid #343741;border-top-left-radius:0;border-bottom-left-radius:0;box-shadow:none;height:40px}.componentTemplates__listWrapper{height:calc(100% - 48px)}.componentTemplates__listWrapper--is-empty{display:flex}\n",""]),e.exports=t},function(e,t,a){var i=a(2),n=a(121);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1};i(n,s);e.exports=n.locals||{}},function(e,t,a){(t=a(3)(!1)).push([e.i,".componentTemplates{border:1px solid #D3DAE6;border-radius:6px;border-top:none;height:100%}.componentTemplates__header{height:48px}.componentTemplates__header .euiFormControlLayout{max-width:initial}.componentTemplates__searchBox{border-bottom:1px solid #D3DAE6;border-top:1px solid #D3DAE6;border-top-right-radius:0;border-bottom-right-radius:0;box-shadow:none;max-width:initial}.componentTemplates__filterListButton{border-bottom:1px solid #D3DAE6;border-top:1px solid #D3DAE6;border-left:1px solid #D3DAE6;border-top-left-radius:0;border-bottom-left-radius:0;box-shadow:none;height:40px}.componentTemplates__listWrapper{height:calc(100% - 48px)}.componentTemplates__listWrapper--is-empty{display:flex}\n",""]),e.exports=t},function(e,t,a){switch(window.__kbnThemeTag__){case"v7dark":return a(123);case"v7light":return a(125);case"v8dark":return a(127);case"v8light":return a(129)}},function(e,t,a){var i=a(2),n=a(124);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1};i(n,s);e.exports=n.locals||{}},function(e,t,a){(t=a(3)(!1)).push([e.i,".componentTemplatesSelector{height:480px}.componentTemplatesSelector__selection{border:1px solid #343741;border-radius:4px;padding:0 16px 16px;color:#98A2B3}.componentTemplatesSelector__selection--is-empty{align-items:center;justify-content:center}.componentTemplatesSelector__selection__header{background-color:#25262E;border-bottom:1px solid #343741;color:#000;height:40px;line-height:40px;font-size:12px;margin-bottom:8px;margin-left:-16px;margin-right:-16px;padding-left:16px}.componentTemplatesSelector__selection__header__count{font-weight:600}.componentTemplatesSelector__selection__content{-webkit-mask-image:none;mask-image:none}\n",""]),e.exports=t},function(e,t,a){var i=a(2),n=a(126);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1};i(n,s);e.exports=n.locals||{}},function(e,t,a){(t=a(3)(!1)).push([e.i,".componentTemplatesSelector{height:480px}.componentTemplatesSelector__selection{border:1px solid #D3DAE6;border-radius:4px;padding:0 16px 16px;color:#69707D}.componentTemplatesSelector__selection--is-empty{align-items:center;justify-content:center}.componentTemplatesSelector__selection__header{background-color:#F5F7FA;border-bottom:1px solid #D3DAE6;color:#000;height:40px;line-height:40px;font-size:12px;margin-bottom:8px;margin-left:-16px;margin-right:-16px;padding-left:16px}.componentTemplatesSelector__selection__header__count{font-weight:600}.componentTemplatesSelector__selection__content{-webkit-mask-image:none;mask-image:none}\n",""]),e.exports=t},function(e,t,a){var i=a(2),n=a(128);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1};i(n,s);e.exports=n.locals||{}},function(e,t,a){(t=a(3)(!1)).push([e.i,".componentTemplatesSelector{height:480px}.componentTemplatesSelector__selection{border:1px solid #343741;border-radius:6px;padding:0 16px 16px;color:#98A2B3}.componentTemplatesSelector__selection--is-empty{align-items:center;justify-content:center}.componentTemplatesSelector__selection__header{background-color:#25262E;border-bottom:1px solid #343741;color:#000;height:40px;line-height:40px;font-size:12px;margin-bottom:8px;margin-left:-16px;margin-right:-16px;padding-left:16px}.componentTemplatesSelector__selection__header__count{font-weight:600}.componentTemplatesSelector__selection__content{-webkit-mask-image:none;mask-image:none}\n",""]),e.exports=t},function(e,t,a){var i=a(2),n=a(130);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1};i(n,s);e.exports=n.locals||{}},function(e,t,a){(t=a(3)(!1)).push([e.i,".componentTemplatesSelector{height:480px}.componentTemplatesSelector__selection{border:1px solid #D3DAE6;border-radius:6px;padding:0 16px 16px;color:#69707D}.componentTemplatesSelector__selection--is-empty{align-items:center;justify-content:center}.componentTemplatesSelector__selection__header{background-color:#F5F7FA;border-bottom:1px solid #D3DAE6;color:#000;height:40px;line-height:40px;font-size:12px;margin-bottom:8px;margin-left:-16px;margin-right:-16px;padding-left:16px}.componentTemplatesSelector__selection__header__count{font-weight:600}.componentTemplatesSelector__selection__content{-webkit-mask-image:none;mask-image:none}\n",""]),e.exports=t},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];(0,i.default)(p(t),"Expected action types to be strings, symbols, or action creators");var n=t.map(o.default).join(c.ACTION_TYPE_DELIMITER);return{toString:function(){return n}}};var i=d(a(50)),n=d(a(55)),s=d(a(132)),r=d(a(78)),o=d(a(79)),l=d(a(80)),c=a(51);function d(e){return e&&e.__esModule?e:{default:e}}function u(e){return(0,l.default)(e)||(0,n.default)(e)||(0,s.default)(e)}function p(e){return!(0,r.default)(e)&&e.every(u)}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;t.default=function(e){return"symbol"==typeof e||"object"==typeof e&&"[object Symbol]"===Object.prototype.toString.call(e)}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;t.default=function(e){return null===e}},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++)a[s-1]=arguments[s];var r=(0,n.default)((0,d.default)(a))?a.pop():{};if((0,i.default)(a.every(l.default)&&((0,l.default)(e)||(0,n.default)(e)),"Expected optional object followed by string action types"),(0,l.default)(e))return O([e].concat(a),r);return h({},M(e,r),O(a,r))};var i=b(a(50)),n=b(a(52)),s=b(a(55)),r=b(a(62)),o=b(a(135)),l=b(a(80)),c=b(a(81)),d=b(a(136)),u=b(a(82)),p=b(a(140)),m=b(a(141)),g=b(a(142)),f=b(a(61)),x=a(51);function b(e){return e&&e.__esModule?e:{default:e}}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},i=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),i.forEach((function(t){j(e,t,a[t])}))}return e}function j(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function M(e,t){var a=y((0,m.default)(e,t));return(0,g.default)(a,t)}function y(e,t){var a=void 0===t?{}:t,n=a.prefix,l=a.namespace,d=void 0===l?x.DEFAULT_NAMESPACE:l;return(0,p.default)(Object.keys(e),(function(t,a){var l,u=e[a];(0,i.default)(function(e){if((0,s.default)(e)||(0,c.default)(e))return!0;if((0,o.default)(e)){var t=e[0],a=void 0===t?r.default:t,i=e[1];return(0,s.default)(a)&&(0,s.default)(i)}return!1}(u),"Expected function, undefined, null, or array with payload and meta functions for "+a);var p=n?""+n+d+a:a,m=(0,o.default)(u)?f.default.apply(void 0,[p].concat(u)):(0,f.default)(p,u);return h({},t,((l={})[a]=m,l))}))}function O(e,t){var a=y((0,p.default)(e,(function(e,t){var a;return h({},e,((a={})[t]=r.default,a))})),t);return(0,p.default)(Object.keys(a),(function(e,t){var i;return h({},e,((i={})[(0,u.default)(t)]=a[t],i))}))}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;t.default=function(e){return Array.isArray(e)}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;t.default=function(e){return e[e.length-1]}},function(e,t,a){var i=a(138);e.exports=function(e){return i(e).replace(/\s(\w)/g,(function(e,t){return t.toUpperCase()}))}},function(e,t,a){var i=a(139);e.exports=function(e){return i(e).replace(/[\W_]+(.|$)/g,(function(e,t){return t?" "+t:""})).trim()}},function(e,t){e.exports=function(e){return a.test(e)?e.toLowerCase():i.test(e)?(function(e){return e.replace(s,(function(e,t){return t?" "+t:""}))}(e)||e).toLowerCase():n.test(e)?function(e){return e.replace(r,(function(e,t,a){return t+" "+a.toLowerCase().split("").join(" ")}))}(e).toLowerCase():e.toLowerCase()};var a=/\s/,i=/(_|-|\.|:)/,n=/([a-z][A-Z]|[A-Z][a-z])/;var s=/[\W_]+(.|$)/g;var r=/(.)([A-Z]+)/g},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;t.default=function(e,t){return e.reduce((function(e,a){return t(e,a)}),{})}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var i=n(a(52));function n(e){return e&&e.__esModule?e:{default:e}}var s=(0,n(a(83)).default)(i.default);t.default=s},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e,t){var a=void 0===t?{}:t,r=a.namespace,o=void 0===r?i.DEFAULT_NAMESPACE:r,l=a.prefix;function c(t,a,i){var r=(0,s.default)(i.shift());(0,n.default)(i)?a[r]=e[t]:(a[r]||(a[r]={}),c(t,a[r],i))}var d={};return Object.getOwnPropertyNames(e).forEach((function(e){var t=l?e.replace(""+l+o,""):e;return c(e,d,t.split(o))})),d};var i=a(51),n=r(a(78)),s=r(a(82));function r(e){return e&&e.__esModule?e:{default:e}}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var i=s(a(144)),n=s(a(61));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){return(0,i.default)((0,n.default)(e,t),t.length)}},function(e,t){e.exports=function(e,t){return function a(){null==t&&(t=e.length);var i=[].slice.call(arguments);return i.length>=t?e.apply(this,i):function(){return a.apply(this,i.concat([].slice.call(arguments)))}}}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;t.default=function(e){return void 0===e}},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e,t,a){void 0===a&&(a={});(0,n.default)((0,s.default)(e)||(0,r.default)(e),"Expected handlers to be a plain object.");var u=(0,l.default)(e,a),p=(0,o.default)(u).map((function(e){return(0,c.default)(e,(0,d.default)(e,u),t)})),m=i.default.apply(void 0,p.concat([t]));return function(e,a){return void 0===e&&(e=t),m(e,a)}};var i=u(a(147)),n=u(a(50)),s=u(a(52)),r=u(a(56)),o=u(a(63)),l=u(a(148)),c=u(a(85)),d=u(a(84));function u(e){return e&&e.__esModule?e:{default:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];var i="function"!=typeof t[t.length-1]&&t.pop(),n=t;if(void 0===i)throw new TypeError("The initial state may not be undefined. If you do not want to set a value for this reducer, you can use null instead of undefined.");return function(e,t){for(var a=arguments.length,s=Array(a>2?a-2:0),r=2;r<a;r++)s[r-2]=arguments[r];var o=void 0===e,l=void 0===t;return o&&l&&i?i:n.reduce((function(e,a){return a.apply(void 0,[e,t].concat(s))}),o&&!l&&i?i:e)}},e.exports=t.default},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var i=r(a(52)),n=r(a(56)),s=r(a(149));function r(e){return e&&e.__esModule?e:{default:e}}var o=(0,r(a(83)).default)((function(e){return((0,i.default)(e)||(0,n.default)(e))&&!(0,s.default)(e)}));t.default=o},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e){var t=(0,n.default)(e),a=t.every((function(e){return"next"===e||"throw"===e}));return t.length&&t.length<=2&&a};var i,n=(i=a(63))&&i.__esModule?i:{default:i}},function(e,t,a){"use strict";function i(e,t){return e===t}function n(e,t,a){if(null===t||null===a||t.length!==a.length)return!1;for(var i=t.length,n=0;n<i;n++)if(!e(t[n],a[n]))return!1;return!0}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,a=null,s=null;return function(){return n(t,a,arguments)||(s=e.apply(null,arguments)),a=arguments,s}}function r(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var a=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+a+"]")}return t}function o(e){for(var t=arguments.length,a=Array(t>1?t-1:0),i=1;i<t;i++)a[i-1]=arguments[i];return function(){for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];var s=0,o=i.pop(),l=r(i),c=e.apply(void 0,[function(){return s++,o.apply(null,arguments)}].concat(a)),d=e((function(){for(var e=[],t=l.length,a=0;a<t;a++)e.push(l[a].apply(null,arguments));return c.apply(null,e)}));return d.resultFunc=o,d.dependencies=l,d.recomputations=function(){return s},d.resetRecomputations=function(){return s=0},d}}t.__esModule=!0,t.defaultMemoize=s,t.createSelectorCreator=o,t.createStructuredSelector=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var a=Object.keys(e);return t(a.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.reduce((function(e,t,i){return e[a[i]]=t,e}),{})}))};var l=t.createSelector=o(s)},function(e,t,a){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},function(e,t,a){"use strict";var i="%[a-f0-9]{2}",n=new RegExp(i,"gi"),s=new RegExp("("+i+")+","gi");function r(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var a=e.slice(0,t),i=e.slice(t);return Array.prototype.concat.call([],r(a),r(i))}function o(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(n),a=1;a<t.length;a++)t=(e=r(t,a).join("")).match(n);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"","%FF%FE":""},a=s.exec(e);a;){try{t[a[0]]=decodeURIComponent(a[0])}catch(e){var i=o(a[0]);i!==a[0]&&(t[a[0]]=i)}a=s.exec(e)}t["%C2"]="";for(var n=Object.keys(t),r=0;r<n.length;r++){var l=n[r];e=e.replace(new RegExp(l,"g"),t[l])}return e}(e)}}},function(e,t,a){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const a=e.indexOf(t);return-1===a?[e]:[e.slice(0,a),e.slice(a+t.length)]}},function(e,t){ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],(function(e,t,a){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',e("../lib/dom").importCssString(t.cssText,t.cssClass)}))},function(e,t,a){e.exports=a(5)(1267)},function(e,t){ace.define("ace/snippets",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/anchor","ace/keyboard/hash_handler","ace/tokenizer","ace/lib/dom","ace/editor"],(function(e,t,a){"use strict";var i=e("./lib/oop"),n=e("./lib/event_emitter").EventEmitter,s=e("./lib/lang"),r=e("./range").Range,o=e("./anchor").Anchor,l=e("./keyboard/hash_handler").HashHandler,c=e("./tokenizer").Tokenizer,d=r.comparePoints,u=function(){this.snippetMap={},this.snippetNameMap={}};(function(){i.implement(this,n),this.getTokenizer=function(){function e(e,t,a){return e=e.substr(1),/^\d+$/.test(e)&&!a.inFormatString?[{tabstopId:parseInt(e,10)}]:[{text:e}]}function t(e){return"(?:[^\\\\"+e+"]|\\\\.)"}return u.$tokenizer=new c({start:[{regex:/:/,onMatch:function(e,t,a){return a.length&&a[0].expectIf?(a[0].expectIf=!1,a[0].elseBranch=a[0],[a[0]]):":"}},{regex:/\\./,onMatch:function(e,t,a){var i=e[1];return"}"==i&&a.length||-1!="`$\\".indexOf(i)?e=i:a.inFormatString&&("n"==i||"t"==i?e="\n":-1!="ulULE".indexOf(i)&&(e={changeCase:i,local:i>"a"})),[e]}},{regex:/}/,onMatch:function(e,t,a){return[a.length?a.shift():e]}},{regex:/\$(?:\d+|\w+)/,onMatch:e},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(t,a,i){var n=e(t.substr(1),0,i);return i.unshift(n[0]),n},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+t("\\|")+"*\\|",onMatch:function(e,t,a){a[0].choices=e.slice(1,-1).split(",")},next:"start"},{regex:"/("+t("/")+"+)/(?:("+t("/")+"*)/)(\\w*):?",onMatch:function(e,t,a){var i=a[0];return i.fmtString=e,e=this.splitRegex.exec(e),i.guard=e[1],i.fmt=e[2],i.flag=e[3],""},next:"start"},{regex:"`"+t("`")+"*`",onMatch:function(e,t,a){return a[0].code=e.splice(1,-1),""},next:"start"},{regex:"\\?",onMatch:function(e,t,a){a[0]&&(a[0].expectIf=!0)},next:"start"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:"/("+t("/")+"+)/",token:"regex"},{regex:"",onMatch:function(e,t,a){a.inFormatString=!0},next:"start"}]}),u.prototype.getTokenizer=function(){return u.$tokenizer},u.$tokenizer},this.tokenizeTmSnippet=function(e,t){return this.getTokenizer().getLineTokens(e,t).tokens.map((function(e){return e.value||e}))},this.$getDefaultValue=function(e,t){if(/^[A-Z]\d+$/.test(t)){var a=t.substr(1);return(this.variables[t[0]+"__"]||{})[a]}if(/^\d+$/.test(t))return(this.variables.__||{})[t];if(t=t.replace(/^TM_/,""),e){var i=e.session;switch(t){case"CURRENT_WORD":var n=i.getWordRange();case"SELECTION":case"SELECTED_TEXT":return i.getTextRange(n);case"CURRENT_LINE":return i.getLine(e.getCursorPosition().row);case"PREV_LINE":return i.getLine(e.getCursorPosition().row-1);case"LINE_INDEX":return e.getCursorPosition().column;case"LINE_NUMBER":return e.getCursorPosition().row+1;case"SOFT_TABS":return i.getUseSoftTabs()?"YES":"NO";case"TAB_SIZE":return i.getTabSize();case"FILENAME":case"FILEPATH":return"";case"FULLNAME":return"Ace"}}},this.variables={},this.getVariableValue=function(e,t){return this.variables.hasOwnProperty(t)?this.variables[t](e,t)||"":this.$getDefaultValue(e,t)||""},this.tmStrFormat=function(e,t,a){var i=t.flag||"",n=t.guard;n=new RegExp(n,i.replace(/[^gi]/,""));var s=this.tokenizeTmSnippet(t.fmt,"formatString"),r=this,o=e.replace(n,(function(){r.variables.__=arguments;for(var e=r.resolveVariables(s,a),t="E",i=0;i<e.length;i++){var n=e[i];if("object"==typeof n)if(e[i]="",n.changeCase&&n.local){var o=e[i+1];o&&"string"==typeof o&&("u"==n.changeCase?e[i]=o[0].toUpperCase():e[i]=o[0].toLowerCase(),e[i+1]=o.substr(1))}else n.changeCase&&(t=n.changeCase);else"U"==t?e[i]=n.toUpperCase():"L"==t&&(e[i]=n.toLowerCase())}return e.join("")}));return this.variables.__=null,o},this.resolveVariables=function(e,t){for(var a=[],i=0;i<e.length;i++){var n=e[i];if("string"==typeof n)a.push(n);else{if("object"!=typeof n)continue;if(n.skip)r(n);else{if(n.processed<i)continue;if(n.text){var s=this.getVariableValue(t,n.text);s&&n.fmtString&&(s=this.tmStrFormat(s,n)),n.processed=i,null==n.expectIf?s&&(a.push(s),r(n)):s?n.skip=n.elseBranch:r(n)}else(null!=n.tabstopId||null!=n.changeCase)&&a.push(n)}}}function r(t){var a=e.indexOf(t,i+1);-1!=a&&(i=a)}return a},this.insertSnippetForSelection=function(e,t){var a=e.getCursorPosition(),i=e.session.getLine(a.row),n=e.session.getTabString(),s=i.match(/^\s*/)[0];a.column<s.length&&(s=s.slice(0,a.column)),t=t.replace(/\r/g,"");var r=this.tokenizeTmSnippet(t);r=(r=this.resolveVariables(r,e)).map((function(e){return"\n"==e?e+s:"string"==typeof e?e.replace(/\t/g,n):e}));var o=[];r.forEach((function(e,t){if("object"==typeof e){var a=e.tabstopId,i=o[a];if(i||((i=o[a]=[]).index=a,i.value=""),-1===i.indexOf(e)){i.push(e);var n=r.indexOf(e,t+1);if(-1!==n){var s=r.slice(t+1,n);s.some((function(e){return"object"==typeof e}))&&!i.value?i.value=s:!s.length||i.value&&"string"==typeof i.value||(i.value=s.join(""))}}}})),o.forEach((function(e){e.length=0}));var l={};function c(e){for(var t=[],a=0;a<e.length;a++){var i=e[a];if("object"==typeof i){if(l[i.tabstopId])continue;i=t[e.lastIndexOf(i,a-1)]||{tabstopId:i.tabstopId}}t[a]=i}return t}for(var d=0;d<r.length;d++){var u=r[d];if("object"==typeof u){var m=u.tabstopId,g=r.indexOf(u,d+1);if(l[m])l[m]===u&&(l[m]=null);else{var f=o[m],x="string"==typeof f.value?[f.value]:c(f.value);x.unshift(d+1,Math.max(0,g-d)),x.push(u),l[m]=u,r.splice.apply(r,x),-1===f.indexOf(u)&&f.push(u)}}}var b=0,h=0,j="";r.forEach((function(e){if("string"==typeof e){var t=e.split("\n");t.length>1?(h=t[t.length-1].length,b+=t.length-1):h+=e.length,j+=e}else e.start?e.end={row:b,column:h}:e.start={row:b,column:h}}));var M=e.getSelectionRange(),y=e.session.replace(M,j),O=new p(e),v=e.inVirtualSelectionMode&&e.selection.index;O.addTabstops(o,M.start,y,v)},this.insertSnippet=function(e,t){var a=this;if(e.inVirtualSelectionMode)return a.insertSnippetForSelection(e,t);e.forEachSelection((function(){a.insertSnippetForSelection(e,t)}),null,{keepOrder:!0}),e.tabstopManager&&e.tabstopManager.tabNext()},this.$getScope=function(e){var t=e.session.$mode.$id||"";if("html"===(t=t.split("/").pop())||"php"===t){"php"!==t||e.session.$mode.inlinePhp||(t="html");var a=e.getCursorPosition(),i=e.session.getState(a.row);"object"==typeof i&&(i=i[0]),i.substring&&("js-"==i.substring(0,3)?t="javascript":"css-"==i.substring(0,4)?t="css":"php-"==i.substring(0,4)&&(t="php"))}return t},this.getActiveScopes=function(e){var t=this.$getScope(e),a=[t],i=this.snippetMap;return i[t]&&i[t].includeScopes&&a.push.apply(a,i[t].includeScopes),a.push("_"),a},this.expandWithTab=function(e,t){var a=this,i=e.forEachSelection((function(){return a.expandSnippetForSelection(e,t)}),null,{keepOrder:!0});return i&&e.tabstopManager&&e.tabstopManager.tabNext(),i},this.expandSnippetForSelection=function(e,t){var a,i=e.getCursorPosition(),n=e.session.getLine(i.row),s=n.substring(0,i.column),r=n.substr(i.column),o=this.snippetMap;return this.getActiveScopes(e).some((function(e){var t=o[e];return t&&(a=this.findMatchingSnippet(t,s,r)),!!a}),this),!!a&&(t&&t.dryRun||(e.session.doc.removeInLine(i.row,i.column-a.replaceBefore.length,i.column+a.replaceAfter.length),this.variables.M__=a.matchBefore,this.variables.T__=a.matchAfter,this.insertSnippetForSelection(e,a.content),this.variables.M__=this.variables.T__=null),!0)},this.findMatchingSnippet=function(e,t,a){for(var i=e.length;i--;){var n=e[i];if((!n.startRe||n.startRe.test(t))&&((!n.endRe||n.endRe.test(a))&&(n.startRe||n.endRe)))return n.matchBefore=n.startRe?n.startRe.exec(t):[""],n.matchAfter=n.endRe?n.endRe.exec(a):[""],n.replaceBefore=n.triggerRe?n.triggerRe.exec(t)[0]:"",n.replaceAfter=n.endTriggerRe?n.endTriggerRe.exec(a)[0]:"",n}},this.snippetMap={},this.snippetNameMap={},this.register=function(e,t){var a=this.snippetMap,i=this.snippetNameMap,n=this;function r(e){return e&&!/^\^?\(.*\)\$?$|^\\b$/.test(e)&&(e="(?:"+e+")"),e||""}function o(e,t,a){return e=r(e),t=r(t),a?(e=t+e)&&"$"!=e[e.length-1]&&(e+="$"):(e+=t)&&"^"!=e[0]&&(e="^"+e),new RegExp(e)}function l(e){e.scope||(e.scope=t||"_"),t=e.scope,a[t]||(a[t]=[],i[t]={});var r=i[t];if(e.name){var l=r[e.name];l&&n.unregister(l),r[e.name]=e}a[t].push(e),e.tabTrigger&&!e.trigger&&(!e.guard&&/^\w/.test(e.tabTrigger)&&(e.guard="\\b"),e.trigger=s.escapeRegExp(e.tabTrigger)),(e.trigger||e.guard||e.endTrigger||e.endGuard)&&(e.startRe=o(e.trigger,e.guard,!0),e.triggerRe=new RegExp(e.trigger,"",!0),e.endRe=o(e.endTrigger,e.endGuard,!0),e.endTriggerRe=new RegExp(e.endTrigger,"",!0))}e||(e=[]),e&&e.content?l(e):Array.isArray(e)&&e.forEach(l),this._signal("registerSnippets",{scope:t})},this.unregister=function(e,t){var a=this.snippetMap,i=this.snippetNameMap;function n(e){var n=i[e.scope||t];if(n&&n[e.name]){delete n[e.name];var s=a[e.scope||t],r=s&&s.indexOf(e);r>=0&&s.splice(r,1)}}e.content?n(e):Array.isArray(e)&&e.forEach(n)},this.parseSnippetFile=function(e){e=e.replace(/\r/g,"");for(var t,a=[],i={},n=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;t=n.exec(e);){if(t[1])try{i=JSON.parse(t[1]),a.push(i)}catch(e){}if(t[4])i.content=t[4].replace(/^\t/gm,""),a.push(i),i={};else{var s=t[2],r=t[3];if("regex"==s){var o=/\/((?:[^\/\\]|\\.)*)|$/g;i.guard=o.exec(r)[1],i.trigger=o.exec(r)[1],i.endTrigger=o.exec(r)[1],i.endGuard=o.exec(r)[1]}else"snippet"==s?(i.tabTrigger=r.match(/^\S*/)[0],i.name||(i.name=r)):i[s]=r}}return a},this.getSnippetByName=function(e,t){var a,i=this.snippetNameMap;return this.getActiveScopes(t).some((function(t){var n=i[t];return n&&(a=n[e]),!!a}),this),a}}).call(u.prototype);var p=function(e){if(e.tabstopManager)return e.tabstopManager;e.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=s.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(e)};(function(){this.attach=function(e){this.index=0,this.ranges=[],this.tabstops=[],this.$openTabstops=null,this.selectedTabstop=null,this.editor=e,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges=null,this.tabstops=null,this.selectedTabstop=null,this.editor.removeListener("change",this.$onChange),this.editor.removeListener("changeSelection",this.$onChangeSelection),this.editor.removeListener("changeSession",this.$onChangeSession),this.editor.commands.removeListener("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.editor=null},this.onChange=function(e){var t="r"==e.action[0],a=e.start,i=e.end,n=a.row,s=i.row-n,r=i.column-a.column;if(t&&(s=-s,r=-r),!this.$inChange&&t){var o=this.selectedTabstop;if(o&&!o.some((function(e){return d(e.start,a)<=0&&d(e.end,i)>=0})))return this.detach()}for(var l=this.ranges,c=0;c<l.length;c++){var u=l[c];u.end.row<a.row||(t&&d(a,u.start)<0&&d(i,u.end)>0?(this.removeRange(u),c--):(u.start.row==n&&u.start.column>a.column&&(u.start.column+=r),u.end.row==n&&u.end.column>=a.column&&(u.end.column+=r),u.start.row>=n&&(u.start.row+=s),u.end.row>=n&&(u.end.row+=s),d(u.start,u.end)>0&&this.removeRange(u)))}l.length||this.detach()},this.updateLinkedFields=function(){var e=this.selectedTabstop;if(e&&e.hasLinkedRanges){this.$inChange=!0;for(var a=this.editor.session,i=a.getTextRange(e.firstNonLinked),n=e.length;n--;){var s=e[n];if(s.linked){var r=t.snippetManager.tmStrFormat(i,s.original);a.replace(s,r)}}this.$inChange=!1}},this.onAfterExec=function(e){e.command&&!e.command.readOnly&&this.updateLinkedFields()},this.onChangeSelection=function(){if(this.editor){for(var e=this.editor.selection.lead,t=this.editor.selection.anchor,a=this.editor.selection.isEmpty(),i=this.ranges.length;i--;)if(!this.ranges[i].linked){var n=this.ranges[i].contains(e.row,e.column),s=a||this.ranges[i].contains(t.row,t.column);if(n&&s)return}this.detach()}},this.onChangeSession=function(){this.detach()},this.tabNext=function(e){var t=this.tabstops.length,a=this.index+(e||1);(a=Math.min(Math.max(a,1),t))==t&&(a=0),this.selectTabstop(a),0===a&&this.detach()},this.selectTabstop=function(e){this.$openTabstops=null;var t=this.tabstops[this.index];if(t&&this.addTabstopMarkers(t),this.index=e,(t=this.tabstops[this.index])&&t.length){if(this.selectedTabstop=t,this.editor.inVirtualSelectionMode)this.editor.selection.setRange(t.firstNonLinked);else{var a=this.editor.multiSelect;a.toSingleRange(t.firstNonLinked.clone());for(var i=t.length;i--;)t.hasLinkedRanges&&t[i].linked||a.addRange(t[i].clone(),!0);a.ranges[0]&&a.addRange(a.ranges[0].clone())}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)}},this.addTabstops=function(e,t,a){if(this.$openTabstops||(this.$openTabstops=[]),!e[0]){var i=r.fromPoints(a,a);f(i.start,t),f(i.end,t),e[0]=[i],e[0].index=0}var n=[this.index+1,0],s=this.ranges;e.forEach((function(e,a){for(var i=this.$openTabstops[a]||e,o=e.length;o--;){var l=e[o],c=r.fromPoints(l.start,l.end||l.start);g(c.start,t),g(c.end,t),c.original=l,c.tabstop=i,s.push(c),i!=e?i.unshift(c):i[o]=c,l.fmtString?(c.linked=!0,i.hasLinkedRanges=!0):i.firstNonLinked||(i.firstNonLinked=c)}i.firstNonLinked||(i.hasLinkedRanges=!1),i===e&&(n.push(i),this.$openTabstops[a]=i),this.addTabstopMarkers(i)}),this),n.length>2&&(this.tabstops.length&&n.push(n.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,n))},this.addTabstopMarkers=function(e){var t=this.editor.session;e.forEach((function(e){e.markerId||(e.markerId=t.addMarker(e,"ace_snippet-marker","text"))}))},this.removeTabstopMarkers=function(e){var t=this.editor.session;e.forEach((function(e){t.removeMarker(e.markerId),e.markerId=null}))},this.removeRange=function(e){var t=e.tabstop.indexOf(e);e.tabstop.splice(t,1),t=this.ranges.indexOf(e),this.ranges.splice(t,1),this.editor.session.removeMarker(e.markerId),e.tabstop.length||(-1!=(t=this.tabstops.indexOf(e.tabstop))&&this.tabstops.splice(t,1),this.tabstops.length||this.detach())},this.keyboardHandler=new l,this.keyboardHandler.bindKeys({Tab:function(e){t.snippetManager&&t.snippetManager.expandWithTab(e)||e.tabstopManager.tabNext(1)},"Shift-Tab":function(e){e.tabstopManager.tabNext(-1)},Esc:function(e){e.tabstopManager.detach()},Return:function(e){return!1}})}).call(p.prototype);var m={};m.onChange=o.prototype.onChange,m.setPosition=function(e,t){this.pos.row=e,this.pos.column=t},m.update=function(e,t,a){this.$insertRight=a,this.pos=e,this.onChange(t)};var g=function(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row},f=function(e,t){e.row==t.row&&(e.column-=t.column),e.row-=t.row};e("./lib/dom").importCssString(".ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}"),t.snippetManager=new u;var x=e("./editor").Editor;(function(){this.insertSnippet=function(e,a){return t.snippetManager.insertSnippet(this,e,a)},this.expandSnippet=function(e){return t.snippetManager.expandWithTab(this,e)}}).call(x.prototype)})),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"],(function(e,t,a){"use strict";var i=e("../virtual_renderer").VirtualRenderer,n=e("../editor").Editor,s=e("../range").Range,r=e("../lib/event"),o=e("../lib/lang"),l=e("../lib/dom"),c=function(e){var t=new i(e);t.$maxLines=4;var a=new n(t);return a.setHighlightActiveLine(!1),a.setShowPrintMargin(!1),a.renderer.setShowGutter(!1),a.renderer.setHighlightGutterLine(!1),a.$mouseHandler.$focusWaitTimout=0,a.$highlightTagPending=!0,a};l.importCssString(".ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #CAD6FA;    z-index: 1;}.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid #abbffe;    margin-top: -1px;    background: rgba(233,233,253,0.4);}.ace_editor.ace_autocomplete .ace_line-hover {    position: absolute;    z-index: 2;}.ace_editor.ace_autocomplete .ace_scroller {   background: none;   border: none;   box-shadow: none;}.ace_rightAlignedText {    color: gray;    display: inline-block;    position: absolute;    right: 4px;    text-align: right;    z-index: -1;}.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #000;    text-shadow: 0 0 0.01em;}.ace_editor.ace_autocomplete {    width: 280px;    z-index: 200000;    background: #fbfbfb;    color: #444;    border: 1px lightgray solid;    position: fixed;    box-shadow: 2px 3px 5px rgba(0,0,0,.2);    line-height: 1.4;}"),t.AcePopup=function(e){var t=l.createElement("div"),a=new c(t);e&&e.appendChild(t),t.style.display="none",a.renderer.content.style.cursor="default",a.renderer.setStyle("ace_autocomplete"),a.setOption("displayIndentGuides",!1),a.setOption("dragDelay",150);var i,n=function(){};a.focus=n,a.$isFocused=!0,a.renderer.$cursorLayer.restartTimer=n,a.renderer.$cursorLayer.element.style.opacity=0,a.renderer.$maxLines=8,a.renderer.$keepTextAreaAtCursor=!1,a.setHighlightActiveLine(!1),a.session.highlight(""),a.session.$searchHighlight.clazz="ace_highlight-marker",a.on("mousedown",(function(e){var t=e.getDocumentPosition();a.selection.moveToPosition(t),u.start.row=u.end.row=t.row,e.stop()}));var d=new s(-1,0,-1,1/0),u=new s(-1,0,-1,1/0);u.id=a.session.addMarker(u,"ace_active-line","fullLine"),a.setSelectOnHover=function(e){e?d.id&&(a.session.removeMarker(d.id),d.id=null):d.id=a.session.addMarker(d,"ace_line-hover","fullLine")},a.setSelectOnHover(!1),a.on("mousemove",(function(e){if(i){if(i.x!=e.x||i.y!=e.y){(i=e).scrollTop=a.renderer.scrollTop;var t=i.getDocumentPosition().row;d.start.row!=t&&(d.id||a.setRow(t),m(t))}}else i=e})),a.renderer.on("beforeRender",(function(){if(i&&-1!=d.start.row){i.$pos=null;var e=i.getDocumentPosition().row;d.id||a.setRow(e),m(e,!0)}})),a.renderer.on("afterRender",(function(){var e=a.getRow(),t=a.renderer.$textLayer,i=t.element.childNodes[e-t.config.firstRow];i!=t.selectedNode&&(t.selectedNode&&l.removeCssClass(t.selectedNode,"ace_selected"),t.selectedNode=i,i&&l.addCssClass(i,"ace_selected"))}));var p=function(){m(-1)},m=function(e,t){e!==d.start.row&&(d.start.row=d.end.row=e,t||a.session._emit("changeBackMarker"),a._emit("changeHoverMarker"))};a.getHoveredRow=function(){return d.start.row},r.addListener(a.container,"mouseout",p),a.on("hide",p),a.on("changeSelection",p),a.session.doc.getLength=function(){return a.data.length},a.session.doc.getLine=function(e){var t=a.data[e];return"string"==typeof t?t:t&&t.value||""};var g=a.session.bgTokenizer;return g.$tokenizeRow=function(e){var t=a.data[e],i=[];if(!t)return i;"string"==typeof t&&(t={value:t}),t.caption||(t.caption=t.value||t.name);for(var n,s,r=-1,o=0;o<t.caption.length;o++)s=t.caption[o],r!==(n=t.matchMask&1<<o?1:0)?(i.push({type:t.className||(n?"completion-highlight":""),value:s}),r=n):i[i.length-1].value+=s;if(t.meta){var l=a.renderer.$size.scrollerWidth/a.renderer.layerConfig.characterWidth,c=t.meta;c.length+t.caption.length>l-2&&(c=c.substr(0,l-t.caption.length-3)+""),i.push({type:"rightAlignedText",value:c})}return i},g.$updateOnChange=n,g.start=n,a.session.$computeWidth=function(){return this.screenWidth=0},a.$blockScrolling=1/0,a.isOpen=!1,a.isTopdown=!1,a.autoSelect=!0,a.data=[],a.setData=function(e){a.setValue(o.stringRepeat("\n",e.length),-1),a.data=e||[],a.setRow(0)},a.getData=function(e){return a.data[e]},a.getRow=function(){return u.start.row},a.setRow=function(e){e=Math.max(this.autoSelect?0:-1,Math.min(this.data.length,e)),u.start.row!=e&&(a.selection.clearSelection(),u.start.row=u.end.row=e||0,a.session._emit("changeBackMarker"),a.moveCursorTo(e||0,0),a.isOpen&&a._signal("select"))},a.on("changeSelection",(function(){a.isOpen&&a.setRow(a.selection.lead.row),a.renderer.scrollCursorIntoView()})),a.hide=function(){this.container.style.display="none",this._signal("hide"),a.isOpen=!1},a.show=function(e,t,n){var s=this.container,r=window.innerHeight,o=window.innerWidth,l=this.renderer,c=l.$maxLines*t*1.4,d=e.top+this.$borderSize;d>r/2&&!n&&d+t+c>r?(l.$maxPixelHeight=d-2*this.$borderSize,s.style.top="",s.style.bottom=r-d+"px",a.isTopdown=!1):(d+=t,l.$maxPixelHeight=r-d-.2*t,s.style.top=d+"px",s.style.bottom="",a.isTopdown=!0),s.style.display="",this.renderer.$textLayer.checkForSizeChanges();var u=e.left;u+s.offsetWidth>o&&(u=o-s.offsetWidth),s.style.left=u+"px",this._signal("show"),i=null,a.isOpen=!0},a.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},a.$imageSize=0,a.$borderSize=1,a}})),ace.define("ace/autocomplete/util",["require","exports","module"],(function(e,t,a){"use strict";t.parForEach=function(e,t,a){var i=0,n=e.length;0===n&&a();for(var s=0;s<n;s++)t(e[s],(function(e,t){++i===n&&a(e,t)}))};var i=/[a-zA-Z_0-9\$\-\u00A2-\uFFFF]/;t.retrievePrecedingIdentifier=function(e,t,a){a=a||i;for(var n=[],s=t-1;s>=0&&a.test(e[s]);s--)n.push(e[s]);return n.reverse().join("")},t.retrieveFollowingIdentifier=function(e,t,a){a=a||i;for(var n=[],s=t;s<e.length&&a.test(e[s]);s++)n.push(e[s]);return n},t.getCompletionPrefix=function(e){var t,a=e.getCursorPosition(),i=e.session.getLine(a.row);return e.completers.forEach(function(e){e.identifierRegexps&&e.identifierRegexps.forEach(function(e){!t&&e&&(t=this.retrievePrecedingIdentifier(i,a.column,e))}.bind(this))}.bind(this)),t||this.retrievePrecedingIdentifier(i,a.column)}})),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/snippets"],(function(e,t,a){"use strict";var i=e("./keyboard/hash_handler").HashHandler,n=e("./autocomplete/popup").AcePopup,s=e("./autocomplete/util"),r=(e("./lib/event"),e("./lib/lang")),o=e("./lib/dom"),l=e("./snippets").snippetManager,c=function(){this.autoInsert=!1,this.autoSelect=!0,this.exactMatch=!1,this.gatherCompletionsId=0,this.keyboardHandler=new i,this.keyboardHandler.bindKeys(this.commands),this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.changeTimer=r.delayedCall(function(){this.updateCompletions(!0)}.bind(this)),this.tooltipTimer=r.delayedCall(this.updateDocTooltip.bind(this),50)};(function(){this.$init=function(){return this.popup=new n(document.body||document.documentElement),this.popup.on("click",function(e){this.insertMatch(),e.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.tooltipTimer.bind(null,null)),this.popup.on("select",this.tooltipTimer.bind(null,null)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup},this.getPopup=function(){return this.popup||this.$init()},this.openPopup=function(e,t,a){this.popup||this.$init(),this.popup.autoSelect=this.autoSelect,this.popup.setData(this.completions.filtered),e.keyBinding.addKeyboardHandler(this.keyboardHandler);var i=e.renderer;if(this.popup.setRow(this.autoSelect?0:-1),a)a&&!t&&this.detach();else{this.popup.setTheme(e.getTheme()),this.popup.setFontSize(e.getFontSize());var n=i.layerConfig.lineHeight,s=i.$cursorLayer.getPixelPosition(this.base,!0);s.left-=this.popup.getTextLeftOffset();var r=e.container.getBoundingClientRect();s.top+=r.top-i.layerConfig.offset,s.left+=r.left-e.renderer.scrollLeft,s.left+=i.gutterWidth,this.popup.show(s,n)}},this.detach=function(){this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener),this.changeTimer.cancel(),this.hideDocTooltip(),this.gatherCompletionsId+=1,this.popup&&this.popup.isOpen&&this.popup.hide(),this.base&&this.base.detach(),this.activated=!1,this.completions=this.base=null},this.changeListener=function(e){var t=this.editor.selection.lead;(t.row!=this.base.row||t.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},this.blurListener=function(e){var t=document.activeElement,a=this.editor.textInput.getElement(),i=e.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(e.relatedTarget),n=this.popup&&this.popup.container;t==a||t.parentNode==n||i||t==this.tooltipNode||e.relatedTarget==a||this.detach()},this.mousedownListener=function(e){this.detach()},this.mousewheelListener=function(e){this.detach()},this.goTo=function(e){var t=this.popup.getRow(),a=this.popup.session.getLength()-1;switch(e){case"up":t=t<=0?a:t-1;break;case"down":t=t>=a?-1:t+1;break;case"start":t=0;break;case"end":t=a}this.popup.setRow(t)},this.insertMatch=function(e,t){if(e||(e=this.popup.getData(this.popup.getRow())),!e)return!1;if(e.completer&&e.completer.insertMatch)e.completer.insertMatch(this.editor,e);else{if(this.completions.filterText)for(var a,i=this.editor.selection.getAllRanges(),n=0;a=i[n];n++)a.start.column-=this.completions.filterText.length,this.editor.session.remove(a);e.snippet?l.insertSnippet(this.editor,e.snippet):this.editor.execCommand("insertstring",e.value||e)}this.detach()},this.commands={Up:function(e){e.completer.goTo("up")},Down:function(e){e.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(e){e.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(e){e.completer.goTo("end")},Esc:function(e){e.completer.detach()},Return:function(e){return e.completer.insertMatch()},"Shift-Return":function(e){e.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(e){var t=e.completer.insertMatch();if(t||e.tabstopManager)return t;e.completer.goTo("down")},PageUp:function(e){e.completer.popup.gotoPageUp()},PageDown:function(e){e.completer.popup.gotoPageDown()}},this.gatherCompletions=function(e,t){var a=e.getSession(),i=e.getCursorPosition(),n=s.getCompletionPrefix(e);this.base=a.doc.createAnchor(i.row,i.column-n.length),this.base.$insertRight=!0;var r=[],o=e.completers.length;return e.completers.forEach((function(l,c){l.getCompletions(e,a,i,n,(function(a,i){!a&&i&&(r=r.concat(i)),t(null,{prefix:s.getCompletionPrefix(e),matches:r,finished:0==--o})}))})),!0},this.showPopup=function(e){this.editor&&this.detach(),this.activated=!0,this.editor=e,e.completer!=this&&(e.completer&&e.completer.detach(),e.completer=this),e.on("changeSelection",this.changeListener),e.on("blur",this.blurListener),e.on("mousedown",this.mousedownListener),e.on("mousewheel",this.mousewheelListener),this.updateCompletions()},this.updateCompletions=function(e){if(e&&this.base&&this.completions){var t=this.editor.getCursorPosition(),a=this.editor.session.getTextRange({start:this.base,end:t});if(a==this.completions.filterText)return;return this.completions.setFilter(a),this.completions.filtered.length?1!=this.completions.filtered.length||this.completions.filtered[0].value!=a||this.completions.filtered[0].snippet?void this.openPopup(this.editor,a,e):this.detach():this.detach()}var i=this.gatherCompletionsId;this.gatherCompletions(this.editor,function(t,a){var n=function(){if(a.finished)return this.detach()}.bind(this),s=a.prefix,r=a&&a.matches;if(!r||!r.length)return n();if(0===s.indexOf(a.prefix)&&i==this.gatherCompletionsId){this.completions=new d(r),this.exactMatch&&(this.completions.exactMatch=!0),this.completions.setFilter(s);var o=this.completions.filtered;return o.length&&(1!=o.length||o[0].value!=s||o[0].snippet)?this.autoInsert&&1==o.length&&a.finished?this.insertMatch(o[0]):void this.openPopup(this.editor,s,e):n()}}.bind(this))},this.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},this.updateDocTooltip=function(){var e=this.popup,t=e.data,a=t&&(t[e.getHoveredRow()]||t[e.getRow()]),i=null;return a&&this.editor&&this.popup.isOpen?(this.editor.completers.some((function(e){return e.getDocTooltip&&(i=e.getDocTooltip(a)),i})),i||(i=a),"string"==typeof i&&(i={docText:i}),i&&(i.docHTML||i.docText)?void this.showDocTooltip(i):this.hideDocTooltip()):this.hideDocTooltip()},this.showDocTooltip=function(e){this.tooltipNode||(this.tooltipNode=o.createElement("div"),this.tooltipNode.className="ace_tooltip ace_doc-tooltip",this.tooltipNode.style.margin=0,this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this));var t=this.tooltipNode;e.docHTML?t.innerHTML=e.docHTML:e.docText&&(t.textContent=e.docText),t.parentNode||document.body.appendChild(t);var a=this.popup,i=a.container.getBoundingClientRect();t.style.top=a.container.style.top,t.style.bottom=a.container.style.bottom,window.innerWidth-i.right<320?(t.style.right=window.innerWidth-i.left+"px",t.style.left=""):(t.style.left=i.right+1+"px",t.style.right=""),t.style.display="block"},this.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),this.tooltipNode){var e=this.tooltipNode;this.editor.isFocused()||document.activeElement!=e||this.editor.focus(),this.tooltipNode=null,e.parentNode&&e.parentNode.removeChild(e)}},this.onTooltipClick=function(e){for(var t=e.target;t&&t!=this.tooltipNode;){if("A"==t.nodeName&&t.href){t.rel="noreferrer",t.target="_blank";break}t=t.parentNode}}}).call(c.prototype),c.startCommand={name:"startAutocomplete",exec:function(e){e.completer||(e.completer=new c),e.completer.autoInsert=!1,e.completer.autoSelect=!0,e.completer.showPopup(e),e.completer.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var d=function(e,t){this.all=e,this.filtered=e,this.filterText=t||"",this.exactMatch=!1};(function(){this.setFilter=function(e){if(e.length>this.filterText&&0===e.lastIndexOf(this.filterText,0))var t=this.filtered;else t=this.all;this.filterText=e,t=(t=this.filterCompletions(t,this.filterText)).sort((function(e,t){return t.exactMatch-e.exactMatch||t.score-e.score}));var a=null;t=t.filter((function(e){var t=e.snippet||e.caption||e.value;return t!==a&&(a=t,!0)})),this.filtered=t},this.filterCompletions=function(e,t){var a=[],i=t.toUpperCase(),n=t.toLowerCase();e:for(var s,r=0;s=e[r];r++){var o=s.value||s.caption||s.snippet;if(o){var l,c,d=-1,u=0,p=0;if(this.exactMatch){if(t!==o.substr(0,t.length))continue e}else for(var m=0;m<t.length;m++){var g=o.indexOf(n[m],d+1),f=o.indexOf(i[m],d+1);if((l=g>=0&&(f<0||g<f)?g:f)<0)continue e;(c=l-d-1)>0&&(-1===d&&(p+=10),p+=c),u|=1<<l,d=l}s.matchMask=u,s.exactMatch=p?0:1,s.score=(s.score||0)-p,a.push(s)}}return a}}).call(d.prototype),t.Autocomplete=c,t.FilteredList=d})),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],(function(e,t,a){var i=e("../range").Range,n=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function s(e,t){var a=function(e,t){return e.getTextRange(i.fromPoints({row:0,column:0},t)).split(n).length-1}(e,t),s=e.getValue().split(n),r=Object.create(null),o=s[a];return s.forEach((function(e,t){if(e&&e!==o){var i=Math.abs(a-t),n=s.length-i;r[e]?r[e]=Math.max(n,r[e]):r[e]=n}})),r}t.getCompletions=function(e,t,a,i,n){var r=s(t,a);n(null,Object.keys(r).map((function(e){return{caption:e,value:e,score:r[e],meta:"local"}})))}})),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],(function(e,t,a){"use strict";var i=e("../snippets").snippetManager,n=e("../autocomplete").Autocomplete,s=e("../config"),r=e("../lib/lang"),o=e("../autocomplete/util"),l=e("../autocomplete/text_completer"),c={getCompletions:function(e,t,a,i,n){if(t.$mode.completer)return t.$mode.completer.getCompletions(e,t,a,i,n);var s=e.session.getState(a.row);n(null,t.$mode.getCompletions(s,t,a,i))}},d={getCompletions:function(e,t,a,n,s){var r=i.snippetMap,o=[];i.getActiveScopes(e).forEach((function(e){for(var t=r[e]||[],a=t.length;a--;){var i=t[a],n=i.name||i.tabTrigger;n&&o.push({caption:n,snippet:i.content,meta:i.tabTrigger&&!i.name?i.tabTrigger+" ":"snippet",type:"snippet"})}}),this),s(null,o)},getDocTooltip:function(e){"snippet"!=e.type||e.docHTML||(e.docHTML=["<b>",r.escapeHTML(e.caption),"</b>","<hr></hr>",r.escapeHTML(e.snippet)].join(""))}},u=[d,l,c];t.setCompleters=function(e){u.length=0,e&&u.push.apply(u,e)},t.addCompleter=function(e){u.push(e)},t.textCompleter=l,t.keyWordCompleter=c,t.snippetCompleter=d;var p={name:"expandSnippet",exec:function(e){return i.expandWithTab(e)},bindKey:"Tab"},m=function(e,t){g(t.session.$mode)},g=function(e){var t=e.$id;i.files||(i.files={}),f(t),e.modes&&e.modes.forEach(g)},f=function(e){if(e&&!i.files[e]){var t=e.replace("mode","snippets");i.files[e]={},s.loadModule(t,(function(t){t&&(i.files[e]=t,!t.snippets&&t.snippetText&&(t.snippets=i.parseSnippetFile(t.snippetText)),i.register(t.snippets||[],t.scope),t.includeScopes&&(i.snippetMap[t.scope].includeScopes=t.includeScopes,t.includeScopes.forEach((function(e){f("ace/mode/"+e)}))))}))}},x=function(e){var t=e.editor,a=t.completer&&t.completer.activated;if("backspace"===e.command.name)a&&!o.getCompletionPrefix(t)&&t.completer.detach();else if("insertstring"===e.command.name){o.getCompletionPrefix(t)&&!a&&(t.completer||(t.completer=new n),t.completer.autoInsert=!1,t.completer.showPopup(t))}},b=e("../editor").Editor;e("../config").defineOptions(b.prototype,"editor",{enableBasicAutocompletion:{set:function(e){e?(this.completers||(this.completers=Array.isArray(e)?e:u),this.commands.addCommand(n.startCommand)):this.commands.removeCommand(n.startCommand)},value:!1},enableLiveAutocompletion:{set:function(e){e?(this.completers||(this.completers=Array.isArray(e)?e:u),this.commands.on("afterExec",x)):this.commands.removeListener("afterExec",x)},value:!1},enableSnippets:{set:function(e){e?(this.commands.addCommand(p),this.on("changeMode",m),m(0,this)):(this.commands.removeCommand(p),this.off("changeMode",m))},value:!1}})})),ace.acequire(["ace/ext/language_tools"],(function(){}))},function(e,t,a){"use strict";function i(e){return function(t){var a=t.dispatch,i=t.getState;return function(t){return function(n){return"function"==typeof n?n(a,i,e):t(n)}}}}t.__esModule=!0;var n=i();n.withExtraArgument=i,t.default=n},function(e,t,a){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,a,i){void 0===i&&(i=a),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,i){void 0===i&&(i=a),e[i]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&i(t,e,a);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.filterMap=t.separate=t.compact=t.fromArray=t.toggle=t.remove=t.insert=t.singleton=t.foldMap=t.reduce=t.getIntersectionSemigroup=t.getUnionMonoid=t.difference=t.partitionMap=t.intersection=t.union=t.elem=t.partition=t.filter=t.subset=t.chain=t.every=t.map=t.some=t.getEq=t.toArray=t.empty=t.getShow=void 0;var r=s(a(159));t.getShow=r.getShow,t.empty=new Set,t.toArray=r.toReadonlyArray,t.getEq=r.getEq,t.some=r.some,t.map=r.map,t.every=r.every,t.chain=r.chain,t.subset=r.isSubset,t.filter=function(e){return r.filter(e)},t.partition=function(e){return r.partition(e)},t.elem=r.elem,t.union=r.union,t.intersection=r.intersection,t.partitionMap=r.partitionMap,t.difference=r.difference,t.getUnionMonoid=r.getUnionMonoid,t.getIntersectionSemigroup=r.getIntersectionSemigroup,t.reduce=r.reduce,t.foldMap=r.foldMap,t.singleton=r.singleton,t.insert=r.insert,t.remove=r.remove,t.toggle=function(e){var a=t.elem(e),i=t.remove(e),n=t.insert(e);return function(e){return function(t){return(a(e,t)?i:n)(e)(t)}}},t.fromArray=r.fromArray,t.compact=r.compact,t.separate=r.separate,t.filterMap=r.filterMap},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterMap=t.separate=t.compact=t.fromArray=t.remove=t.insert=t.singleton=t.foldMap=t.reduce=t.getIntersectionSemigroup=t.getUnionMonoid=t.difference=t.partitionMap=t.intersection=t.union=t.elem=t.partition=t.filter=t.isSubset=t.chain=t.every=t.map=t.some=t.getEq=t.toReadonlyArray=t.empty=t.getShow=t.toSet=t.fromSet=void 0;var i=a(160),n=a(53);function s(e){return function(t){var a=[];return t.forEach((function(e){return a.push(e)})),a.sort(e.compare)}}function r(e){return function(t){for(var a,i=t.values(),n=!1;!n&&!(a=i.next()).done;)n=e(a.value);return n}}function o(e){return n.not(r(n.not(e)))}function l(e){var t=d(e);return function(a,i){if(void 0===i){var n=l(e);return function(e){return n(e,a)}}return o((function(e){return t(e,i)}))(a)}}function c(e){return function(t){for(var a,i=t.values(),n=new Set;!(a=i.next()).done;){var s=a.value;e(s)&&n.add(s)}return n}}function d(e){return function(t,a){if(void 0===a){var i=d(e);return function(e){return i(t,e)}}for(var n,s=a.values(),r=!1;!r&&!(n=s.next()).done;)r=e.equals(t,n.value);return r}}function u(e){var a=d(e);return function(i,n){if(void 0===n){var s=u(e);return function(e){return s(i,e)}}if(i===t.empty)return n;if(n===t.empty)return i;var r=new Set(i);return n.forEach((function(e){a(e,r)||r.add(e)})),r}}function p(e){var a=d(e);return function(i,n){if(void 0===n){var s=p(e);return function(e){return s(e,i)}}if(i===t.empty||n===t.empty)return t.empty;var r=new Set;return i.forEach((function(e){a(e,n)&&r.add(e)})),r}}function m(e){var t=d(e);return function(e){return function(a){var i=new Set;return a.forEach((function(a){var n=e(a);"Some"!==n._tag||t(n.value,i)||i.add(n.value)})),i}}}t.fromSet=function(e){return new Set(e)},t.toSet=function(e){return new Set(e)},t.getShow=function(e){return{show:function(t){var a="";return t.forEach((function(t){a+=e.show(t)+", "})),""!==a&&(a=a.substring(0,a.length-2)),"new Set(["+a+"])"}}},t.empty=new Set,t.toReadonlyArray=s,t.getEq=function(e){var t=l(e);return i.fromEquals((function(e,a){return t(e,a)&&t(a,e)}))},t.some=r,t.map=function(e){var t=d(e);return function(e){return function(a){var i=new Set;return a.forEach((function(a){var n=e(a);t(n,i)||i.add(n)})),i}}},t.every=o,t.chain=function(e){var t=d(e);return function(e){return function(a){var i=new Set;return a.forEach((function(a){e(a).forEach((function(e){t(e,i)||i.add(e)}))})),i}}},t.isSubset=l,t.filter=c,t.partition=function(e){return function(t){for(var a,i=t.values(),n=new Set,s=new Set;!(a=i.next()).done;){var r=a.value;e(r)?n.add(r):s.add(r)}return{left:s,right:n}}},t.elem=d,t.union=u,t.intersection=p,t.partitionMap=function(e,t){return function(a){return function(i){for(var n,s=i.values(),r=new Set,o=new Set,l=d(e),c=d(t);!(n=s.next()).done;){var u=a(n.value);switch(u._tag){case"Left":l(u.left,r)||r.add(u.left);break;case"Right":c(u.right,o)||o.add(u.right)}}return{left:r,right:o}}}},t.difference=function e(t){var a=d(t);return function(i,n){if(void 0===n){var s=e(t);return function(e){return s(e,i)}}return c((function(e){return!a(e,n)}))(i)}},t.getUnionMonoid=function(e){return{concat:u(e),empty:t.empty}},t.getIntersectionSemigroup=function(e){return{concat:p(e)}},t.reduce=function(e){var t=s(e);return function(e,a){return function(i){return t(i).reduce(a,e)}}},t.foldMap=function(e,t){var a=s(e);return function(e){return function(i){return a(i).reduce((function(a,i){return t.concat(a,e(i))}),t.empty)}}},t.singleton=function(e){return new Set([e])},t.insert=function(e){var t=d(e);return function(e){return function(a){if(t(e)(a))return a;var i=new Set(a);return i.add(e),i}}},t.remove=function(e){return function(t){return function(a){return c((function(a){return!e.equals(t,a)}))(a)}}},t.fromArray=function(e){return function(t){for(var a=t.length,i=new Set,n=d(e),s=0;s<a;s++){var r=t[s];n(r,i)||i.add(r)}return i}},t.compact=function(e){return m(e)(n.identity)},t.separate=function(e,t){return function(a){var i=d(e),n=d(t),s=new Set,r=new Set;return a.forEach((function(e){switch(e._tag){case"Left":i(e.left,s)||s.add(e.left);break;case"Right":n(e.right,r)||r.add(e.right)}})),{left:s,right:r}}},t.filterMap=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.eq=t.Contravariant=t.getMonoid=t.eqDate=t.getTupleEq=t.getStructEq=t.eqBoolean=t.eqNumber=t.eqString=t.strictEqual=t.eqStrict=t.URI=t.contramap=t.fromEquals=void 0;var i=a(53);function n(e){return{equals:function(t,a){return t===a||e(t,a)}}}t.fromEquals=n;function s(e,t){return e===t}t.contramap=function(e){return function(t){return n((function(a,i){return t.equals(e(a),e(i))}))}},t.URI="Eq",t.eqStrict={equals:s},t.strictEqual=s,t.eqString=t.eqStrict,t.eqNumber=t.eqStrict,t.eqBoolean=t.eqStrict,t.getStructEq=function(e){return n((function(t,a){for(var i in e)if(!e[i].equals(t[i],a[i]))return!1;return!0}))},t.getTupleEq=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n((function(t,a){return e.every((function(e,i){return e.equals(t[i],a[i])}))}))},t.eqDate={equals:function(e,t){return e.valueOf()===t.valueOf()}};var r={equals:function(){return!0}};t.getMonoid=function(){return{concat:function(e,t){return n((function(a,i){return e.equals(a,i)&&t.equals(a,i)}))},empty:r}},t.Contravariant={URI:t.URI,contramap:function(e,a){return i.pipe(e,t.contramap(a))}},t.eq=t.Contravariant},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ord=t.Contravariant=t.ordDate=t.URI=t.contramap=t.getDualOrd=t.getTupleOrd=t.getMonoid=t.getSemigroup=t.fromCompare=t.between=t.clamp=t.max=t.min=t.geq=t.leq=t.gt=t.lt=t.ordBoolean=t.ordNumber=t.ordString=void 0;var i=a(162),n=a(53);function s(e,t){return e<t?-1:e>t?1:0}function r(e,t){return e===t}function o(e){return function(t,a){return-1===e.compare(t,a)}}function l(e){return function(t,a){return 1===e.compare(t,a)}}function c(e){return function(t,a){return 1===e.compare(t,a)?a:t}}function d(e){return function(t,a){return-1===e.compare(t,a)?a:t}}function u(e){var t=function(t,a){return t===a?0:e(t,a)};return{equals:function(e,a){return 0===t(e,a)},compare:t}}function p(){return{concat:function(e,t){return u((function(a,n){return i.monoidOrdering.concat(e.compare(a,n),t.compare(a,n))}))}}}t.ordString={equals:r,compare:s},t.ordNumber={equals:r,compare:s},t.ordBoolean={equals:r,compare:s},t.lt=o,t.gt=l,t.leq=function(e){return function(t,a){return 1!==e.compare(t,a)}},t.geq=function(e){return function(t,a){return-1!==e.compare(t,a)}},t.min=c,t.max=d,t.clamp=function(e){var t=c(e),a=d(e);return function(e,i){return function(n){return a(t(n,i),e)}}},t.between=function(e){var t=o(e),a=l(e);return function(e,i){return function(n){return!t(n,e)&&!a(n,i)}}},t.fromCompare=u,t.getSemigroup=p,t.getMonoid=function(){return{concat:p().concat,empty:u((function(){return 0}))}},t.getTupleOrd=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=e.length;return u((function(t,i){for(var n=0;n<a-1;n++){var s=e[n].compare(t[n],i[n]);if(0!==s)return s}return e[n].compare(t[n],i[n])}))},t.getDualOrd=function(e){return u((function(t,a){return e.compare(a,t)}))};t.contramap=function(e){return function(t){return u((function(a,i){return t.compare(e(a),e(i))}))}},t.URI="Ord",t.ordDate=n.pipe(t.ordNumber,t.contramap((function(e){return e.valueOf()}))),t.Contravariant={URI:t.URI,contramap:function(e,a){return n.pipe(e,t.contramap(a))}},t.ord=t.Contravariant},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.invert=t.monoidOrdering=t.semigroupOrdering=t.eqOrdering=t.sign=void 0,t.sign=function(e){return e<=-1?-1:e>=1?1:0},t.eqOrdering={equals:function(e,t){return e===t}},t.semigroupOrdering={concat:function(e,t){return 0!==e?e:t}},t.monoidOrdering={concat:t.semigroupOrdering.concat,empty:0},t.invert=function(e){switch(e){case-1:return 1;case 1:return-1;default:return 0}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(26),n=a(68),s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(e,t)};var r,o,l,c=function(){return(c=Object.assign||function(e){for(var t,a=1,i=arguments.length;a<i;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};!function(e){e.AUTO="auto",e.START="start",e.CENTER="center",e.END="end"}(r||(r={})),(o=t.ScrollDirection||(t.ScrollDirection={})).HORIZONTAL="horizontal",o.VERTICAL="vertical",function(e){e.OBSERVED="observed",e.REQUESTED="requested"}(l||(l={}));var d,u,p,m,g,f=((d={})[t.ScrollDirection.VERTICAL]="scrollTop",d[t.ScrollDirection.HORIZONTAL]="scrollLeft",d),x=((u={})[t.ScrollDirection.VERTICAL]="height",u[t.ScrollDirection.HORIZONTAL]="width",u),b=((p={})[t.ScrollDirection.VERTICAL]="top",p[t.ScrollDirection.HORIZONTAL]="left",p),h=((m={})[t.ScrollDirection.VERTICAL]="marginTop",m[t.ScrollDirection.HORIZONTAL]="marginLeft",m),j=((g={})[t.ScrollDirection.VERTICAL]="marginBottom",g[t.ScrollDirection.HORIZONTAL]="marginRight",g),M=function(){function e(e){var t=e.itemCount,a=e.itemSizeGetter,i=e.estimatedItemSize;this.itemSizeGetter=a,this.itemCount=t,this.estimatedItemSize=i,this.itemSizeAndPositionData={},this.lastMeasuredIndex=-1}return e.prototype.updateConfig=function(e){var t=e.itemCount,a=e.itemSizeGetter,i=e.estimatedItemSize;null!=t&&(this.itemCount=t),null!=i&&(this.estimatedItemSize=i),null!=a&&(this.itemSizeGetter=a)},e.prototype.getLastMeasuredIndex=function(){return this.lastMeasuredIndex},e.prototype.getSizeAndPositionForIndex=function(e){if(e<0||e>=this.itemCount)throw Error("Requested index "+e+" is outside of range 0.."+this.itemCount);if(e>this.lastMeasuredIndex){for(var t=this.getSizeAndPositionOfLastMeasuredItem(),a=t.offset+t.size,i=this.lastMeasuredIndex+1;i<=e;i++){var n=this.itemSizeGetter(i);if(null==n||isNaN(n))throw Error("Invalid size returned for index "+i+" of value "+n);this.itemSizeAndPositionData[i]={offset:a,size:n},a+=n}this.lastMeasuredIndex=e}return this.itemSizeAndPositionData[e]},e.prototype.getSizeAndPositionOfLastMeasuredItem=function(){return this.lastMeasuredIndex>=0?this.itemSizeAndPositionData[this.lastMeasuredIndex]:{offset:0,size:0}},e.prototype.getTotalSize=function(){var e=this.getSizeAndPositionOfLastMeasuredItem();return e.offset+e.size+(this.itemCount-this.lastMeasuredIndex-1)*this.estimatedItemSize},e.prototype.getUpdatedOffsetForIndex=function(e){var t=e.align,a=void 0===t?r.START:t,i=e.containerSize,n=e.currentOffset,s=e.targetIndex;if(i<=0)return 0;var o,l=this.getSizeAndPositionForIndex(s),c=l.offset,d=c-i+l.size;switch(a){case r.END:o=d;break;case r.CENTER:o=c-(i-l.size)/2;break;case r.START:o=c;break;default:o=Math.max(d,Math.min(c,n))}var u=this.getTotalSize();return Math.max(0,Math.min(u-i,o))},e.prototype.getVisibleRange=function(e){var t=e.containerSize,a=e.offset,i=e.overscanCount;if(0===this.getTotalSize())return{};var n=a+t,s=this.findNearestItem(a);if(void 0===s)throw Error("Invalid offset "+a+" specified");var r=this.getSizeAndPositionForIndex(s);a=r.offset+r.size;for(var o=s;a<n&&o<this.itemCount-1;)o++,a+=this.getSizeAndPositionForIndex(o).size;return i&&(s=Math.max(0,s-i),o=Math.min(o+i,this.itemCount-1)),{start:s,stop:o}},e.prototype.resetItem=function(e){this.lastMeasuredIndex=Math.min(this.lastMeasuredIndex,e-1)},e.prototype.findNearestItem=function(e){if(isNaN(e))throw Error("Invalid offset "+e+" specified");e=Math.max(0,e);var t=this.getSizeAndPositionOfLastMeasuredItem(),a=Math.max(0,this.lastMeasuredIndex);return t.offset>=e?this.binarySearch({high:a,low:0,offset:e}):this.exponentialSearch({index:a,offset:e})},e.prototype.binarySearch=function(e){for(var t=e.low,a=e.high,i=e.offset,n=0,s=0;t<=a;){if(n=t+Math.floor((a-t)/2),(s=this.getSizeAndPositionForIndex(n).offset)===i)return n;s<i?t=n+1:s>i&&(a=n-1)}return t>0?t-1:0},e.prototype.exponentialSearch=function(e){for(var t=e.index,a=e.offset,i=1;t<this.itemCount&&this.getSizeAndPositionForIndex(t).offset<a;)t+=i,i*=2;return this.binarySearch({high:Math.min(t,this.itemCount-1),low:Math.floor(t/2),offset:a})},e}(),y={overflow:"auto",willChange:"transform",WebkitOverflowScrolling:"touch"},O={position:"relative",width:"100%",minHeight:"100%"},v={position:"absolute",top:0,left:0,width:"100%"},T=c({},v,{position:"sticky"}),E=function(e){function a(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemSizeGetter=function(e){return function(a){return t.getSize(a,e)}},t.sizeAndPositionManager=new M({itemCount:t.props.itemCount,itemSizeGetter:t.itemSizeGetter(t.props.itemSize),estimatedItemSize:t.getEstimatedItemSize()}),t.state={offset:t.props.scrollOffset||null!=t.props.scrollToIndex&&t.getOffsetForIndex(t.props.scrollToIndex)||0,scrollChangeReason:l.REQUESTED},t.styleCache={},t.getRef=function(e){t.rootNode=e},t.handleScroll=function(e){var a=t.props.onScroll,i=t.getNodeOffset();i<0||t.state.offset===i||e.target!==t.rootNode||(t.setState({offset:i,scrollChangeReason:l.OBSERVED}),"function"==typeof a&&a(i,e))},t}return function(e,t){function a(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}(a,e),a.prototype.componentDidMount=function(){var e=this.props,t=e.scrollOffset,a=e.scrollToIndex;this.rootNode.addEventListener("scroll",this.handleScroll,{passive:!0}),null!=t?this.scrollTo(t):null!=a&&this.scrollTo(this.getOffsetForIndex(a))},a.prototype.componentWillReceiveProps=function(e){var t=this.props,a=t.estimatedItemSize,i=t.itemCount,n=t.itemSize,s=t.scrollOffset,r=t.scrollToAlignment,o=t.scrollToIndex,c=e.scrollToIndex!==o||e.scrollToAlignment!==r,d=e.itemCount!==i||e.itemSize!==n||e.estimatedItemSize!==a;e.itemSize!==n&&this.sizeAndPositionManager.updateConfig({itemSizeGetter:this.itemSizeGetter(e.itemSize)}),e.itemCount===i&&e.estimatedItemSize===a||this.sizeAndPositionManager.updateConfig({itemCount:e.itemCount,estimatedItemSize:this.getEstimatedItemSize(e)}),d&&this.recomputeSizes(),e.scrollOffset!==s?this.setState({offset:e.scrollOffset||0,scrollChangeReason:l.REQUESTED}):"number"==typeof e.scrollToIndex&&(c||d)&&this.setState({offset:this.getOffsetForIndex(e.scrollToIndex,e.scrollToAlignment,e.itemCount),scrollChangeReason:l.REQUESTED})},a.prototype.componentDidUpdate=function(e,t){var a=this.state,i=a.offset,n=a.scrollChangeReason;t.offset!==i&&n===l.REQUESTED&&this.scrollTo(i)},a.prototype.componentWillUnmount=function(){this.rootNode.removeEventListener("scroll",this.handleScroll)},a.prototype.scrollTo=function(e){var a=this.props.scrollDirection,i=void 0===a?t.ScrollDirection.VERTICAL:a;this.rootNode[f[i]]=e},a.prototype.getOffsetForIndex=function(e,a,i){void 0===a&&(a=this.props.scrollToAlignment),void 0===i&&(i=this.props.itemCount);var n=this.props.scrollDirection,s=void 0===n?t.ScrollDirection.VERTICAL:n;return(e<0||e>=i)&&(e=0),this.sizeAndPositionManager.getUpdatedOffsetForIndex({align:a,containerSize:this.props[x[s]],currentOffset:this.state&&this.state.offset||0,targetIndex:e})},a.prototype.recomputeSizes=function(e){void 0===e&&(e=0),this.styleCache={},this.sizeAndPositionManager.resetItem(e)},a.prototype.render=function(){var e,a=this,n=this.props,s=(n.estimatedItemSize,n.height),r=n.overscanCount,o=void 0===r?3:r,l=n.renderItem,d=(n.itemCount,n.itemSize,n.onItemsRendered),u=(n.onScroll,n.scrollDirection),p=void 0===u?t.ScrollDirection.VERTICAL:u,m=(n.scrollOffset,n.scrollToIndex,n.scrollToAlignment,n.stickyIndices),g=n.style,f=n.width,b=function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&(a[i[n]]=e[i[n]])}return a}(n,["estimatedItemSize","height","overscanCount","renderItem","itemCount","itemSize","onItemsRendered","onScroll","scrollDirection","scrollOffset","scrollToIndex","scrollToAlignment","stickyIndices","style","width"]),h=this.state.offset,j=this.sizeAndPositionManager.getVisibleRange({containerSize:this.props[x[p]]||0,offset:h,overscanCount:o}),M=j.start,v=j.stop,T=[],E=c({},y,g,{height:s,width:f}),k=c({},O,((e={})[x[p]]=this.sizeAndPositionManager.getTotalSize(),e));if(null!=m&&0!==m.length&&(m.forEach((function(e){return T.push(l({index:e,style:a.getStyle(e,!0)}))})),p===t.ScrollDirection.HORIZONTAL&&(k.display="flex")),void 0!==M&&void 0!==v){for(var F=M;F<=v;F++)null!=m&&m.includes(F)||T.push(l({index:F,style:this.getStyle(F,!1)}));"function"==typeof d&&d({startIndex:M,stopIndex:v})}return i.createElement("div",c({ref:this.getRef},b,{style:E}),i.createElement("div",{style:k},T))},a.prototype.getNodeOffset=function(){var e=this.props.scrollDirection,a=void 0===e?t.ScrollDirection.VERTICAL:e;return this.rootNode[f[a]]},a.prototype.getEstimatedItemSize=function(e){return void 0===e&&(e=this.props),e.estimatedItemSize||"number"==typeof e.itemSize&&e.itemSize||50},a.prototype.getSize=function(e,t){return"function"==typeof t?t(e):Array.isArray(t)?t[e]:t},a.prototype.getStyle=function(e,a){var i=this.styleCache[e];if(i)return i;var n,s,r=this.props.scrollDirection,o=void 0===r?t.ScrollDirection.VERTICAL:r,l=this.sizeAndPositionManager.getSizeAndPositionForIndex(e),d=l.size,u=l.offset;return this.styleCache[e]=a?c({},T,((n={})[x[o]]=d,n[h[o]]=u,n[j[o]]=-(u+d),n.zIndex=1,n)):c({},v,((s={})[x[o]]=d,s[b[o]]=u,s))},a.defaultProps={overscanCount:3,scrollDirection:t.ScrollDirection.VERTICAL,width:"100%"},a.propTypes={estimatedItemSize:n.number,height:n.oneOfType([n.number,n.string]).isRequired,itemCount:n.number.isRequired,itemSize:n.oneOfType([n.number,n.array,n.func]).isRequired,onScroll:n.func,onItemsRendered:n.func,overscanCount:n.number,renderItem:n.func.isRequired,scrollOffset:n.number,scrollToIndex:n.number,scrollToAlignment:n.oneOf([r.AUTO,r.START,r.CENTER,r.END]),scrollDirection:n.oneOf([t.ScrollDirection.HORIZONTAL,t.ScrollDirection.VERTICAL]),stickyIndices:n.arrayOf(n.number),style:n.object,width:n.oneOfType([n.number,n.string])},a}(i.PureComponent);t.default=E},function(e,t,a){"use strict";a.r(t),a.d(t,"mountManagementSection",(function(){return Bc}));var i=a(1);const n="/api/index_management",s="close",r="open",o="closing",l="opening",c="refreshing",d="flushing",u="forcemerging",p="clearing cache",m="update_settings",g="index_clear_cache",f="index_clear_cache_many",x="index_close",b="index_close_many",h="index_delete",j="index_delete_many",M="index_flush",y="index_flush_many",O="index_force_merge",v="index_force_merge_many",T="index_freeze",E="index_freeze_many",k="index_open",F="index_open_many",_="index_refresh",S="index_refresh_many",C="index_unfreeze",L="index_unfreeze_many",w="template_delete",I="template_delete_many",D="template_show_details_click",P="template_update",N="template_simulate";var A=a(6),R=a(0),z=a.n(R);const B=new class breadcrumbs_BreadcrumbService{constructor(){z()(this,"breadcrumbs",{home:[]}),z()(this,"setBreadcrumbsHandler",void 0)}setup(e){this.setBreadcrumbsHandler=e,this.breadcrumbs.home=[{text:i.i18n.translate("xpack.idxMgmt.breadcrumb.homeLabel",{defaultMessage:"Index Management"}),href:"/"}],this.breadcrumbs.templates=[...this.breadcrumbs.home,{text:i.i18n.translate("xpack.idxMgmt.breadcrumb.templatesLabel",{defaultMessage:"Templates"}),href:"/templates"}],this.breadcrumbs.templateCreate=[...this.breadcrumbs.templates,{text:i.i18n.translate("xpack.idxMgmt.breadcrumb.createTemplateLabel",{defaultMessage:"Create template"})}],this.breadcrumbs.templateEdit=[...this.breadcrumbs.templates,{text:i.i18n.translate("xpack.idxMgmt.breadcrumb.editTemplateLabel",{defaultMessage:"Edit template"})}],this.breadcrumbs.templateClone=[...this.breadcrumbs.templates,{text:i.i18n.translate("xpack.idxMgmt.breadcrumb.cloneTemplateLabel",{defaultMessage:"Clone template"})}]}setBreadcrumbs(e){if(!this.setBreadcrumbsHandler)throw new Error("BreadcrumbService#setup() must be called first!");const t=this.breadcrumbs[e]?[...this.breadcrumbs[e]]:[...this.breadcrumbs.home],a=t.pop();t.push({...a,href:void 0}),this.setBreadcrumbsHandler(t)}},V="index_default",U="standard";var q=a(26),$=a.n(q),W=a(28);const H={"indexOptions.docs":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.docNumberTitle",{defaultMessage:"Doc number"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.docNumberDescription",{defaultMessage:"Index the doc number only. Used to verify the existence of a term in a field."})},"indexOptions.freqs":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.termFrequencyTitle",{defaultMessage:"Term frequencies"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.termFrequencyDescription",{defaultMessage:"Index the doc number and term frequencies. Repeated terms score higher than single terms."})},"indexOptions.positions":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.positionsTitle",{defaultMessage:"Positions"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.positionsDescription",{defaultMessage:"Index the doc number, term frequencies, positions, and start and end character offsets. Offsets map the term back to the original string."})},"indexOptions.offsets":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.offsetsTitle",{defaultMessage:"Offsets"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.offsetsDescription",{defaultMessage:"Doc number, term frequencies, positions, and start and end character offsets (which map the term back to the original string) are indexed."})},"analyzer.indexDefault":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.indexDefaultTitle",{defaultMessage:"Index default"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.indexDefaultDescription",{defaultMessage:"Use the analyzer defined for the index."})},"analyzer.standard":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.standardTitle",{defaultMessage:"Standard"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.standardDescription",{defaultMessage:"The standard analyzer divides text into terms on word boundaries, as defined by the Unicode Text Segmentation algorithm."})},"analyzer.simple":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.simpleTitle",{defaultMessage:"Simple"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.simpleDescription",{defaultMessage:"The simple analyzer divides text into terms whenever it encounters a character which is not a letter. "})},"analyzer.whitespace":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.whitespaceTitle",{defaultMessage:"Whitespace"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.whitespaceDescription",{defaultMessage:"The whitespace analyzer divides text into terms whenever it encounters any whitespace character."})},"analyzer.stop":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.stopTitle",{defaultMessage:"Stop"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.stopDescription",{defaultMessage:"The stop analyzer is like the simple analyzer, but also supports removal of stop words."})},"analyzer.keyword":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.keywordTitle",{defaultMessage:"Keyword"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.keywordDescription",{defaultMessage:"The keyword analyzer is a noop analyzer that accepts whatever text it is given and outputs the exact same text as a single term."})},"analyzer.pattern":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.patternTitle",{defaultMessage:"Pattern"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.patternDescription",{defaultMessage:"The pattern analyzer uses a regular expression to split the text into terms. It supports lower-casing and stop words."})},"analyzer.fingerprint":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.fingerprintTitle",{defaultMessage:"Fingerprint"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.fingerprintDescription",{defaultMessage:"The fingerprint analyzer is a specialist analyzer which creates a fingerprint which can be used for duplicate detection."})},"analyzer.language":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.languageTitle",{defaultMessage:"Language"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.languageDescription",{defaultMessage:"Elasticsearch provides many language-specific analyzers like english or french."})},"similarity.bm25":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.similarity.bm25Title",{defaultMessage:"Okapi BM25"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.similarity.bm25Description",{defaultMessage:"The default algorithm used in Elasticsearch and Lucene."})},"similarity.boolean":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.similarity.booleanTitle",{defaultMessage:"Boolean"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.similarity.booleanDescription",{defaultMessage:"A boolean similarity to use when full text-ranking is not needed. The score is based on whether the query terms match."})},"termVector.no":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.noTitle",{defaultMessage:"No"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.noDescription",{defaultMessage:"No term vectors are stored."})},"termVector.yes":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.yesTitle",{defaultMessage:"Yes"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.yesDescription",{defaultMessage:"Just the terms in the field are stored."})},"termVector.withPositions":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsTitle",{defaultMessage:"With positions"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsDescription",{defaultMessage:"Terms and positions are stored."})},"termVector.withOffsets":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withOffsetsTitle",{defaultMessage:"With offsets"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withOffsetsDescription",{defaultMessage:"Terms and character offsets are stored."})},"termVector.withPositionsOffsets":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsOffsetsTitle",{defaultMessage:"With positions and offsets"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsOffsetsDescription",{defaultMessage:"Terms, positions, and character offsets are stored."})},"termVector.withPositionsPayloads":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsPayloadsTitle",{defaultMessage:"With positions and payloads"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsPayloadsDescription",{defaultMessage:"Terms, positions, and payloads are stored."})},"termVector.withPositionsOffsetsPayloads":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsOffsetsPayloadsTitle",{defaultMessage:"With positions, offsets, and payloads"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsOffsetsPayloadsDescription",{defaultMessage:"Terms, positions, offsets and payloads are stored."})},"orientation.counterclockwise":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.orientation.counterclockwiseTitle",{defaultMessage:"Counterclockwise"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.orientation.counterclockwiseDescription",{defaultMessage:"Defines outer polygon vertices in counterclockwise order and interior shape vertices in clockwise order. This is the Open Geospatial Consortium (OGC) and GeoJSON standard."})},"orientation.clockwise":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.orientation.clockwiseTitle",{defaultMessage:"Clockwise"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.orientation.clockwiseDescription",{defaultMessage:"Defines outer polygon vertices in clockwise order and interior shape vertices in counterclockwise order."})}},G={arabic:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.arabic",{defaultMessage:"Arabic"}),armenian:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.armenian",{defaultMessage:"Armenian"}),basque:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.basque",{defaultMessage:"Basque"}),bengali:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.bengali",{defaultMessage:"Bengali"}),brazilian:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.brazilian",{defaultMessage:"Brazilian"}),bulgarian:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.bulgarian",{defaultMessage:"Bulgarian"}),catalan:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.catalan",{defaultMessage:"Catalan"}),cjk:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.cjk",{defaultMessage:"Cjk"}),czech:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.czech",{defaultMessage:"Czech"}),danish:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.danish",{defaultMessage:"Danish"}),dutch:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.dutch",{defaultMessage:"Dutch"}),english:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.english",{defaultMessage:"English"}),finnish:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.finnish",{defaultMessage:"Finnish"}),french:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.french",{defaultMessage:"French"}),galician:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.galician",{defaultMessage:"Galician"}),german:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.german",{defaultMessage:"German"}),greek:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.greek",{defaultMessage:"Greek"}),hindi:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.hindi",{defaultMessage:"Hindi"}),hungarian:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.hungarian",{defaultMessage:"Hungarian"}),indonesian:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.indonesian",{defaultMessage:"Indonesian"}),irish:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.irish",{defaultMessage:"Irish"}),italian:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.italian",{defaultMessage:"Italian"}),latvian:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.latvian",{defaultMessage:"Latvian"}),lithuanian:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.lithuanian",{defaultMessage:"Lithuanian"}),norwegian:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.norwegian",{defaultMessage:"Norwegian"}),persian:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.persian",{defaultMessage:"Persian"}),portuguese:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.portuguese",{defaultMessage:"Portuguese"}),romanian:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.romanian",{defaultMessage:"Romanian"}),russian:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.russian",{defaultMessage:"Russian"}),sorani:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.sorani",{defaultMessage:"Sorani"}),spanish:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.spanish",{defaultMessage:"Spanish"}),swedish:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.swedish",{defaultMessage:"Swedish"}),thai:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.thai",{defaultMessage:"Thai"}),turkish:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.turkish",{defaultMessage:"Turkish"})};var J=a(29),Y=a(27);const K={text:{value:"text",label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.textDescription",{defaultMessage:"Text"}),documentation:{main:"/text.html"},description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.textLongDescription",defaultMessage:"Text fields support full-text search by breaking strings into individual, searchable terms. To index structured content, such as an email address, use the {keyword}.",values:{keyword:Object(Y.jsx)(W.EuiLink,{href:Ce.getTypeDocLink("keyword"),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.textLongDescription.keywordTypeLink",{defaultMessage:"keyword data type"}))}}))},keyword:{value:"keyword",label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.keywordDescription",{defaultMessage:"Keyword"}),documentation:{main:"/keyword.html"},description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.keywordLongDescription",defaultMessage:"Keyword fields support searching for an exact value and are useful for filtering, sorting, and aggregations. To index full-text content, such as an email body, use the {textType}.",values:{textType:Object(Y.jsx)(W.EuiLink,{href:Ce.getTypeDocLink("text"),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.keywordLongDescription.textTypeLink",{defaultMessage:"text data type"}))}}))},constant_keyword:{value:"constant_keyword",label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.constantKeywordDescription",{defaultMessage:"Constant keyword"}),documentation:{main:"/keyword.html#constant-keyword-field-type"},description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.constantKeywordLongDescription",defaultMessage:"Constant keyword fields are a special type of keyword fields for fields that contain the same keyword across all documents in the index. Supports the same queries and aggregations as {keyword} fields.",values:{keyword:Object(Y.jsx)(W.EuiCode,null,"keyword")}}))},numeric:{value:"numeric",label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.numericDescription",{defaultMessage:"Numeric"}),documentation:{main:"/number.html"},subTypes:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.numericSubtypeDescription",{defaultMessage:"Numeric type"}),types:["byte","double","float","half_float","integer","long","scaled_float","short"]}},byte:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.byteDescription",{defaultMessage:"Byte"}),value:"byte",description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.byteLongDescription",defaultMessage:"Byte fields accept a signed 8-bit integer with a minimum value of {minValue} and a maximum value of {maxValue}.",values:{minValue:Object(Y.jsx)(W.EuiCode,null,"-128"),maxValue:Object(Y.jsx)(W.EuiCode,null,"127")}}))},double:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.doubleDescription",{defaultMessage:"Double"}),value:"double",description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.doubleLongDescription",defaultMessage:"Double fields accept a double-precision 64-bit floating point number, restricted to finite values (IEEE 754)."}))},integer:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.integerDescription",{defaultMessage:"Integer"}),value:"integer",description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.integerLongDescription",defaultMessage:"Integer fields accept a signed 32-bit integer with a minimum value of {minValue} and a maximum value of {maxValue}.",values:{minValue:Object(Y.jsx)(W.EuiCode,null,"-2",Object(Y.jsx)("sup",{className:"eui-alignTop"},"31")),maxValue:Object(Y.jsx)(W.EuiCode,null,"2",Object(Y.jsx)("sup",{className:"eui-alignTop"},"31"),"-1")}}))},long:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.longDescription",{defaultMessage:"Long"}),value:"long",description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.longLongDescription",defaultMessage:"Long fields accept a signed 64-bit integer with a minimum value of {minValue} and a maximum value of {maxValue}.",values:{minValue:Object(Y.jsx)(W.EuiCode,null,"-2",Object(Y.jsx)("sup",{className:"eui-alignTop"},"63")),maxValue:Object(Y.jsx)(W.EuiCode,null,"2",Object(Y.jsx)("sup",{className:"eui-alignTop"},"63"),"-1")}}))},float:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.floatDescription",{defaultMessage:"Float"}),value:"float",description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.floatLongDescription",defaultMessage:"Float fields accept a single-precision 32-bit floating point number, restricted to finite values (IEEE 754)."}))},half_float:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.halfFloatDescription",{defaultMessage:"Half float"}),value:"half_float",description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.halfFloatLongDescription",defaultMessage:"Half-float fields accept a half-precision 16-bit floating point number, restricted to finite values (IEEE 754)."}))},scaled_float:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.scaledFloatDescription",{defaultMessage:"Scaled float"}),value:"scaled_float",description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.scaledFloatLongDescription",defaultMessage:"Scaled-float fields accept a floating point number that is backed by a {longType} and scaled by a fixed {doubleType} scaling factor. Use this data type to store floating point data into an integer using a scaling factor. This saves disk space, but affects accuracy.",values:{longType:Object(Y.jsx)(W.EuiCode,null,"long"),doubleType:Object(Y.jsx)(W.EuiCode,null,"double")}}))},short:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.shortDescription",{defaultMessage:"Short"}),value:"short",description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.shortLongDescription",defaultMessage:"Short fields accept a signed 16-bit integer with a minimum value of {minValue} and a maximum value of {maxValue}.",values:{minValue:Object(Y.jsx)(W.EuiCode,null,"-32,768"),maxValue:Object(Y.jsx)(W.EuiCode,null,"32,767")}}))},date:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.dateDescription",{defaultMessage:"Date"}),value:"date",documentation:{main:"/date.html"},description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.dateLongDescription",defaultMessage:'Date fields accept strings with formatted dates ("2015/01/01 12:10:30"), long numbers representing milliseconds since the epoch, and integers representing seconds since the epoch. Multiple date formats are allowed. Dates with timezones are converted to UTC.'}))},date_nanos:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.dateNanosDescription",{defaultMessage:"Date nanoseconds"}),value:"date_nanos",documentation:{main:"/date_nanos.html"},description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.dateNanosLongDescription",defaultMessage:"Date nanoseconds fields store dates in nanosecond resolution. Aggregations remain in millisecond resolution. To store dates in millisecond resolution, use the {date}.",values:{date:Object(Y.jsx)(W.EuiLink,{href:Ce.getTypeDocLink("date"),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.dateNanosLongDescription.dateTypeLink",{defaultMessage:"date data type"}))}}))},binary:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.binaryDescription",{defaultMessage:"Binary"}),value:"binary",documentation:{main:"/binary.html"},description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.binaryLongDescription",defaultMessage:"Binary fields accept a binary value as a Base64-encoded string. By default, binary fields are not stored or searchable."}))},ip:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.ipDescription",{defaultMessage:"IP"}),value:"ip",documentation:{main:"/ip.html"},description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.ipLongDescription",defaultMessage:"IP fields accept IPv4 or IPv6 addresses. If you need to store IP ranges in a single field, use the {ipRange}.",values:{ipRange:Object(Y.jsx)(W.EuiLink,{href:Ce.getTypeDocLink("range"),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.ipLongDescription.ipRangeTypeLink",{defaultMessage:"IP range data type"}))}}))},boolean:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.booleanDescription",{defaultMessage:"Boolean"}),value:"boolean",documentation:{main:"/boolean.html"},description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.booleanLongDescription",defaultMessage:"Boolean fields accept JSON {true} and {false} values, as well as strings which are interpreted as true or false.",values:{true:Object(Y.jsx)(W.EuiCode,null,"true"),false:Object(Y.jsx)(W.EuiCode,null,"false")}}))},range:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.rangeDescription",{defaultMessage:"Range"}),value:"range",documentation:{main:"/range.html"},subTypes:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.rangeSubtypeDescription",{defaultMessage:"Range type"}),types:["date_range","double_range","float_range","integer_range","ip_range","long_range"]}},object:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.objectDescription",{defaultMessage:"Object"}),value:"object",documentation:{main:"/object.html"},description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.objectLongDescription",defaultMessage:"Object fields can contain children, which are queried as a flattened list. To query child objects independently, use the {nested}.",values:{nested:Object(Y.jsx)(W.EuiLink,{href:Ce.getTypeDocLink("nested"),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.objectLongDescription.nestedTypeLink",{defaultMessage:"nested data type"}))}}))},nested:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.nestedDescription",{defaultMessage:"Nested"}),value:"nested",documentation:{main:"/nested.html"},description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.nestedLongDescription",defaultMessage:"Like {objects}, nested fields can contain children. The difference is that you can query their child objects independently.",values:{objects:Object(Y.jsx)(W.EuiLink,{href:Ce.getTypeDocLink("object"),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.nestedLongDescription.objectTypeLink",{defaultMessage:"objects"}))}}))},rank_feature:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.rankFeatureDescription",{defaultMessage:"Rank feature"}),value:"rank_feature",documentation:{main:"/rank-feature.html"},description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.rankFeatureLongDescription",defaultMessage:"The rank feature field accepts a number that will boost documents in {rankFeatureQuery}.",values:{rankFeatureQuery:Object(Y.jsx)(W.EuiLink,{href:Ce.getRankFeatureQueryLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.rankFeatureLongDescription.queryLink",{defaultMessage:"rank_feature queries"}))}}))},rank_features:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.rankFeaturesDescription",{defaultMessage:"Rank features"}),value:"rank_features",documentation:{main:"/rank-features.html"},description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.rankFeaturesLongDescription",defaultMessage:"The rank features field accepts numeric vectors that will boost documents in {rankFeatureQuery}.",values:{rankFeatureQuery:Object(Y.jsx)(W.EuiLink,{href:Ce.getRankFeatureQueryLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.rankFeaturesLongDescription.queryLink",{defaultMessage:"rank_feature queries"}))}}))},dense_vector:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.denseVectorDescription",{defaultMessage:"Dense vector"}),value:"dense_vector",documentation:{main:"/dense-vector.html"},description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.denseVectorLongDescription",defaultMessage:"Dense vector fields store vectors of float values, useful for document scoring."}))},date_range:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.dateRangeDescription",{defaultMessage:"Date range"}),value:"date_range",description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.dateRangeLongDescription",defaultMessage:"Date range fields accept an unsigned 64-bit integer representing milliseconds since the system epoch."}))},double_range:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.doubleRangeDescription",{defaultMessage:"Double range"}),value:"double_range",description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.doubleRangeLongDescription",defaultMessage:"Double range fields accept a 64-bit double precision floating point number (IEEE 754 binary64)."}))},float_range:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.floatRangeDescription",{defaultMessage:"Float range"}),value:"float_range",description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.floatRangeLongDescription",defaultMessage:"Float range fields accept a 32-bit single precision floating point number (IEEE 754 binary32)."}))},integer_range:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.integerRangeDescription",{defaultMessage:"Integer range"}),value:"integer_range",description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.integerRangeLongDescription",defaultMessage:"Integer range fields accept a signed 32-bit integer."}))},long_range:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.longRangeDescription",{defaultMessage:"Long range"}),value:"long_range",description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.longRangeLongDescription",defaultMessage:"Long range fields accept a signed 64-bit integer."}))},ip_range:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.ipRangeDescription",{defaultMessage:"IP range"}),value:"ip_range",description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.ipRangeLongDescription",defaultMessage:"IP range fields accept an IPv4 or IPV6 address."}))},geo_point:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.geoPointDescription",{defaultMessage:"Geo-point"}),value:"geo_point",documentation:{main:"/geo-point.html"},description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.geoPointLongDescription",defaultMessage:"Geo-point fields accept latitude and longitude pairs. Use this data type to search within a bounding box, aggregate documents geographically, and sort documents by distance."}))},geo_shape:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.geoShapeDescription",{defaultMessage:"Geo-shape"}),value:"geo_shape",documentation:{main:"/geo-shape.html",learnMore:"/geo-shape.html#geoshape-indexing-approach"},description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.geoShapeType.fieldDescription",defaultMessage:"Geo-shapes are indexed by decomposing the shape into a triangular mesh and indexing each triangle as a 7-dimensional point in a BKD tree. {docsLink}",values:{docsLink:Object(Y.jsx)(W.EuiLink,{href:Ce.getTypeDocLink("geo_shape","learnMore"),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.geoShapeType.fieldDescription.learnMoreLink",{defaultMessage:"Learn more."}))}}))},completion:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.completionSuggesterDescription",{defaultMessage:"Completion suggester"}),value:"completion",documentation:{main:"/search-suggesters.html#completion-suggester"},description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.completionSuggesterLongDescription",defaultMessage:"Completion suggester fields support autocomplete, but require special data structures that occupy memory and build slowly."}))},token_count:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.tokenCountDescription",{defaultMessage:"Token count"}),value:"token_count",documentation:{main:"/token-count.html"},description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.tokenCountLongDescription",defaultMessage:"Token count fields accept string values.  These values are analyzed, and the number of tokens in the string are indexed."}))},percolator:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.percolatorDescription",{defaultMessage:"Percolator"}),value:"percolator",documentation:{main:"/percolator.html"},description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.percolatorLongDescription",defaultMessage:"The percolator data type enables {percolator}.",values:{percolator:Object(Y.jsx)(W.EuiLink,{href:Ce.getPercolatorQueryLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.percolatorLongDescription.learnMoreLink",{defaultMessage:"percolator queries"}))}}))},histogram:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.histogramDescription",{defaultMessage:"Histogram"}),value:"histogram",documentation:{main:"/histogram.html"},description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.histogramLongDescription",defaultMessage:"Histogram fields store pre-aggregated numerical data representing a histogram, and are intended for use with aggregations."}))},join:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.joinDescription",{defaultMessage:"Join"}),value:"join",documentation:{main:"/parent-join.html"},description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.joinLongDescription",defaultMessage:"Join fields define parent-child relationships among documents of the same index."}))},alias:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.aliasDescription",{defaultMessage:"Alias"}),value:"alias",documentation:{main:"/alias.html"},description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.aliasLongDescription",defaultMessage:"Alias fields accept an alternative name for a field, which you can use in search requests."}))},search_as_you_type:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.searchAsYouTypeDescription",{defaultMessage:"Search-as-you-type"}),value:"search_as_you_type",documentation:{main:"/search-as-you-type.html"},description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.searchAsYouTypeLongDescription",defaultMessage:"Search-as-you-type fields break strings into subfields for search suggestions, and will match terms at any position in the string."}))},flattened:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.flattenedDescription",{defaultMessage:"Flattened"}),value:"flattened",documentation:{main:"/flattened.html"},description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.flattenedLongDescription",defaultMessage:"Flattened fields map an object as a single field and are useful for indexing objects with a large or unknown number of unique keys. Flattened fields support basic queries only."}))},shape:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.shapeDescription",{defaultMessage:"Shape"}),value:"shape",documentation:{main:"/shape.html"},description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.shapeLongDescription",defaultMessage:"Shape fields enable searching of complex shapes, such as rectangles and polygons."}))},point:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.pointDescription",{defaultMessage:"Point"}),value:"point",documentation:{main:"/point.html"},description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.pointLongDescription",defaultMessage:"Point fields enable searching of {code} pairs that fall in a 2-dimensional planar coordinate system.",values:{code:Object(Y.jsx)(W.EuiCode,null,"x,y")}}))},version:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.versionDescription",{defaultMessage:"Version"}),value:"version",documentation:{main:"/version.html"},description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.versionLongDescription",defaultMessage:"Version fields are helpful to handle software version values. This field isnt optimized for heavy wildcard, regex, or fuzzy searches. For these query types, use the {keywordType}.",values:{keywordType:Object(Y.jsx)(W.EuiLink,{href:Ce.getTypeDocLink("keyword"),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.versionLongDescription.keywordTypeLink",{defaultMessage:"keyword data type"}))}}))},wildcard:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.wildcardDescription",{defaultMessage:"Wildcard"}),value:"wildcard",documentation:{main:"/keyword.html#wildcard-field-type"},description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.wildcardLongDescription",defaultMessage:"Wildcard fields store values optimized for wildcard grep-like queries."}))},other:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.otherDescription",{defaultMessage:"Other"}),value:"other",description:()=>Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.otherLongDescription",defaultMessage:"Specify type parameters in JSON."}))}},X=["alias","binary","boolean","completion","constant_keyword","date","date_nanos","dense_vector","flattened","geo_point","geo_shape","ip","join","keyword","nested","numeric","object","percolator","range","rank_feature","rank_features","search_as_you_type","shape","text","token_count","histogram","wildcard","point","version","other"].reduce(((e,t)=>({...e,[t]:K[t]})),{}),Z=Object.entries(X).reduce(((e,[t,a])=>(({}.hasOwnProperty.call(a,"subTypes")&&a.subTypes.types.forEach((a=>{e[a]=t})),e))),{}),Q=[...Object.keys(X),...Object.keys(Z)],ee=["join"],te=[...ee,"object","nested","alias"],ae=Object.entries(X).map((([e,{label:t}])=>({value:e,label:t}))),ie=(e,t)=>({inputDisplay:e,dropdownDisplay:Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)("strong",null,e),Object(Y.jsx)(W.EuiText,{size:"s",color:"subdued"},Object(Y.jsx)("p",{className:"euiTextColor--subdued"},t)))}),ne=e=>ie(H[e].title,H[e].description),se={index_options:[{value:"docs",...ne("indexOptions.docs")},{value:"freqs",...ne("indexOptions.freqs")},{value:"positions",...ne("indexOptions.positions")},{value:"offsets",...ne("indexOptions.offsets")}],index_options_flattened:[{value:"docs",...ne("indexOptions.docs")},{value:"freqs",...ne("indexOptions.freqs")}],index_options_keyword:[{value:"docs",...ne("indexOptions.docs")},{value:"freqs",...ne("indexOptions.freqs")}],analyzer:[{value:V,...ne("analyzer.indexDefault")},{value:U,...ne("analyzer.standard")},{value:"simple",...ne("analyzer.simple")},{value:"whitespace",...ne("analyzer.whitespace")},{value:"stop",...ne("analyzer.stop")},{value:"keyword",...ne("analyzer.keyword")},{value:"pattern",...ne("analyzer.pattern")},{value:"fingerprint",...ne("analyzer.fingerprint")},{value:"language",...ne("analyzer.language")}],languageAnalyzer:Object.entries(G).map((([e,t])=>({value:e,text:t}))),similarity:[{value:"BM25",...ne("similarity.bm25")},{value:"boolean",...ne("similarity.boolean")}],term_vector:[{value:"no",...ne("termVector.no")},{value:"yes",...ne("termVector.yes")},{value:"with_positions",...ne("termVector.withPositions")},{value:"with_offsets",...ne("termVector.withOffsets")},{value:"with_positions_offsets",...ne("termVector.withPositionsOffsets")},{value:"with_positions_payloads",...ne("termVector.withPositionsPayloads")},{value:"with_positions_offsets_payloads",...ne("termVector.withPositionsOffsetsPayloads")}],orientation:[{value:"ccw",...ne("orientation.counterclockwise")},{value:"cw",...ne("orientation.clockwise")}]},re=[{label:"epoch_millis"},{label:"epoch_second"},{label:"date_optional_time",strict:!0},{label:"basic_date"},{label:"basic_date_time"},{label:"basic_date_time_no_millis"},{label:"basic_ordinal_date"},{label:"basic_ordinal_date_time"},{label:"basic_ordinal_date_time_no_millis"},{label:"basic_time"},{label:"basic_time_no_millis"},{label:"basic_t_time"},{label:"basic_t_time_no_millis"},{label:"basic_week_date",strict:!0},{label:"basic_week_date_time",strict:!0},{label:"basic_week_date_time_no_millis",strict:!0},{label:"date",strict:!0},{label:"date_hour",strict:!0},{label:"date_hour_minute",strict:!0},{label:"date_hour_minute_second",strict:!0},{label:"date_hour_minute_second_fraction",strict:!0},{label:"date_hour_minute_second_millis",strict:!0},{label:"date_time",strict:!0},{label:"date_time_no_millis",strict:!0},{label:"hour",strict:!0},{label:"hour_minute ",strict:!0},{label:"hour_minute_second",strict:!0},{label:"hour_minute_second_fraction",strict:!0},{label:"hour_minute_second_millis",strict:!0},{label:"ordinal_date",strict:!0},{label:"ordinal_date_time",strict:!0},{label:"ordinal_date_time_no_millis",strict:!0},{label:"time",strict:!0},{label:"time_no_millis",strict:!0},{label:"t_time",strict:!0},{label:"t_time_no_millis",strict:!0},{label:"week_date",strict:!0},{label:"week_date_time",strict:!0},{label:"week_date_time_no_millis",strict:!0},{label:"weekyear",strict:!0},{label:"weekyear_week",strict:!0},{label:"weekyear_week_day",strict:!0},{label:"year",strict:!0},{label:"year_month",strict:!0},{label:"year_month_day",strict:!0}],oe=re.filter((e=>e.strict)).map((({label:e})=>({label:`strict_${e}`}))),le=[...re.map((({label:e})=>({label:e}))),...oe];var ce=a(64),de=a(30),ue=a(32),pe=a(33),me=a(31),ge=a(40),fe=a(35);const{toInt:xe}=pe.fieldFormatters,{emptyField:be,containsCharsField:he,numberGreaterThanField:je,isJsonField:Me}=pe.fieldValidators,ye={smallerThanZero:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.smallerZeroErrorMessage",{defaultMessage:"The value must be greater or equal to 0."}),spacesNotAllowed:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.spacesNotAllowedErrorMessage",{defaultMessage:"Spaces are not allowed."}),analyzerIsRequired:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.analyzerIsRequiredErrorMessage",{defaultMessage:"Specify the custom analyzer name or choose a built-in analyzer."})},Oe=i.i18n.translate("xpack.idxMgmt.mappingsEditor.nullValueFieldLabel",{defaultMessage:"Null value"}),ve=be(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.nullValueIsRequiredErrorMessage",{defaultMessage:"Null value is required."})),Te=["true",!0,"false",!1],Ee={label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.indexOptionsLabel",{defaultMessage:"Index options"}),helpText:()=>Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.indexOptionsHelpText",defaultMessage:"Information to store in the index. {docsLink}",values:{docsLink:Object(Y.jsx)(W.EuiLink,{href:Ce.getIndexOptionsLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.indexOptionsdDocumentationLink",{defaultMessage:"Learn more."}))}}),type:de.FIELD_TYPES.SUPER_SELECT},ke={fieldConfig:{defaultValue:{}},props:{min_segment_size:{fieldConfig:{type:de.FIELD_TYPES.NUMBER,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.minSegmentSizeFieldLabel",{defaultMessage:"Minimum segment size"}),defaultValue:50,formatters:[xe]}}},schema:ce.record(ce.union([ce.literal("min"),ce.literal("max"),ce.literal("min_segment_size")]),ce.number)},Fe=[{validator:be(ye.analyzerIsRequired)},{validator:he({chars:" ",message:ye.spacesNotAllowed})}],_e={name:{fieldConfig:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.nameFieldLabel",{defaultMessage:"Field name"}),defaultValue:"",validations:[{validator:be(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.nameIsRequiredErrorMessage",{defaultMessage:"Give a name to the field."}))}]}},type:{fieldConfig:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.typeFieldLabel",{defaultMessage:"Field type"}),defaultValue:"text",deserializer:e=>"string"==typeof e&&Boolean(e)?[{label:K[e]?K[e].label:e,value:e}]:[{value:""}],serializer:e=>e&&e.length?e[0].value:e,validations:[{validator:be(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.typeIsRequiredErrorMessage",{defaultMessage:"Specify a field type."}))}]},schema:ce.string},store:{fieldConfig:{type:de.FIELD_TYPES.CHECKBOX,defaultValue:!1},schema:ce.boolean},index:{fieldConfig:{type:de.FIELD_TYPES.CHECKBOX,defaultValue:!0},schema:ce.boolean},doc_values:{fieldConfig:{defaultValue:!0},schema:ce.boolean},doc_values_binary:{fieldConfig:{defaultValue:!1},schema:ce.boolean},fielddata:{fieldConfig:{type:de.FIELD_TYPES.CHECKBOX,defaultValue:!1},schema:ce.boolean},fielddata_frequency_filter:ke,fielddata_frequency_filter_percentage:{...ke,props:{min:{fieldConfig:{defaultValue:.01,serializer:e=>""===e?"":xe(e)/100,deserializer:e=>Math.round(100*e)}},max:{fieldConfig:{defaultValue:1,serializer:e=>""===e?"":xe(e)/100,deserializer:e=>Math.round(100*e)}}}},fielddata_frequency_filter_absolute:{...ke,props:{min:{fieldConfig:{defaultValue:2,validations:[{validator:je({than:1,message:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.fieldDataFrequency.numberGreaterThanOneErrorMessage",{defaultMessage:"Value must be greater than one."})})}],formatters:[xe]}},max:{fieldConfig:{defaultValue:5,validations:[{validator:je({than:1,message:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.fieldDataFrequency.numberGreaterThanOneErrorMessage",{defaultMessage:"Value must be greater than one."})})}],formatters:[xe]}}}},coerce:{fieldConfig:{defaultValue:!0},schema:ce.boolean},coerce_shape:{fieldConfig:{defaultValue:!1},schema:ce.boolean},ignore_malformed:{fieldConfig:{defaultValue:!1},schema:ce.boolean},null_value:{fieldConfig:{defaultValue:"",type:de.FIELD_TYPES.TEXT,label:Oe}},null_value_ip:{fieldConfig:{defaultValue:"",type:de.FIELD_TYPES.TEXT,label:Oe,helpText:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.nullValueIpHelpText",{defaultMessage:"Accepts an IP address."})}},null_value_numeric:{fieldConfig:{defaultValue:"",label:Oe,formatters:[xe],validations:[{validator:ve}]},schema:ce.number},null_value_boolean:{fieldConfig:{defaultValue:!1,label:Oe,deserializer:e=>Te.indexOf(e),serializer:e=>Te[e]},schema:ce.union([ce.literal(!0),ce.literal(!1),ce.literal("true"),ce.literal("false")])},null_value_geo_point:{fieldConfig:{defaultValue:"",label:Oe,helpText:()=>Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.parameters.geoPointNullValueHelpText",defaultMessage:"Geo-points can be expressed as an object, string, geohash, array or {docsLink} POINT.",values:{docsLink:Object(Y.jsx)(W.EuiLink,{href:Ce.getWellKnownTextLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.wellKnownTextDocumentationLink",{defaultMessage:"Well-Known Text"}))}}),validations:[{validator:ve}],deserializer:e=>""===e?e:JSON.stringify(e),serializer:e=>{try{return JSON.parse(e)}catch(t){return e}}},schema:ce.any},null_value_point:{fieldConfig:{defaultValue:"",label:Oe,helpText:()=>Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.parameters.pointNullValueHelpText",defaultMessage:"Points can be expressed as an object, string, array or {docsLink} POINT.",values:{docsLink:Object(Y.jsx)(W.EuiLink,{href:Ce.getWellKnownTextLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.pointWellKnownTextDocumentationLink",{defaultMessage:"Well-Known Text"}))}}),validations:[{validator:ve}],deserializer:e=>""===e?e:JSON.stringify(e),serializer:e=>{try{return JSON.parse(e)}catch(t){return e}}},schema:ce.any},copy_to:{fieldConfig:{defaultValue:"",type:de.FIELD_TYPES.TEXT,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.copyToLabel",{defaultMessage:"Group field name"}),validations:[{validator:be(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.copyToIsRequiredErrorMessage",{defaultMessage:"Group field name is required."}))}]},schema:ce.string},value:{fieldConfig:{defaultValue:"",type:de.FIELD_TYPES.TEXT,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.valueLabel",{defaultMessage:"Value"})},schema:ce.string},meta:{fieldConfig:{defaultValue:"",label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.metaLabel",{defaultMessage:"Metadata"}),helpText:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.parameters.metaHelpText",defaultMessage:"Use JSON format: {code}",values:{code:Object(Y.jsx)(W.EuiCode,null,JSON.stringify({arbitrary_key:"anything_goes"}))}}),validations:[{validator:Me(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.metaFieldEditorJsonError",{defaultMessage:"Invalid JSON."}),{allowEmptyString:!0})},{validator:({value:e})=>{if("string"!=typeof e||""===e.trim())return;const t=JSON.parse(e),a=Object.values(t).some((e=>"string"!=typeof e));return Array.isArray(t)?{message:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.metaFieldEditorArraysNotAllowedError",{defaultMessage:"Arrays are not allowed."})}:a?{message:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.metaFieldEditorOnlyStringValuesAllowedError",{defaultMessage:"Values must be a string."})}:void 0}}],deserializer:e=>""===e?e:JSON.stringify(e,null,2),serializer:e=>{if(""!==e.trim())try{const t=JSON.parse(e);if(!Object.keys(t).length)return;return t}catch(t){return e}}},schema:ce.any},max_input_length:{fieldConfig:{defaultValue:50,type:de.FIELD_TYPES.NUMBER,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.maxInputLengthLabel",{defaultMessage:"Max input length"}),formatters:[xe],validations:[{validator:be(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.maxInputLengthFieldRequiredErrorMessage",{defaultMessage:"Specify a max input length."}))}]},schema:ce.number},locale:{fieldConfig:{defaultValue:"ROOT",type:de.FIELD_TYPES.TEXT,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.localeLabel",{defaultMessage:"Locale"}),helpText:()=>Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.parameters.localeHelpText",defaultMessage:"Separate the language, country, and variant, use {hyphen} or {underscore}. A maximum of 2 separators is allowed. Example: {locale}.",values:{locale:Object(Y.jsx)(W.EuiCode,null,"en-US"),hyphen:Object(Y.jsx)(W.EuiCode,null,"-"),underscore:Object(Y.jsx)(W.EuiCode,null,"_")}}),validations:[{validator:be(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.localeFieldRequiredErrorMessage",{defaultMessage:"Specify a locale."}))}]},schema:ce.string},orientation:{fieldConfig:{defaultValue:"ccw",type:de.FIELD_TYPES.SUPER_SELECT,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.orientationLabel",{defaultMessage:"Orientation"})},schema:ce.string},boost:{fieldConfig:{defaultValue:1,type:de.FIELD_TYPES.NUMBER,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.boostLabel",{defaultMessage:"Boost level"}),formatters:[xe],validations:[{validator:({value:e})=>{if(e<0)return{message:ye.smallerThanZero}}}]},schema:ce.number},scaling_factor:{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.scalingFactorFieldTitle",{defaultMessage:"Scaling factor"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.scalingFactorFieldDescription",{defaultMessage:"Values will be multiplied by this factor at index time and rounded to the closest long value. High factor values improve accuracy, but also increase space requirements."}),fieldConfig:{defaultValue:"",type:de.FIELD_TYPES.NUMBER,deserializer:e=>""===e?e:+e,formatters:[xe],label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.scalingFactorLabel",{defaultMessage:"Scaling factor"}),validations:[{validator:be(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.scalingFactorIsRequiredErrorMessage",{defaultMessage:"A scaling factor is required."}))},{validator:({value:e})=>{if(e<=0)return{message:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.greaterThanZeroErrorMessage",{defaultMessage:"The scaling factor must be greater than 0."})}}}],helpText:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.scalingFactorHelpText",{defaultMessage:"Value must be greater than 0."})},schema:ce.number},dynamic:{fieldConfig:{defaultValue:!0},schema:ce.union([ce.boolean,ce.literal("strict")])},dynamic_toggle:{fieldConfig:{defaultValue:!0}},dynamic_strict:{fieldConfig:{defaultValue:!1,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicStrictParameter.fieldTitle",{defaultMessage:"Throw an exception when the object contains an unmapped property"}),helpText:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicStrictParameter.fieldHelpText",{defaultMessage:"By default, unmapped properties will be silently ignored when dynamic mapping is disabled. Optionally, you can choose to throw an exception when an object contains an unmapped property."})}},enabled:{fieldConfig:{defaultValue:!0},schema:ce.boolean},format:{fieldConfig:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formatFieldLabel",{defaultMessage:"Format"}),defaultValue:"strict_date_optional_time||epoch_millis",serializer:e=>e.length?e.map((({label:e})=>e)).join("||"):void 0,deserializer:e=>e.split("||").map((e=>({label:e}))),helpText:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.formatHelpText",defaultMessage:"Specify custom formats using {dateSyntax} syntax.",values:{dateSyntax:Object(Y.jsx)(W.EuiCode,null,"yyyy/MM/dd")}})},schema:ce.string},analyzer:{fieldConfig:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.analyzerFieldLabel",{defaultMessage:"Analyzer"}),defaultValue:V,validations:Fe},schema:ce.string},search_analyzer:{fieldConfig:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.searchAnalyzerFieldLabel",{defaultMessage:"Search analyzer"}),defaultValue:V,validations:Fe},schema:ce.string},search_quote_analyzer:{fieldConfig:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.searchQuoteAnalyzerFieldLabel",{defaultMessage:"Search quote analyzer"}),defaultValue:V,validations:Fe},schema:ce.string},normalizer:{fieldConfig:{label:"Normalizer",defaultValue:"",type:de.FIELD_TYPES.TEXT,validations:[{validator:be(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.normalizerIsRequiredErrorMessage",{defaultMessage:"Normalizer name is required."}))},{validator:he({chars:" ",message:ye.spacesNotAllowed})}],helpText:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.normalizerHelpText",{defaultMessage:"The name of a normalizer defined in the index's settings."})},schema:ce.string},index_options:{fieldConfig:{...Ee,defaultValue:"positions"},schema:ce.string},index_options_keyword:{fieldConfig:{...Ee,defaultValue:"docs"},schema:ce.string},index_options_flattened:{fieldConfig:{...Ee,defaultValue:"docs"},schema:ce.string},eager_global_ordinals:{fieldConfig:{defaultValue:!1},schema:ce.boolean},eager_global_ordinals_join:{fieldConfig:{defaultValue:!0}},index_phrases:{fieldConfig:{defaultValue:!1},schema:ce.boolean},positive_score_impact:{fieldConfig:{defaultValue:!0},schema:ce.boolean},preserve_separators:{fieldConfig:{defaultValue:!0},schema:ce.boolean},preserve_position_increments:{fieldConfig:{defaultValue:!0},schema:ce.boolean},ignore_z_value:{fieldConfig:{defaultValue:!0},schema:ce.boolean},points_only:{fieldConfig:{defaultValue:!1},schema:ce.boolean},norms:{fieldConfig:{defaultValue:!0},schema:ce.boolean},norms_keyword:{fieldConfig:{defaultValue:!1},schema:ce.boolean},term_vector:{fieldConfig:{type:de.FIELD_TYPES.SUPER_SELECT,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.termVectorLabel",{defaultMessage:"Set term vector"}),defaultValue:"no"},schema:ce.string},path:{fieldConfig:{type:de.FIELD_TYPES.COMBO_BOX,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.pathLabel",{defaultMessage:"Field path"}),helpText:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.pathHelpText",{defaultMessage:"The absolute path from the root to the target field."}),validations:[{validator:be(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.pathIsRequiredErrorMessage",{defaultMessage:"Select a field to point the alias to."}))}],serializer:e=>0===e.length?"":e[0].id},targetTypesNotAllowed:["object","nested","alias"],schema:ce.string},position_increment_gap:{fieldConfig:{type:de.FIELD_TYPES.NUMBER,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.positionIncrementGapLabel",{defaultMessage:"Position increment gap"}),defaultValue:100,formatters:[xe],validations:[{validator:be(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.positionIncrementGapIsRequiredErrorMessage",{defaultMessage:"Set a position increment gap value"}))},{validator:({value:e})=>{if(e<0)return{message:ye.smallerThanZero}}}]},schema:ce.number},index_prefixes:{fieldConfig:{defaultValue:{}},props:{min_chars:{fieldConfig:{type:de.FIELD_TYPES.NUMBER,defaultValue:2,serializer:e=>""===e?"":xe(e)}},max_chars:{fieldConfig:{type:de.FIELD_TYPES.NUMBER,defaultValue:5,serializer:e=>""===e?"":xe(e)}}},schema:ce.partial({min_chars:ce.number,max_chars:ce.number})},similarity:{fieldConfig:{defaultValue:"BM25",type:de.FIELD_TYPES.SUPER_SELECT,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.similarityLabel",{defaultMessage:"Similarity algorithm"})},schema:ce.string},split_queries_on_whitespace:{fieldConfig:{defaultValue:!1},schema:ce.boolean},ignore_above:{fieldConfig:{defaultValue:8191,type:de.FIELD_TYPES.NUMBER,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoreAboveFieldLabel",{defaultMessage:"Character length limit"}),formatters:[xe],validations:[{validator:be(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.ignoreAboveIsRequiredErrorMessage",{defaultMessage:"Character length limit is required."}))},{validator:({value:e})=>{if(e<0)return{message:ye.smallerThanZero}}}]},schema:ce.number},enable_position_increments:{fieldConfig:{defaultValue:!0},schema:ce.boolean},depth_limit:{fieldConfig:{defaultValue:20,type:de.FIELD_TYPES.NUMBER,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.depthLimitFieldLabel",{defaultMessage:"Nested object depth limit"}),formatters:[xe],validations:[{validator:({value:e})=>{if(e<0)return{message:ye.smallerThanZero}}}]},schema:ce.number},dims:{fieldConfig:{defaultValue:"",type:de.FIELD_TYPES.NUMBER,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dimsFieldLabel",{defaultMessage:"Dimensions"}),helpText:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.dimsHelpTextDescription",{defaultMessage:"The number of dimensions in the vector."}),formatters:[xe],validations:[{validator:be(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.dimsIsRequiredErrorMessage",{defaultMessage:"Specify a dimension."}))}]},schema:ce.string},relations:{fieldConfig:{defaultValue:[]},schema:ce.record(ce.string,ce.union([ce.string,ce.array(ce.string)]))},max_shingle_size:{fieldConfig:{type:de.FIELD_TYPES.SELECT,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.largestShingleSizeFieldLabel",{defaultMessage:"Max shingle size"}),defaultValue:3,formatters:[xe]},schema:ce.union([ce.literal(2),ce.literal(3),ce.literal(4)])}},Se="mapper-size";const Ce=new class documentation_DocumentationService{constructor(){z()(this,"links",void 0),z()(this,"dataStreams",""),z()(this,"esDocsBase",""),z()(this,"indexManagement",""),z()(this,"indexSettings",""),z()(this,"indexTemplates",""),z()(this,"indexV1",""),z()(this,"mapping",""),z()(this,"mappingAnalyzer",""),z()(this,"mappingBoost",""),z()(this,"mappingCoerce",""),z()(this,"mappingCopyTo",""),z()(this,"mappingDocValues",""),z()(this,"mappingDynamic",""),z()(this,"mappingDynamicFields",""),z()(this,"mappingDynamicTemplates",""),z()(this,"mappingEagerGlobalOrdinals",""),z()(this,"mappingEnabled",""),z()(this,"mappingFieldData",""),z()(this,"mappingFieldDataFilter",""),z()(this,"mappingFieldDataTypes",""),z()(this,"mappingFieldDataEnable",""),z()(this,"mappingFormat",""),z()(this,"mappingIgnoreAbove",""),z()(this,"mappingIgnoreMalformed",""),z()(this,"mappingIndex",""),z()(this,"mappingIndexOptions",""),z()(this,"mappingIndexPhrases",""),z()(this,"mappingIndexPrefixes",""),z()(this,"mappingJoinFieldsPerformance",""),z()(this,"mappingMeta",""),z()(this,"mappingMetaFields",""),z()(this,"mappingNormalizer",""),z()(this,"mappingNorms",""),z()(this,"mappingNullValue",""),z()(this,"mappingPositionIncrementGap",""),z()(this,"mappingRankFeatureFields",""),z()(this,"mappingRouting",""),z()(this,"mappingSimilarity",""),z()(this,"mappingSourceFields",""),z()(this,"mappingSourceFieldsDisable",""),z()(this,"mappingStore",""),z()(this,"mappingTermVector",""),z()(this,"mappingTypesRemoval",""),z()(this,"percolate",""),z()(this,"runtimeFields",""),z()(this,"getTypeDocLink",((e,t="main")=>{const a=K[e];if(a&&a.documentation&&a.documentation[t])return`${this.esDocsBase}${a.documentation[t]}`}))}setup(e){const{links:t}=e;this.links=t,this.dataStreams=t.elasticsearch.dataStreams,this.esDocsBase=t.elasticsearch.docsBase,this.indexManagement=t.management.indexManagement,this.indexSettings=t.elasticsearch.indexSettings,this.indexTemplates=t.elasticsearch.indexTemplates,this.indexV1=t.apis.putIndexTemplateV1,this.mapping=t.elasticsearch.mapping,this.mappingAnalyzer=t.elasticsearch.mappingAnalyzer,this.mappingBoost=t.elasticsearch.mappingBoost,this.mappingCoerce=t.elasticsearch.mappingCoerce,this.mappingCopyTo=t.elasticsearch.mappingCopyTo,this.mappingDocValues=t.elasticsearch.mappingDocValues,this.mappingDynamic=t.elasticsearch.mappingDynamic,this.mappingDynamicFields=t.elasticsearch.mappingDynamicFields,this.mappingDynamicTemplates=t.elasticsearch.mappingDynamicTemplates,this.mappingEagerGlobalOrdinals=t.elasticsearch.mappingEagerGlobalOrdinals,this.mappingEnabled=t.elasticsearch.mappingEnabled,this.mappingFieldData=t.elasticsearch.mappingFieldData,this.mappingFieldDataTypes=t.elasticsearch.mappingFieldDataTypes,this.mappingFieldDataEnable=t.elasticsearch.mappingFieldDataEnable,this.mappingFieldDataFilter=t.elasticsearch.mappingFieldDataFilter,this.mappingFormat=t.elasticsearch.mappingFormat,this.mappingIgnoreAbove=t.elasticsearch.mappingIgnoreAbove,this.mappingIgnoreMalformed=t.elasticsearch.mappingIgnoreMalformed,this.mappingIndex=t.elasticsearch.mappingIndex,this.mappingIndexOptions=t.elasticsearch.mappingIndexOptions,this.mappingIndexPhrases=t.elasticsearch.mappingIndexPhrases,this.mappingIndexPrefixes=t.elasticsearch.mappingIndexPrefixes,this.mappingJoinFieldsPerformance=t.elasticsearch.mappingJoinFieldsPerformance,this.mappingMeta=t.elasticsearch.mappingMeta,this.mappingMetaFields=t.elasticsearch.mappingMetaFields,this.mappingNormalizer=t.elasticsearch.mappingNormalizer,this.mappingNorms=t.elasticsearch.mappingNorms,this.mappingNullValue=t.elasticsearch.mappingNullValue,this.mappingPositionIncrementGap=t.elasticsearch.mappingPositionIncrementGap,this.mappingRankFeatureFields=t.elasticsearch.mappingRankFeatureFields,this.mappingRouting=t.elasticsearch.mappingRouting,this.mappingSimilarity=t.elasticsearch.mappingSimilarity,this.mappingSourceFields=t.elasticsearch.mappingSourceFields,this.mappingSourceFieldsDisable=t.elasticsearch.mappingSourceFieldsDisable,this.mappingStore=t.elasticsearch.mappingStore,this.mappingTermVector=t.elasticsearch.mappingTermVector,this.mappingTypesRemoval=t.elasticsearch.mappingTypesRemoval,this.percolate=t.query.percolate,this.runtimeFields=t.runtimeFields.overview}getEsDocsBase(){return this.esDocsBase}getSettingsDocumentationLink(){return this.indexSettings}getMappingDocumentationLink(){return this.mapping}getRoutingLink(){return this.mappingRouting}getDataStreamsDocumentationLink(){return this.dataStreams}getTemplatesDocumentationLink(e=!1){return e?this.indexV1:this.indexTemplates}getIdxMgmtDocumentationLink(){return this.indexManagement}getMappingTypesLink(){return this.mappingFieldDataTypes}getDynamicMappingLink(){return this.mappingDynamicFields}getPercolatorQueryLink(){return this.percolate}getRankFeatureQueryLink(){return this.mappingRankFeatureFields}getMetaFieldLink(){return this.mappingMetaFields}getDynamicTemplatesLink(){return this.mappingDynamicTemplates}getMappingSourceFieldLink(){return this.mappingSourceFields}getDisablingMappingSourceFieldLink(){return this.mappingSourceFieldsDisable}getNullValueLink(){return this.mappingNullValue}getTermVectorLink(){return this.mappingTermVector}getStoreLink(){return this.mappingStore}getSimilarityLink(){return this.mappingSimilarity}getNormsLink(){return this.mappingNorms}getIndexLink(){return this.mappingIndex}getIgnoreMalformedLink(){return this.mappingIgnoreMalformed}getMetaLink(){return this.mappingMeta}getFormatLink(){return this.mappingFormat}getEagerGlobalOrdinalsLink(){return this.mappingEagerGlobalOrdinals}getDocValuesLink(){return this.mappingDocValues}getCopyToLink(){return this.mappingCopyTo}getCoerceLink(){return this.mappingCoerce}getBoostLink(){return this.mappingBoost}getNormalizerLink(){return this.mappingNormalizer}getIgnoreAboveLink(){return this.mappingIgnoreAbove}getFielddataLink(){return this.mappingFieldData}getFielddataFrequencyLink(){return this.mappingFieldDataFilter}getEnablingFielddataLink(){return this.mappingFieldDataEnable}getIndexPhrasesLink(){return this.mappingIndexPhrases}getIndexPrefixesLink(){return this.mappingIndexPrefixes}getPositionIncrementGapLink(){return this.mappingPositionIncrementGap}getAnalyzerLink(){return this.mappingAnalyzer}getDateFormatLink(){return this.mappingFormat}getIndexOptionsLink(){return this.mappingIndexOptions}getAlternativeToMappingTypesLink(){return this.mappingTypesRemoval}getJoinMultiLevelsPerformanceLink(){return this.mappingJoinFieldsPerformance}getDynamicLink(){return this.mappingDynamic}getEnabledLink(){return this.mappingEnabled}getRuntimeFields(){return this.runtimeFields}getWellKnownTextLink(){return"http://docs.opengeospatial.org/is/12-063r5/12-063r5.html"}getRootLocaleLink(){return"https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html#ROOT"}get docLinks(){if(!this.links)throw new Error("Can't return undefined doc links.");return this.links}};var Le=a(34),we=a(87),Ie=a.n(we);const De=()=>Ie.a.v4(),Pe=(e,t)=>{const a="text"===(i=e.type)||"keyword"===i||"ip"===i?"fields":"object"===i||"nested"===i?"properties":void 0;var i;const n=!t&&"properties"===a,s="fields"===a;return{childFieldsName:a,canHaveChildFields:n,hasChildFields:!t&&(n&&Boolean(e[a])&&Object.keys(e[a]).length>0),canHaveMultiFields:s,hasMultiFields:s&&Boolean(e[a])&&Object.keys(e[a]).length>0,isExpanded:!1}},Ne=e=>{const{type:t}=e;return(e=>e&&K[e]?K[e].label:`${K.other.label}: ${e}`)(t)},Ae=(e,t)=>{var a;if(void 0!==t){var i;if(!_e[e].props||!_e[e].props[t])throw new Error(`No field config found for prop "${t}" on param "${e}" `);return(null===(i=_e[e].props[t])||void 0===i?void 0:i.fieldConfig)||{}}return(null===(a=_e[e])||void 0===a?void 0:a.fieldConfig)||{}},Re=e=>{if(!X[e]){const a=null!==(t=Z[e])&&void 0!==t?t:"other";if(!a)throw new Error(`Property type "${e}" not recognized and no subType was found for it.`);return{mainType:a,subType:e}}var t;return{mainType:e}},ze=(e={})=>{let t=0;const a=(e,i,n,s,r,o=!1,l)=>Object.entries(e).sort((([e],[t])=>e>t?1:e<t?-1:0)).reduce(((e,[c,d])=>{const u=De();s.push(u);const p={name:c,...d};void 0===p.type&&void 0!==p.properties&&(p.type="object");const m=Pe(p,o),{childFieldsName:g,hasChildFields:f,hasMultiFields:x}=m;if(f||x){const e=m.canHaveChildFields||m.canHaveMultiFields?r+1:r;m.childFields=[],t=Math.max(t,e),a(p[g],i,[...n,c],m.childFields,e,m.canHaveMultiFields,u)}const{properties:b,fields:h,...j}=p,M={id:u,parentId:l,nestedDepth:r,isMultiField:o,path:n.length?[...n,c]:[c],source:j,...m};return e[u]=M,e}),i),i=[],{byId:n,aliases:s}=(e=>{const t={};return Object.entries(e).forEach((([a,i])=>{if("alias"===i.source.type){const n=Object.values(e).find((e=>e.path.join(".")===i.source.path));n&&(i.source.path=n.id,t[n.id]=t[n.id]||[],t[n.id].push(a))}})),{aliases:t,byId:e}})(a(e,{},[],i,0));return{byId:n,aliases:s,rootLevelFields:i,maxNestedDepth:t}},Be=({rootLevelFields:e,byId:t,aliases:a})=>{const i=((e,t)=>{const a={...t};return Object.entries(e).forEach((([e,t])=>{const i=a[e]?a[e].path.join("."):"";t.forEach((e=>{const t=a[e];if(!t)return;const n={...t,source:{...t.source,path:i}};a[e]=n}))})),a})(a,t),n=(e,t={})=>(e.forEach((e=>{const{source:a,childFields:s,childFieldsName:r}=i[e],{name:o,...l}=a,c=l;if(t[o]=c,s)return c[r]={},n(s,c[r])})),t);return n(e)},Ve=(e,t)=>{const a=(e,i=[])=>((e.hasChildFields||e.hasMultiFields)&&e.childFields.map((e=>t[e])).forEach((e=>{i.push(e),a(e,i)})),i);return a(e)},Ue=(e,t,a=[])=>{const i=t.aliases[e.id]&&Boolean(t.aliases[e.id].length);return i||e.hasChildFields||e.hasMultiFields?(i&&t.aliases[e.id].forEach((e=>{a.push(e)})),e.childFields&&e.childFields.forEach((e=>{t.byId[e]&&Ue(t.byId[e],t,a)})),a):a},qe=e=>e.filter((e=>!1===te.includes(e.value))),$e=e=>e.filter((e=>!1===ee.includes(e.value))),We=e=>Object.values(e).reduce(((e,t)=>Math.max(e,t.nestedDepth)),0),He=(e,t,a)=>e.map((e=>{const i=t[e],n=i.childFields?He(i.childFields,t,a):void 0;return{label:a(i),children:n}})),Ge=(e,t)=>"text"===e&&"keyword"!==t||("keyword"===e&&"text"!==t||("object"===e&&"nested"!==t||"nested"===e&&"object"!==t)),Je=(e,t=!0)=>Object.entries(e).reduce(((e,[a,i])=>void 0===i?e:Array.isArray(i)||i instanceof Date||null===i?{...e,[a]:i}:t&&"object"==typeof i?{...e,[a]:Je(i,t)}:{...e,[a]:i}),{});var Ye=a(48),Ke=a(41);function Xe(e){const{version:t,priority:a,indexPatterns:i,template:n,composedOf:s,dataStream:r,_meta:o}=e;return{version:t,priority:a,template:n,index_patterns:i,data_stream:r,composed_of:s,_meta:o}}const Ze=(e,t)=>{var a;return(e=>!{}.hasOwnProperty.call(e,"template"))(e)?e[t]:null===(a=e.template)||void 0===a?void 0:a[t]};var Qe=a(42),et=a(39);const tt=Object(q.createContext)(void 0),at=({children:e,value:t})=>Object(Y.jsx)(tt.Provider,{value:t},e),it=tt.Consumer,nt=()=>{const e=Object(q.useContext)(tt);if(!e)throw new Error('"useAppContext" can only be called inside of AppContext.Provider!');return e},st=()=>nt().services;var rt=a(38),ot=a(46),lt=a.n(ot),ct=a(4);const dt=({title:e,error:t,...a})=>{const{cause:i,message:n,statusText:s,attributes:{cause:r}={}}=t,o=null!=r?r:i;return Object(Y.jsx)(W.EuiCallOut,lt()({title:e,color:"danger",iconType:"alert"},a),Object(Y.jsx)("div",null,n||s),o&&Object(Y.jsx)(q.Fragment,null,Object(Y.jsx)(W.EuiSpacer,{size:"m"}),Object(Y.jsx)("ul",null,o.map(((e,t)=>Object(Y.jsx)("li",{key:t},e))))))},ut=()=>Object(Y.jsx)("div",{"data-test-subj":"noIndicesMessage"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.noMatch.noIndicesDescription",defaultMessage:"No indices to show"}));const pt=new class notification_NotificationService{constructor(){z()(this,"_toasts",void 0),z()(this,"addToasts",((e,t,a)=>{this._toasts.add({title:e,color:t,text:a})}))}setup(e){this._toasts=e.toasts}get toasts(){return this._toasts}showDangerToast(e,t){this.addToasts(e,"danger",t)}showWarningToast(e,t){this.addToasts(e,"warning",t)}showSuccessToast(e,t){this.addToasts(e,"success",t)}},mt=({templatesToDelete:e,callback:t})=>{const[a,s]=Object(q.useState)(!1),r=e.length,o=Boolean(e.find((({name:e})=>e.startsWith("."))));return Object(Y.jsx)(W.EuiConfirmModal,{buttonColor:"danger","data-test-subj":"deleteTemplatesConfirmation",title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.modalTitleText",defaultMessage:"Delete {numTemplatesToDelete, plural, one {template} other {# templates}}",values:{numTemplatesToDelete:r}}),onCancel:()=>{s(!1),t()},onConfirm:()=>{(async function(e){const t=Fc({path:`${n}/delete_index_templates`,method:"post",body:{templates:e}}),a=e.length>1?I:w;return Sc.trackMetric(Le.METRIC_TYPE.COUNT,a),t})(e).then((({data:{templatesDeleted:a,errors:n},error:s})=>{const r=a&&a.length;if(r){const n=1===a.length?i.i18n.translate("xpack.idxMgmt.deleteTemplatesModal.successDeleteSingleNotificationMessageText",{defaultMessage:"Deleted template '{templateName}'",values:{templateName:e[0].name}}):i.i18n.translate("xpack.idxMgmt.deleteTemplatesModal.successDeleteMultipleNotificationMessageText",{defaultMessage:"Deleted {numSuccesses, plural, one {# template} other {# templates}}",values:{numSuccesses:a.length}});t({hasDeletedTemplates:r}),pt.showSuccessToast(n)}if(s||n&&n.length){const t=n&&n.length>1||s&&e.length>1?i.i18n.translate("xpack.idxMgmt.deleteTemplatesModal.multipleErrorsNotificationMessageText",{defaultMessage:"Error deleting {count} templates",values:{count:n&&n.length||e.length}}):i.i18n.translate("xpack.idxMgmt.deleteTemplatesModal.errorNotificationMessageText",{defaultMessage:"Error deleting template '{name}'",values:{name:n&&n[0].name||e[0]}});pt.showDangerToast(t)}}))},cancelButtonText:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.confirmButtonLabel",defaultMessage:"Delete {numTemplatesToDelete, plural, one {template} other {templates} }",values:{numTemplatesToDelete:r}}),confirmButtonDisabled:!!o&&!a},Object(Y.jsx)(q.Fragment,null,Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.deleteDescription",defaultMessage:"You are about to delete {numTemplatesToDelete, plural, one {this template} other {these templates} }:",values:{numTemplatesToDelete:r}})),Object(Y.jsx)("ul",null,e.map((({name:e})=>Object(Y.jsx)("li",{key:e},e,e.startsWith(".")?Object(Y.jsx)(q.Fragment,null," ",Object(Y.jsx)(W.EuiBadge,{iconType:"alert",color:"hollow"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.systemTemplateLabel",defaultMessage:"System template"}))):null)))),o&&Object(Y.jsx)(W.EuiCallOut,{title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.proceedWithCautionCallOutTitle",defaultMessage:"Deleting a system template can break Kibana"}),color:"danger",iconType:"alert","data-test-subj":"deleteSystemTemplateCallOut"},Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.proceedWithCautionCallOutDescription",defaultMessage:"System templates are critical for internal operations. If you delete this template, you cant recover it."})),Object(Y.jsx)(W.EuiCheckbox,{id:"confirmDeleteTemplatesCheckbox",label:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.confirmDeleteCheckboxLabel",defaultMessage:"I understand the consequences of deleting a system template"}),checked:a,onChange:e=>s(e.target.checked)}))))},gt=({aliases:e})=>e&&Object.keys(e).length?Object(Y.jsx)("div",{"data-test-subj":"aliasesTabContent"},Object(Y.jsx)(W.EuiCodeBlock,{lang:"json"},JSON.stringify(e,null,2))):Object(Y.jsx)(W.EuiCallOut,{title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.aliasesTab.noAliasesTitle",defaultMessage:"No aliases defined."}),iconType:"pin","data-test-subj":"noAliasesCallout",size:"s"}),ft=({mappings:e})=>e&&Object.keys(e).length?Object(Y.jsx)("div",{"data-test-subj":"mappingsTabContent"},Object(Y.jsx)(W.EuiCodeBlock,{lang:"json"},JSON.stringify(e,null,2))):Object(Y.jsx)(W.EuiCallOut,{title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsTab.noMappingsTitle",defaultMessage:"No mappings defined."}),iconType:"pin","data-test-subj":"noMappingsCallout",size:"s"}),xt=({settings:e})=>e&&Object.keys(e).length?Object(Y.jsx)("div",{"data-test-subj":"settingsTabContent"},Object(Y.jsx)(W.EuiCodeBlock,{lang:"json"},JSON.stringify(e,null,2))):Object(Y.jsx)(W.EuiCallOut,{title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.settingsTab.noIndexSettingsTitle",defaultMessage:"No settings defined."}),iconType:"pin","data-test-subj":"noSettingsCallout",size:"s"}),bt=({defaultValue:e,onChange:t})=>{const[a,n]=Object(q.useState)((s=null!=e?e:{},Object.keys(s).length?JSON.stringify(s,null,2):"{\n\n}"));var s;const[r,o]=Object(q.useState)(null),l=Object(q.useCallback)((()=>{const e=""===a.trim()||Object(et.isJSON)(a);return o(e?null:i.i18n.translate("xpack.idxMgmt.validators.string.invalidJSONError",{defaultMessage:"Invalid JSON format."})),e}),[a]);return Object(q.useEffect)((()=>{const e=l();t({isValid:e,validate:async()=>e,getData:()=>{const t=e&&""!==a.trim()?JSON.parse(a):{};return Object.keys(t).length>0?t:void 0}})}),[a,t,l]),{jsonContent:a,setJsonContent:n,error:r}},ht=$.a.memo((({defaultValue:e={},onChange:t,esDocsBase:a})=>{const{jsonContent:n,setJsonContent:s,error:r}=bt({defaultValue:e,onChange:t});return Object(Y.jsx)("div",{"data-test-subj":"stepAliases"},Object(Y.jsx)(W.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiTitle,null,Object(Y.jsx)("h2",{"data-test-subj":"stepTitle"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepAliases.stepTitle",defaultMessage:"Aliases (optional)"}))),Object(Y.jsx)(W.EuiSpacer,{size:"s"}),Object(Y.jsx)(W.EuiText,null,Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepAliases.aliasesDescription",defaultMessage:"Set up aliases to associate with your indices."})))),Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiButtonEmpty,{size:"s",flush:"right",href:`${a}/indices-aliases.html`,target:"_blank",iconType:"help"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepAliases.docsButtonLabel",defaultMessage:"Index Aliases docs"})))),Object(Y.jsx)(W.EuiSpacer,{size:"l"}),Object(Y.jsx)(W.EuiFormRow,{label:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepAliases.fieldAliasesLabel",defaultMessage:"Aliases"}),helpText:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepAliases.aliasesEditorHelpText",defaultMessage:"Use JSON format: {code}",values:{code:Object(Y.jsx)(W.EuiCode,null,JSON.stringify({my_alias:{}}))}}),isInvalid:Boolean(r),error:r,fullWidth:!0},Object(Y.jsx)(me.EuiCodeEditor,{mode:"json",theme:"textmate",width:"100%",height:"500px",setOptions:{showLineNumbers:!1,tabSize:2},editorProps:{$blockScrolling:1/0},showGutter:!1,minLines:6,"aria-label":i.i18n.translate("xpack.idxMgmt.formWizard.stepAliases.fieldAliasesAriaLabel",{defaultMessage:"Aliases code editor"}),value:n,onChange:s,"data-test-subj":"aliasesEditor"})))})),jt=({esDocsBase:e})=>{const{defaultValue:t,updateContent:a}=me.Forms.useContent("aliases");return Object(Y.jsx)(ht,{defaultValue:t,onChange:a,esDocsBase:e})},Mt=$.a.memo((({defaultValue:e={},onChange:t,indexSettings:a,esDocsBase:i,esNodesPlugins:n})=>{const[s,r]=Object(q.useState)(e),{docLinks:o}=nt(),l=Object(q.useCallback)((({isValid:e,getData:a,validate:i})=>{t({isValid:e,validate:async()=>void 0===e?await i():e,getData:a})}),[t]);return Object(Y.jsx)("div",{"data-test-subj":"stepMappings"},Object(Y.jsx)(W.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiTitle,null,Object(Y.jsx)("h2",{"data-test-subj":"stepTitle"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepMappings.stepTitle",defaultMessage:"Mappings (optional)"}))),Object(Y.jsx)(W.EuiSpacer,{size:"s"}),Object(Y.jsx)(W.EuiText,null,Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepMappings.mappingsDescription",defaultMessage:"Define how to store and index documents."})))),Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiFlexGroup,{gutterSize:"s"},Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(Ec,{onJson:e=>{r(e)},esNodesPlugins:n})),Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiButtonEmpty,{size:"s",flush:"right",href:`${i}/mapping.html`,target:"_blank",iconType:"help"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepMappings.docsButtonLabel",defaultMessage:"Mapping docs"})))))),Object(Y.jsx)(W.EuiSpacer,{size:"s"}),Object(Y.jsx)(Oc,{value:s,onChange:l,indexSettings:a,docLinks:o,esNodesPlugins:n}),Object(Y.jsx)(W.EuiSpacer,{size:"m"}))})),yt=({esDocsBase:e})=>{const{defaultValue:t,updateContent:a,getSingleContentData:i}=me.Forms.useContent("mappings"),{data:s}=_c({path:`${n}/nodes/plugins`,method:"get"});return Object(Y.jsx)(Mt,{defaultValue:t,onChange:a,indexSettings:i("settings"),esDocsBase:e,esNodesPlugins:null!=s?s:[]})},Ot=$.a.memo((({defaultValue:e={},onChange:t,esDocsBase:a})=>{const{jsonContent:n,setJsonContent:s,error:r}=bt({defaultValue:e,onChange:t});return Object(Y.jsx)("div",{"data-test-subj":"stepSettings"},Object(Y.jsx)(W.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiTitle,null,Object(Y.jsx)("h2",{"data-test-subj":"stepTitle"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepSettings.stepTitle",defaultMessage:"Index settings (optional)"}))),Object(Y.jsx)(W.EuiSpacer,{size:"s"}),Object(Y.jsx)(W.EuiText,null,Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepSettings.settingsDescription",defaultMessage:"Define the behavior of your indices."})))),Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiButtonEmpty,{size:"s",flush:"right",href:`${a}/index-modules.html#index-modules-settings`,target:"_blank",iconType:"help"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepSettings.docsButtonLabel",defaultMessage:"Index settings docs"})))),Object(Y.jsx)(W.EuiSpacer,{size:"l"}),Object(Y.jsx)(W.EuiFormRow,{label:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepSettings.fieldIndexSettingsLabel",defaultMessage:"Index settings"}),helpText:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepSettings.settingsEditorHelpText",defaultMessage:"Use JSON format: {code}",values:{code:Object(Y.jsx)(W.EuiCode,null,JSON.stringify({number_of_replicas:1}))}}),isInvalid:Boolean(r),error:r,fullWidth:!0},Object(Y.jsx)(me.EuiCodeEditor,{mode:"json",theme:"textmate",width:"100%",height:"500px",setOptions:{showLineNumbers:!1,tabSize:2},editorProps:{$blockScrolling:1/0},showGutter:!1,minLines:6,"aria-label":i.i18n.translate("xpack.idxMgmt.formWizard.stepSettings.fieldIndexSettingsAriaLabel",{defaultMessage:"Index settings editor"}),value:n,onChange:s,"data-test-subj":"settingsEditor"})))})),vt=$.a.memo((({esDocsBase:e})=>{const{defaultValue:t,updateContent:a}=me.Forms.useContent("settings");return Object(Y.jsx)(Ot,{defaultValue:t,onChange:a,esDocsBase:e})})),Tt={settings:i.i18n.translate("xpack.idxMgmt.templateContentIndicator.indexSettingsTooltipLabel",{defaultMessage:"Index settings"}),mappings:i.i18n.translate("xpack.idxMgmt.templateContentIndicator.mappingsTooltipLabel",{defaultMessage:"Mappings"}),aliases:i.i18n.translate("xpack.idxMgmt.templateContentIndicator.aliasesTooltipLabel",{defaultMessage:"Aliases"})},Et=({mappings:e,settings:t,aliases:a,contentWhenEmpty:i=null})=>{const n=e=>e?"primary":"hollow";return e||t||a?Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiToolTip,{content:Tt.mappings},Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiBadge,{color:n(e)},"M"),"")),Object(Y.jsx)(W.EuiToolTip,{content:Tt.settings},Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiBadge,{color:n(t)},"S"),"")),Object(Y.jsx)(W.EuiToolTip,{content:Tt.aliases},Object(Y.jsx)(W.EuiBadge,{color:n(a)},"A"))):i},{stripEmptyFields:kt}=pe.serializers,Ft=$.a.memo((({template:e,filters:t})=>{const[a,i]=Object(q.useState)("{}"),s=Object(q.useCallback)((async()=>{var a;if(!e||0===Object.keys(e).length)return;const s=Xe(kt(e)),{data:r,error:o}=await function(e){return Fc({path:`${n}/index_templates/simulate`,method:"post",body:JSON.stringify(e)}).then((e=>(Sc.trackMetric(Le.METRIC_TYPE.COUNT,N),e)))}(s);let l=r;r&&(delete r.overlapping,r.template&&void 0===r.template.mappings&&(r.template.mappings={}),t&&(l=Object.entries(t).reduce(((e,[t,a])=>(a||delete e[t],e)),{...r.template}))),i(JSON.stringify(null!==(a=l)&&void 0!==a?a:o,null,2))}),[e,t]);Object(q.useEffect)((()=>{s()}),[s]);const r="{}"===a,o=Boolean(t);return r&&o?Object(Y.jsx)(W.EuiCallOut,{title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.simulateTemplate.noFilterSelected",defaultMessage:"Select at least one option to preview."}),iconType:"pin",size:"s"}):r?null:Object(Y.jsx)(W.EuiCodeBlock,{lang:"json","data-test-subj":"simulateTemplatePreview"},a)})),_t=Object(de.getUseField)({component:ue.CheckBoxField}),St={"data-test-subj":"simulateTemplateFlyout","aria-labelledby":"simulateTemplateFlyoutTitle"},Ct={filters:{label:i.i18n.translate("xpack.idxMgmt.simulateTemplate.filters.label",{defaultMessage:"Include:"}),mappings:i.i18n.translate("xpack.idxMgmt.simulateTemplate.filters.mappings",{defaultMessage:"Mappings"}),indexSettings:i.i18n.translate("xpack.idxMgmt.simulateTemplate.filters.indexSettings",{defaultMessage:"Index settings"}),aliases:i.i18n.translate("xpack.idxMgmt.simulateTemplate.filters.aliases",{defaultMessage:"Aliases"})}},Lt=({onClose:e,getTemplate:t,filters:a,onFiltersChange:i})=>{const n=Object(q.useRef)(!1),[s,r]=Object(q.useState)({}),{form:o}=Object(de.useForm)({defaultValue:a}),{subscribe:l}=o;Object(q.useEffect)((()=>{l((e=>{i(e.data.format())}))}),[l,i]);const c=Object(q.useCallback)((async()=>{const e=await t();r(e)}),[t]);return Object(q.useEffect)((()=>{!1===n.current&&c(),n.current=!0}),[c]),Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiFlyoutHeader,null,Object(Y.jsx)(W.EuiTitle,{size:"m"},Object(Y.jsx)("h2",{id:"componentTemplatesFlyoutTitle","data-test-subj":"title"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.simulateTemplate.title",defaultMessage:"Preview index template"}))),Object(Y.jsx)(W.EuiSpacer,{size:"xs"}),Object(Y.jsx)(W.EuiTextColor,{color:"subdued"},Object(Y.jsx)(W.EuiText,{size:"s"},Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.simulateTemplate.descriptionText",defaultMessage:"This is the final template that will be applied to matching indices based on the component templates you have selected and any overrides you've added."}))))),Object(Y.jsx)(W.EuiFlyoutBody,{"data-test-subj":"content"},Object(Y.jsx)(de.Form,{form:o},Object(Y.jsx)(W.EuiFlexGroup,{alignItems:"center"},Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Ct.filters.label),Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(_t,{path:"mappings",config:{label:Ct.filters.mappings}})),Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(_t,{path:"settings",config:{label:Ct.filters.indexSettings}})),Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(_t,{path:"aliases",config:{label:Ct.filters.aliases}}))),Object(Y.jsx)(W.EuiSpacer,null),Object(Y.jsx)(de.FormDataProvider,null,(e=>Object(Y.jsx)(Ft,{template:s,filters:e}))))),Object(Y.jsx)(W.EuiFlyoutFooter,null,Object(Y.jsx)(W.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiButtonEmpty,{iconType:"cross",flush:"left",onClick:e,"data-test-subj":"closeDetailsButton"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.simulateTemplate.closeButtonLabel",defaultMessage:"Close"}))),Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiButton,{iconType:"refresh",onClick:c,"data-test-subj":"updateSimulationButton",fill:!0},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.simulateTemplate.updateButtonLabel",defaultMessage:"Update"}))))))},wt=({history:e,showCta:t})=>Object(Y.jsx)(W.EuiCallOut,{title:i.i18n.translate("xpack.idxMgmt.legacyIndexTemplatesDeprecation.title",{defaultMessage:"Legacy index templates are deprecated in favor of composable index templates"}),color:"warning",iconType:"alert","data-test-subj":"legacyIndexTemplateDeprecationWarning"},t&&e&&Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.legacyIndexTemplatesDeprecation.description",defaultMessage:"{createTemplateButton} or {learnMoreLink}",values:{createTemplateButton:Object(Y.jsx)(W.EuiLink,lt()({"data-test-subj":"createTemplateButton"},Object(fe.reactRouterNavigate)(e,"/create_template")),Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.legacyIndexTemplatesDeprecation.createTemplatesButtonLabel",defaultMessage:"Create composable template"})),learnMoreLink:Object(Y.jsx)(W.EuiLink,{href:Ce.getTemplatesDocumentationLink(),target:"_blank",external:!0},i.i18n.translate("xpack.idxMgmt.home.legacyIndexTemplatesDeprecation.ctaLearnMoreLinkText",{defaultMessage:"learn more."}))}})),!t&&Object(Y.jsx)(W.EuiLink,{href:Ce.getTemplatesDocumentationLink(),target:"_blank",external:!0},i.i18n.translate("xpack.idxMgmt.home.legacyIndexTemplatesDeprecation.learnMoreLinkText",{defaultMessage:"Learn more."}))),{emptyField:It,containsCharsField:Dt,startsWithField:Pt,indexPatternField:Nt,lowerCaseStringField:At,isJsonField:Rt}=pe.fieldValidators,{toInt:zt}=pe.fieldFormatters,Bt=["\\","/","?",'"',"<",">","|"].join(" "),Vt={type:de.FIELD_TYPES.TEXT,label:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.fieldNameLabel",{defaultMessage:"Name"}),validations:[{validator:It(i.i18n.translate("xpack.idxMgmt.templateValidation.templateNameRequiredError",{defaultMessage:"A template name is required."}))},{validator:Dt({chars:" ",message:i.i18n.translate("xpack.idxMgmt.templateValidation.templateNameSpacesError",{defaultMessage:"Spaces are not allowed in a template name."})})},{validator:Pt({char:"_",message:i.i18n.translate("xpack.idxMgmt.templateValidation.templateNameUnderscoreError",{defaultMessage:"A template name must not start with an underscore."})})},{validator:Pt({char:".",message:i.i18n.translate("xpack.idxMgmt.templateValidation.templateNamePeriodError",{defaultMessage:"A template name must not start with a period."})})},{validator:Dt({chars:['"',"*","\\",",","?"],message:({charsFound:e})=>i.i18n.translate("xpack.idxMgmt.templateValidation.templateNameInvalidaCharacterError",{defaultMessage:'A template name must not contain the character "{invalidChar}"',values:{invalidChar:e[0]}})})},{validator:At(i.i18n.translate("xpack.idxMgmt.templateValidation.templateNameLowerCaseRequiredError",{defaultMessage:"The template name must be in lowercase."}))}]},Ut={...Vt,validations:[]},qt={logistics:{name:Vt,indexPatterns:{type:de.FIELD_TYPES.COMBO_BOX,defaultValue:[],label:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.fieldIndexPatternsLabel",{defaultMessage:"Index patterns"}),helpText:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepLogistics.fieldIndexPatternsHelpText",defaultMessage:"Spaces and the characters {invalidCharactersList} are not allowed.",values:{invalidCharactersList:Object(Y.jsx)("strong",null,Bt)}}),validations:[{validator:It(i.i18n.translate("xpack.idxMgmt.templateValidation.indexPatternsRequiredError",{defaultMessage:"At least one index pattern is required."}))},{validator:Nt(i.i18n),type:de.VALIDATION_TYPES.ARRAY_ITEM,isBlocking:!1}]},doCreateDataStream:{type:de.FIELD_TYPES.TOGGLE,label:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.datastreamLabel",{defaultMessage:"Create data stream"}),defaultValue:!1},order:{type:de.FIELD_TYPES.NUMBER,label:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.fieldOrderLabel",{defaultMessage:"Order (optional)"}),formatters:[zt]},priority:{type:de.FIELD_TYPES.NUMBER,label:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.fieldPriorityLabel",{defaultMessage:"Priority (optional)"}),formatters:[zt]},version:{type:de.FIELD_TYPES.NUMBER,label:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.fieldVersionLabel",{defaultMessage:"Version (optional)"}),formatters:[zt]},_meta:{label:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.metaFieldEditorLabel",{defaultMessage:"_meta field data (optional)"}),helpText:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepLogistics.metaFieldEditorHelpText",defaultMessage:"Use JSON format: {code}",values:{code:Object(Y.jsx)(W.EuiCode,null,JSON.stringify({arbitrary_data:"anything_goes"}))}}),validations:[{validator:Rt(i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.metaFieldEditorJsonError",{defaultMessage:"The _meta field JSON is not valid."}),{allowEmptyString:!0})}],deserializer:e=>""===e?e:JSON.stringify(e,null,2),serializer:e=>{try{return JSON.parse(e)}catch(t){return e}}},addMeta:{type:de.FIELD_TYPES.TOGGLE,label:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.addMetadataLabel",{defaultMessage:"Add metadata"})}}},$t=Object(de.getUseField)({component:ue.Field}),Wt=Object(ue.getFormRow)({titleTag:"h3"});function Ht(e){return{...e,addMeta:Boolean(e._meta&&Object.keys(e._meta).length),doCreateDataStream:Boolean(e.dataStream)}}function Gt(e={}){return t=>{var a;const{addMeta:i,doCreateDataStream:n,...s}=t;return{...s,dataStream:n?null!==(a=e.dataStream)&&void 0!==a?a:{}:void 0}}}const Jt=$.a.memo((({defaultValue:e,isEditing:t=!1,onChange:a,isLegacy:n=!1})=>{const{form:s}=Object(de.useForm)({schema:qt.logistics,defaultValue:e,options:{stripEmptyFields:!1},serializer:Gt(e),deserializer:Ht}),{submit:r,isSubmitted:o,isValid:l,getErrors:c,getFormData:d}=s,[{addMeta:u}]=Object(de.useFormData)({form:s,watch:"addMeta"}),p=Object(q.useCallback)((async()=>(await r()).isValid),[r]);Object(q.useEffect)((()=>{a({isValid:l,getData:d,validate:p})}),[a,l,p,d]);const{name:m,indexPatterns:g,createDataStream:f,order:x,priority:b,version:h}=(Ce.getEsDocsBase(),{name:{title:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.nameTitle",{defaultMessage:"Name"}),description:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.nameDescription",{defaultMessage:"A unique identifier for this template."}),testSubject:"nameField"},indexPatterns:{title:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.indexPatternsTitle",{defaultMessage:"Index patterns"}),description:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.indexPatternsDescription",{defaultMessage:"The index patterns to apply to the template."}),testSubject:"indexPatternsField"},createDataStream:{title:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.dataStreamTitle",{defaultMessage:"Data stream"}),description:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepLogistics.dataStreamDescription",defaultMessage:"The template creates data streams instead of indices. {docsLink}",values:{docsLink:Object(Y.jsx)(W.EuiLink,{href:Ce.getDataStreamsDocumentationLink(),target:"_blank",external:!0},i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.dataStreamDocumentionLink",{defaultMessage:"Learn more."}))}}),testSubject:"dataStreamField"},order:{title:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.orderTitle",{defaultMessage:"Merge order"}),description:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.orderDescription",{defaultMessage:"The merge order when multiple templates match an index."}),testSubject:"orderField"},priority:{title:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.priorityTitle",{defaultMessage:"Priority"}),description:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.priorityDescription",{defaultMessage:"Only the highest priority template will be applied."}),testSubject:"priorityField"},version:{title:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.versionTitle",{defaultMessage:"Version"}),description:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.versionDescription",{defaultMessage:"A number that identifies the template to external management systems."}),testSubject:"versionField"}});return Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiTitle,null,Object(Y.jsx)("h2",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepLogistics.stepTitle",defaultMessage:"Logistics"})))),Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiButtonEmpty,{size:"s",flush:"right",href:Ce.getTemplatesDocumentationLink(n),target:"_blank",iconType:"help"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepLogistics.docsButtonLabel",defaultMessage:"Index Templates docs"})))),Object(Y.jsx)(W.EuiSpacer,{size:"l"}),Object(Y.jsx)(de.Form,{form:s,isInvalid:o&&!l,error:c(),"data-test-subj":"stepLogistics"},Object(Y.jsx)(Wt,{title:m.title,description:m.description},Object(Y.jsx)($t,{path:"name",componentProps:{"data-test-subj":m.testSubject,euiFieldProps:{disabled:t}},config:t?Ut:Vt})),Object(Y.jsx)(Wt,{title:g.title,description:g.description},Object(Y.jsx)($t,{path:"indexPatterns",componentProps:{"data-test-subj":g.testSubject}})),!0!==n&&Object(Y.jsx)(Wt,{title:f.title,description:f.description},Object(Y.jsx)($t,{path:"doCreateDataStream",componentProps:{"data-test-subj":f.testSubject}})),n&&Object(Y.jsx)(Wt,{title:x.title,description:x.description},Object(Y.jsx)($t,{path:"order",componentProps:{"data-test-subj":x.testSubject}})),!1===n&&Object(Y.jsx)(Wt,{title:b.title,description:b.description},Object(Y.jsx)($t,{path:"priority",componentProps:{"data-test-subj":b.testSubject}})),Object(Y.jsx)(Wt,{title:h.title,description:h.description},Object(Y.jsx)($t,{path:"version",componentProps:{"data-test-subj":h.testSubject}})),!1===n&&Object(Y.jsx)(Wt,{title:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.metaFieldTitle",{defaultMessage:"_meta field"}),description:Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepLogistics.metaFieldDescription",defaultMessage:"Use the _meta field to store any metadata you want."}),Object(Y.jsx)(W.EuiSpacer,{size:"m"}),Object(Y.jsx)($t,{path:"addMeta","data-test-subj":"metaToggle"}))},u&&Object(Y.jsx)($t,{path:"_meta",component:ue.JsonEditorField,componentProps:{euiCodeEditorProps:{height:"280px","aria-label":i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.metaFieldEditorAriaLabel",{defaultMessage:"_meta field data editor"}),"data-test-subj":"metaField"}}}))))})),Yt=({isEditing:e,isLegacy:t})=>{const{defaultValue:a,updateContent:i}=me.Forms.useContent("logistics");return Object(Y.jsx)(Jt,{defaultValue:a,onChange:i,isEditing:e,isLegacy:t})},Kt=["manage_index_templates"],Xt=Object(q.createContext)(void 0),Zt=({children:e,value:t})=>{const{httpClient:a,apiBasePath:n,trackMetric:s,docLinks:r,toasts:o,setBreadcrumbs:l,getUrlForApp:c}=t,d=((e,t,a,i)=>({useLoadComponentTemplates:function(){return e({path:`${a}/component_templates`,method:"get"})},deleteComponentTemplates:function(e){const n=t({path:`${a}/component_templates/${e.map((e=>encodeURIComponent(e))).join(",")}`,method:"delete"});return i(Le.METRIC_TYPE.COUNT,e.length>1?"component_template_delete_many":"component_template_delete"),n},useLoadComponentTemplate:function(t){return e({path:`${a}/component_templates/${encodeURIComponent(t)}`,method:"get"})},createComponentTemplate:async function(e){const n=await t({path:`${a}/component_templates`,method:"post",body:JSON.stringify(e)});return i(Le.METRIC_TYPE.COUNT,"component_template_create"),n},updateComponentTemplate:async function(e){const{name:n}=e,s=await t({path:`${a}/component_templates/${encodeURIComponent(n)}`,method:"put",body:JSON.stringify(e)});return i(Le.METRIC_TYPE.COUNT,"component_template_update"),s}}))((e=>t=>Object(me.useRequest)(e,t))(a),(e=>t=>Object(me.sendRequest)(e,t))(a),n,s),u=(({links:e})=>({esDocsBase:e.elasticsearch.docsBase,componentTemplates:e.apis.putComponentTemplate,componentTemplatesMetadata:e.apis.putComponentTemplateMetadata}))(r),p=(e=>{const t=[{text:i.i18n.translate("xpack.idxMgmt.componentTemplate.breadcrumb.homeLabel",{defaultMessage:"Index Management"}),href:"/"},{text:i.i18n.translate("xpack.idxMgmt.componentTemplate.breadcrumb.componentTemplatesLabel",{defaultMessage:"Component templates"}),href:"/component_templates"}];return{setCreateBreadcrumbs:()=>{const a=[...t,{text:i.i18n.translate("xpack.idxMgmt.componentTemplate.breadcrumb.createComponentTemplateLabel",{defaultMessage:"Create component template"})}];return e(a)},setEditBreadcrumbs:()=>{const a=[...t,{text:i.i18n.translate("xpack.idxMgmt.componentTemplate.breadcrumb.editComponentTemplateLabel",{defaultMessage:"Edit component template"})}];return e(a)}}})(l);return Object(Y.jsx)(Xt.Provider,{value:{api:d,documentation:u,trackMetric:s,toasts:o,httpClient:a,apiBasePath:n,breadcrumbs:p,getUrlForApp:c}},e)},Qt=()=>{const e=Object(q.useContext)(Xt);if(!e)throw new Error('"useComponentTemplatesContext" can only be called inside of ComponentTemplatesProvider!');return e},ea=({children:e})=>{const{httpClient:t,apiBasePath:a}=Qt();return Object(Y.jsx)(me.AuthorizationProvider,{privilegesEndpoint:`${a}/component_templates/privileges`,httpClient:t},e)},ta=({children:e})=>{const{apiError:t}=Object(me.useAuthorizationContext)();return t?Object(Y.jsx)(me.PageError,{title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.checkingPrivilegesErrorMessage",defaultMessage:"Error fetching user privileges from the server."}),error:t}):Object(Y.jsx)(me.WithPrivileges,{privileges:Kt.map((e=>`cluster.${e}`))},(({isLoading:t,hasPrivileges:a,privilegesMissing:i})=>t?Object(Y.jsx)(me.PageLoading,null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.checkingPrivilegesDescription",defaultMessage:"Checking privileges"})):a?Object(Y.jsx)($.a.Fragment,null,e):Object(Y.jsx)(me.NotAuthorizedSection,{title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.deniedPrivilegeTitle",defaultMessage:"Cluster privileges required"}),message:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.deniedPrivilegeDescription",defaultMessage:"To use Component Templates, you must have {privilegesCount, plural, one {this cluster privilege} other {these cluster privileges}}: {missingPrivileges}.",values:{missingPrivileges:i.cluster.join(", "),privilegesCount:i.cluster.length}})})))},aa=({componentTemplateDetails:e,showCallToAction:t})=>{const{getUrlForApp:a}=Qt(),{version:i,_meta:n,_kbnMeta:s}=e,{usedBy:r}=s,o=r.length>0;return Object(Y.jsx)($.a.Fragment,null,!o&&Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiCallOut,{title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.summaryTab.notInUseTitle",defaultMessage:"This component template is not in use by any index templates."}),iconType:"pin","data-test-subj":"notInUseCallout",size:"s"},t&&Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.summaryTab.notInUseDescription",defaultMessage:"{createLink} an index template or {editLink} an existing one.",values:{createLink:Object(Y.jsx)(W.EuiLink,{href:a("management",{path:"/data/index_management/create_template"})},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.summaryTab.createTemplateLink",defaultMessage:"Create"})),editLink:Object(Y.jsx)(W.EuiLink,{href:a("management",{path:"/data/index_management/templates"})},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.summaryTab.updateTemplateLink",defaultMessage:"update"}))}}))),Object(Y.jsx)(W.EuiSpacer,null)),Object(Y.jsx)(W.EuiDescriptionList,{textStyle:"reverse","data-test-subj":"summaryTabContent"},o&&Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiDescriptionListTitle,{"data-test-subj":"usedByTitle"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.summaryTab.usedByDescriptionListTitle",defaultMessage:"Used by"})),Object(Y.jsx)(W.EuiDescriptionListDescription,null,Object(Y.jsx)("ul",null,r.map((e=>Object(Y.jsx)("li",{key:e},Object(Y.jsx)(W.EuiTitle,{size:"xs"},Object(Y.jsx)("span",null,e)))))))),void 0!==i&&Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiDescriptionListTitle,{"data-test-subj":"versionTitle"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.summaryTab.versionDescriptionListTitle",defaultMessage:"Version"})),Object(Y.jsx)(W.EuiDescriptionListDescription,null,i)),n&&Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiDescriptionListTitle,{"data-test-subj":"metaTitle"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.summaryTab.metaDescriptionListTitle",defaultMessage:"Metadata"})),Object(Y.jsx)(W.EuiDescriptionListDescription,null,Object(Y.jsx)(W.EuiCodeBlock,{lang:"json"},JSON.stringify(n,null,2))))))},ia=[{id:"summary",name:i.i18n.translate("xpack.idxMgmt.componentTemplateDetails.summaryTabTitle",{defaultMessage:"Summary"})},{id:"settings",name:i.i18n.translate("xpack.idxMgmt.componentTemplateDetails.settingsTabTitle",{defaultMessage:"Settings"})},{id:"mappings",name:i.i18n.translate("xpack.idxMgmt.componentTemplateDetails.mappingsTabTitle",{defaultMessage:"Mappings"})},{id:"aliases",name:i.i18n.translate("xpack.idxMgmt.componentTemplateDetails.aliasesTabTitle",{defaultMessage:"Aliases"})}],na=({setActiveTab:e,activeTab:t})=>Object(Y.jsx)(W.EuiTabs,null,ia.map((a=>Object(Y.jsx)(W.EuiTab,{onClick:()=>{e(a.id)},isSelected:a.id===t,key:a.id,"data-test-subj":`${a.id}Tab`},a.name)))),sa=({actions:e,componentTemplateDetails:t})=>{const[a,n]=Object(q.useState)(!1),s=e.map((({name:e,icon:a,getIsDisabled:i,closePopoverOnClick:s,handleActionClick:r})=>{const o=!!i&&i(t);return{name:e,icon:a,disabled:o,toolTipContent:o?Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.manageButtonDisabledTooltipLabel",defaultMessage:"Template is in use and cannot be deleted"}):null,onClick:()=>{r(),s&&n(!1)},"data-test-subj":"action"}}));return Object(Y.jsx)(W.EuiPopover,{id:"manageComponentTemplatePanel",button:Object(Y.jsx)(W.EuiButton,{fill:!0,"data-test-subj":"manageComponentTemplateButton",iconType:"arrowDown",iconSide:"right",onClick:()=>n((e=>!e))},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.manageButtonLabel",defaultMessage:"Manage"})),isOpen:a,closePopover:()=>n(!1),panelPaddingSize:"none",anchorPosition:"rightUp",repositionOnScroll:!0},Object(Y.jsx)(W.EuiContextMenu,{initialPanelId:0,"data-test-subj":"manageComponentTemplateContextMenu",panels:[{id:0,title:i.i18n.translate("xpack.idxMgmt.componentTemplateDetails.manageContextMenuPanelTitle",{defaultMessage:"Options"}),items:s}]}))},ra={"data-test-subj":"componentTemplateDetails","aria-labelledby":"componentTemplateDetailsFlyoutTitle"},oa=({componentTemplateName:e,onClose:t,actions:a,showSummaryCallToAction:i})=>{const{api:n}=Qt(),s=Object(me.attemptToURIDecode)(e),{data:r,isLoading:o,error:l}=n.useLoadComponentTemplate(s),[c,d]=Object(q.useState)("summary");let u;if(o)u=Object(Y.jsx)(me.SectionLoading,null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.loadingIndexTemplateDescription",defaultMessage:"Loading component template"}));else if(l)u=Object(Y.jsx)(W.EuiCallOut,{title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.loadingErrorMessage",defaultMessage:"Error loading component template"}),color:"danger",iconType:"alert","data-test-subj":"sectionError"},Object(Y.jsx)("p",null,l.message));else if(r){const{template:{settings:e,mappings:t,aliases:a}}=r,n={summary:Object(Y.jsx)(aa,{componentTemplateDetails:r,showCallToAction:i}),settings:Object(Y.jsx)(xt,{settings:e}),mappings:Object(Y.jsx)(ft,{mappings:t}),aliases:Object(Y.jsx)(gt,{aliases:a})}[c];u=Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(na,{activeTab:c,setActiveTab:d}),Object(Y.jsx)(W.EuiSpacer,{size:"l"}),n)}return Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiFlyoutHeader,null,Object(Y.jsx)(W.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiTitle,{size:"m"},Object(Y.jsx)("h2",{id:"componentTemplateDetailsFlyoutTitle","data-test-subj":"title"},s))),null!=r&&r._kbnMeta.isManaged?Object(Y.jsx)(W.EuiFlexItem,{grow:!1}," ",Object(Y.jsx)(W.EuiBadge,{color:"hollow"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.managedBadgeLabel",defaultMessage:"Managed"}))):null)),Object(Y.jsx)(W.EuiFlyoutBody,{"data-test-subj":"content"},u),a&&Object(Y.jsx)(W.EuiFlyoutFooter,{"data-test-subj":"footer"},Object(Y.jsx)(W.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiButtonEmpty,{iconType:"cross",flush:"left",onClick:t,"data-test-subj":"closeDetailsButton"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.closeButtonLabel",defaultMessage:"Close"}))),r&&Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(sa,{actions:a,componentTemplateDetails:r})))))},la=({history:e})=>{const{documentation:t}=Qt();return Object(Y.jsx)(W.EuiEmptyPrompt,{iconType:"managementApp","data-test-subj":"emptyList",title:Object(Y.jsx)("h2",{"data-test-subj":"title"},i.i18n.translate("xpack.idxMgmt.home.componentTemplates.emptyPromptTitle",{defaultMessage:"Start by creating a component template"})),body:Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.emptyPromptDescription",defaultMessage:"For example, you can create a component template for index settings that can be reused across index templates."}),Object(Y.jsx)("br",null),Object(Y.jsx)(W.EuiLink,{href:t.componentTemplates,target:"_blank",external:!0},i.i18n.translate("xpack.idxMgmt.home.componentTemplates.emptyPromptDocumentionLink",{defaultMessage:"Learn more."}))),actions:Object(Y.jsx)(W.EuiButton,lt()({},Object(fe.reactRouterNavigate)(e,"/create_component_template"),{iconType:"plusInCircle",fill:!0}),i.i18n.translate("xpack.idxMgmt.home.componentTemplates.emptyPromptButtonLabel",{defaultMessage:"Create a component template"}))})},ca=({componentTemplates:e,onReloadClick:t,onDeleteClick:a,onEditClick:n,onCloneClick:s,history:r})=>{const{trackMetric:o}=Qt(),[l,c]=Object(q.useState)([]),d={itemId:"name",isSelectable:!0,"data-test-subj":"componentTemplatesTable",sorting:{sort:{field:"name",direction:"asc"}},selection:{onSelectionChange:c,selectable:({usedBy:e})=>0===e.length,selectableMessage:e=>e?i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.selectionLabel",{defaultMessage:"Select this component template"}):i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.disabledSelectionLabel",{defaultMessage:"Component template is in use and cannot be deleted"})},rowProps:()=>({"data-test-subj":"componentTemplateTableRow"}),search:{toolsLeft:l.length>0?Object(Y.jsx)(W.EuiButton,{"data-test-subj":"deleteComponentTemplatexButton",onClick:()=>a(l.map((({name:e})=>e))),color:"danger"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesList.table.deleteComponentTemplatesButtonLabel",defaultMessage:"Delete {count, plural, one {component template} other {component templates} }",values:{count:l.length}})):void 0,toolsRight:[Object(Y.jsx)(W.EuiButton,{key:"reloadButton",iconType:"refresh",color:"secondary","data-test-subj":"reloadButton",onClick:t},i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.reloadButtonLabel",{defaultMessage:"Reload"})),Object(Y.jsx)(W.EuiButton,lt()({fill:!0,iconType:"plusInCircle","data-test-subj":"createPipelineButton",key:"createPipelineButton"},Object(fe.reactRouterNavigate)(r,"/create_component_template")),i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.createButtonLabel",{defaultMessage:"Create component template"}))],box:{incremental:!0},filters:[{type:"is",field:"isManaged",name:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.isManagedFilterLabel",{defaultMessage:"Managed"})},{type:"field_value_toggle_group",field:"usedBy.length",items:[{value:1,name:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.inUseFilterOptionLabel",{defaultMessage:"In use"}),operator:"gte"},{value:0,name:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.notInUseFilterOptionLabel",{defaultMessage:"Not in use"}),operator:"eq"}]}]},pagination:{initialPageSize:10,pageSizeOptions:[10,20,50]},columns:[{field:"name",name:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.nameColumnTitle",{defaultMessage:"Name"}),sortable:!0,width:"20%",render:(e,t)=>Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiLink,lt()({},Object(fe.reactRouterNavigate)(r,{pathname:encodeURI(`/component_templates/${encodeURIComponent(e)}`)},(()=>o(Le.METRIC_TYPE.CLICK,"component_template_details"))),{"data-test-subj":"templateDetailsLink"}),e),t.isManaged&&Object(Y.jsx)($.a.Fragment,null,"",Object(Y.jsx)(W.EuiBadge,{color:"hollow","data-test-subj":"isManagedBadge"},i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.managedBadgeLabel",{defaultMessage:"Managed"}))))},{field:"usedBy",name:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.isInUseColumnTitle",{defaultMessage:"Usage count"}),sortable:!0,render:e=>e.length?e.length:Object(Y.jsx)(W.EuiTextColor,{color:"subdued"},Object(Y.jsx)("i",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesList.table.notInUseCellDescription",defaultMessage:"Not in use"})))},{field:"hasMappings",name:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.mappingsColumnTitle",{defaultMessage:"Mappings"}),truncateText:!0,sortable:!0,render:e=>e?Object(Y.jsx)(W.EuiIcon,{type:"check"}):null},{field:"hasSettings",name:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.settingsColumnTitle",{defaultMessage:"Settings"}),truncateText:!0,sortable:!0,render:e=>e?Object(Y.jsx)(W.EuiIcon,{type:"check"}):null},{field:"hasAliases",name:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.aliasesColumnTitle",{defaultMessage:"Aliases"}),truncateText:!0,sortable:!0,render:e=>e?Object(Y.jsx)(W.EuiIcon,{type:"check"}):null},{name:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesList.table.actionColumnTitle",defaultMessage:"Actions"}),actions:[{name:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.actionEditText",{defaultMessage:"Edit"}),description:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.actionEditDecription",{defaultMessage:"Edit this component template"}),onClick:({name:e})=>n(e),isPrimary:!0,icon:"pencil",type:"icon","data-test-subj":"editComponentTemplateButton"},{name:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.actionCloneText",{defaultMessage:"Clone"}),description:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.actionCloneDecription",{defaultMessage:"Clone this component template"}),onClick:({name:e})=>s(e),icon:"copy",type:"icon","data-test-subj":"cloneComponentTemplateButton"},{name:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.deleteActionLabel",{defaultMessage:"Delete"}),description:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.deleteActionDescription",{defaultMessage:"Delete this component template"}),onClick:({name:e})=>a([e]),enabled:({usedBy:e})=>0===e.length,isPrimary:!0,type:"icon",icon:"trash",color:"danger","data-test-subj":"deleteComponentTemplateButton"}]}],items:null!=e?e:[]};return Object(Y.jsx)(W.EuiInMemoryTable,d)},da=({componentTemplatesToDelete:e,callback:t})=>{const{toasts:a,api:n}=Qt(),s=e.length;return Object(Y.jsx)(W.EuiConfirmModal,{buttonColor:"danger","data-test-subj":"deleteComponentTemplatesConfirmation",title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.deleteModal.modalTitleText",defaultMessage:"Delete {numComponentTemplatesToDelete, plural, one {component template} other {# component templates}}",values:{numComponentTemplatesToDelete:s}}),onCancel:()=>{t()},onConfirm:()=>{n.deleteComponentTemplates(e).then((({data:{itemsDeleted:n,errors:s},error:r})=>{const o=n&&n.length;if(o){const s=1===n.length?i.i18n.translate("xpack.idxMgmt.home.componentTemplates.deleteModal.successDeleteSingleNotificationMessageText",{defaultMessage:"Deleted component template '{componentTemplateName}'",values:{componentTemplateName:e[0]}}):i.i18n.translate("xpack.idxMgmt.home.componentTemplates.deleteModal.successDeleteMultipleNotificationMessageText",{defaultMessage:"Deleted {numSuccesses, plural, one {# component template} other {# component templates}}",values:{numSuccesses:n.length}});t({hasDeletedComponentTemplates:o}),a.addSuccess(s)}if(r||null!=s&&s.length){const t=(null==s?void 0:s.length)>1||r&&e.length>1?i.i18n.translate("xpack.idxMgmt.home.componentTemplates.deleteModal.multipleErrorsNotificationMessageText",{defaultMessage:"Error deleting {count} component templates",values:{count:(null==s?void 0:s.length)||e.length}}):i.i18n.translate("xpack.idxMgmt.home.componentTemplates.deleteModal.errorNotificationMessageText",{defaultMessage:"Error deleting component template '{name}'",values:{name:s&&s[0].name||e[0]}});a.addDanger(t)}}))},cancelButtonText:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.deleteModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.confirmButtonLabel",defaultMessage:"Delete {numComponentTemplatesToDelete, plural, one {component template} other {component templates} }",values:{numComponentTemplatesToDelete:s}})},Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.deleteModal.deleteDescription",defaultMessage:"You are about to delete {numComponentTemplatesToDelete, plural, one {this component template} other {these component templates} }:",values:{numComponentTemplatesToDelete:s}})),Object(Y.jsx)("ul",null,e.map((e=>Object(Y.jsx)("li",{key:e},e))))))},{useGlobalFlyout:ua}=me.GlobalFlyout,pa=({componentTemplateName:e,history:t})=>{const{addContent:a,removeContent:n}=ua(),{api:s,trackMetric:r,documentation:o}=Qt(),{data:l,isLoading:c,error:d,resendRequest:u}=s.useLoadComponentTemplates(),[p,m]=Object(q.useState)([]),g=Object(q.useCallback)((()=>t.push({pathname:"component_templates"})),[t]),f=Object(q.useCallback)((e=>t.push({pathname:encodeURI(`edit_component_template/${encodeURIComponent(e)}`)})),[t]),x=Object(q.useCallback)((e=>t.push({pathname:encodeURI(`create_component_template/${encodeURIComponent(e)}`)})),[t]);if(Object(q.useEffect)((()=>{r(Le.METRIC_TYPE.LOADED,"component_template_list_load")}),[r]),Object(q.useEffect)((()=>{if(e){const t=[{name:i.i18n.translate("xpack.idxMgmt.componentTemplateDetails.editButtonLabel",{defaultMessage:"Edit"}),icon:"pencil",handleActionClick:()=>f(Object(me.attemptToURIDecode)(e))},{name:i.i18n.translate("xpack.idxMgmt.componentTemplateDetails.cloneActionLabel",{defaultMessage:"Clone"}),icon:"copy",handleActionClick:()=>x(Object(me.attemptToURIDecode)(e))},{name:i.i18n.translate("xpack.idxMgmt.componentTemplateDetails.deleteButtonLabel",{defaultMessage:"Delete"}),icon:"trash",getIsDisabled:e=>e._kbnMeta.usedBy.length>0,closePopoverOnClick:!0,handleActionClick:()=>{m([Object(me.attemptToURIDecode)(e)])}}];a({id:"componentTemplateDetails",Component:oa,props:{onClose:g,componentTemplateName:e,showSummaryCallToAction:!0,actions:t},flyoutProps:{...ra,onClose:g}})}}),[e,g,f,x,a,t]),Object(q.useEffect)((()=>{e||n("componentTemplateDetails")}),[e,n]),c)return Object(Y.jsx)(me.PageLoading,{"data-test-subj":"sectionLoading"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.list.loadingMessage",defaultMessage:"Loading component templates"}));let b;return null!=l&&l.length?b=Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiText,{color:"subdued"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.list.componentTemplatesDescription",defaultMessage:"Use component templates to reuse settings, mappings, and aliases configurations in multiple index templates. {learnMoreLink}",values:{learnMoreLink:Object(Y.jsx)(W.EuiLink,{href:o.componentTemplates,target:"_blank",external:!0},i.i18n.translate("xpack.idxMgmt.componentTemplates.list.learnMoreLinkText",{defaultMessage:"Learn more."}))}})),Object(Y.jsx)(W.EuiSpacer,null),Object(Y.jsx)(ca,{componentTemplates:l,onReloadClick:u,onDeleteClick:m,onEditClick:f,onCloneClick:x,history:t})):l&&0===l.length?b=Object(Y.jsx)(la,{history:t}):d&&(b=Object(Y.jsx)(me.PageError,{title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.list.loadingErrorMessage",defaultMessage:"Error loading component templates"}),error:d,"data-test-subj":"componentTemplatesLoadError"})),Object(Y.jsx)("div",{className:Qe.APP_WRAPPER_CLASS,"data-test-subj":"componentTemplateList"},b,(null==p?void 0:p.length)>0?Object(Y.jsx)(da,{callback:e=>{null!=e&&e.hasDeletedComponentTemplates&&(u(),g()),m([])},componentTemplatesToDelete:p}):null)},ma=({match:{params:{componentTemplateName:e}},history:t})=>Object(Y.jsx)(ea,null,Object(Y.jsx)(ta,null,Object(Y.jsx)(pa,{componentTemplateName:e,history:t}))),{emptyField:ga,containsCharsField:fa,isJsonField:xa}=pe.fieldValidators,{toInt:ba}=pe.fieldFormatters,ha={name:{defaultValue:void 0,label:i.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.nameFieldLabel",{defaultMessage:"Name"}),type:de.FIELD_TYPES.TEXT,validations:[{validator:ga(i.i18n.translate("xpack.idxMgmt.componentTemplateForm.validation.nameRequiredError",{defaultMessage:"A component template name is required."}))},{validator:fa({chars:" ",message:i.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.validation.nameSpacesError",{defaultMessage:"Spaces are not allowed in a component template name."})})}]},version:{type:de.FIELD_TYPES.NUMBER,label:i.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.versionFieldLabel",{defaultMessage:"Version (optional)"}),formatters:[ba]},_meta:{label:i.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.metaFieldLabel",{defaultMessage:"_meta field data (optional)"}),helpText:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.metaHelpText",defaultMessage:"Use JSON format: {code}",values:{code:Object(Y.jsx)(W.EuiCode,null,JSON.stringify({arbitrary_data:"anything_goes"}))}}),serializer:e=>{const t=(e=>{let t;try{t=JSON.parse(e)}catch{t={}}return t})(e);if(Object.keys(t).length)return t},deserializer:e=>Object.keys(e).length?JSON.stringify(e,null,2):"{\n\n}",validations:[{validator:xa(i.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.validation.metaJsonError",{defaultMessage:"The input is not valid."}),{allowEmptyString:!0})}]}},ja=Object(de.getUseField)({component:ue.Field}),Ma=Object(ue.getFormRow)({titleTag:"h3"}),ya=$.a.memo((({defaultValue:e,isEditing:t,onChange:a})=>{const{form:n}=Object(de.useForm)({schema:ha,defaultValue:e,options:{stripEmptyFields:!1}}),{isValid:s,submit:r,getFormData:o,subscribe:l}=n,{documentation:c}=Qt(),[d,u]=Object(q.useState)(Boolean(e._meta&&Object.keys(e._meta).length)),p=Object(q.useCallback)((async()=>(await r()).isValid),[r]);return Object(q.useEffect)((()=>{a({isValid:s,validate:p,getData:o})}),[s,o,p,a]),Object(q.useEffect)((()=>l((({data:e,isValid:t})=>{a({isValid:t,validate:p,getData:e.format})})).unsubscribe),[l,p,a]),Object(Y.jsx)(de.Form,{form:n,"data-test-subj":"stepLogistics"},Object(Y.jsx)(W.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiTitle,null,Object(Y.jsx)("h2",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.stepTitle",defaultMessage:"Logistics"})))),Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiButtonEmpty,{size:"s",flush:"right",href:c.componentTemplates,target:"_blank",iconType:"help","data-test-subj":"documentationLink"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.docsButtonLabel",defaultMessage:"Component Templates docs"})))),Object(Y.jsx)(W.EuiSpacer,{size:"l"}),Object(Y.jsx)(Ma,{title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.nameTitle",defaultMessage:"Name"}),description:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.nameDescription",defaultMessage:"Unique name for this component template."})},Object(Y.jsx)(ja,{path:"name",componentProps:{"data-test-subj":"nameField",euiFieldProps:{disabled:t}}})),Object(Y.jsx)(Ma,{title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.versionTitle",defaultMessage:"Version"}),description:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.versionDescription",defaultMessage:"Number used by external management systems to identify the component template."})},Object(Y.jsx)(ja,{path:"version",componentProps:{"data-test-subj":"versionField"}})),Object(Y.jsx)(Ma,{title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.metaTitle",defaultMessage:"Metadata"}),description:Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.metaDescription",defaultMessage:"Arbitrary information about the template, stored in the cluster state. {learnMoreLink}",values:{learnMoreLink:Object(Y.jsx)(W.EuiLink,{href:c.componentTemplatesMetadata,target:"_blank",external:!0},i.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.metaDocumentionLink",{defaultMessage:"Learn more."}))}}),Object(Y.jsx)(W.EuiSpacer,{size:"m"}),Object(Y.jsx)(W.EuiSwitch,{label:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.metadataDescription",defaultMessage:"Add metadata"}),checked:d,onChange:e=>u(e.target.checked),"data-test-subj":"metaToggle"}))},d&&Object(Y.jsx)(ja,{path:"_meta",component:ue.JsonEditorField,componentProps:{euiCodeEditorProps:{"data-test-subj":"metaEditor",height:"200px","aria-label":i.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.metaAriaLabel",{defaultMessage:"_meta field data editor"})}}})))})),Oa=({isEditing:e=!1})=>{const{defaultValue:t,updateContent:a}=me.Forms.useContent("logistics");return Object(Y.jsx)(ya,{defaultValue:t,onChange:a,isEditing:e})},{stripEmptyFields:va}=pe.serializers,Ta=e=>e&&Object.entries(e).length>0?Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.summaryTab.yesDescriptionText",defaultMessage:"Yes"}):Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.summaryTab.noDescriptionText",defaultMessage:"No"}),Ea=$.a.memo((({componentTemplate:e})=>{const{name:t}=e,a=function(e){const{version:t,template:a,_meta:i}=e;return{version:t,template:a,_meta:i}}(va(e,{types:["string"]})),{template:n,_meta:s,version:r}=a;return Object(Y.jsx)("div",{"data-test-subj":"stepReview"},Object(Y.jsx)(W.EuiTitle,null,Object(Y.jsx)("h2",{"data-test-subj":"title"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.stepTitle",defaultMessage:"Review details for '{templateName}'",values:{templateName:t}}))),Object(Y.jsx)(W.EuiSpacer,{size:"l"}),Object(Y.jsx)(W.EuiTabbedContent,{"data-test-subj":"content",tabs:[{id:"summary",name:i.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepReview.summaryTabTitle",{defaultMessage:"Summary"}),content:Object(Y.jsx)((()=>Object(Y.jsx)("div",{"data-test-subj":"summaryTab"},Object(Y.jsx)(W.EuiSpacer,{size:"m"}),Object(Y.jsx)(W.EuiFlexGroup,null,Object(Y.jsx)(W.EuiFlexItem,null,Object(Y.jsx)(W.EuiDescriptionList,{textStyle:"reverse"},void 0!==r&&Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiDescriptionListTitle,null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.versionLabel",defaultMessage:"Version"})),Object(Y.jsx)(W.EuiDescriptionListDescription,null,r)),Object(Y.jsx)(W.EuiDescriptionListTitle,null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.summaryTab.settingsLabel",defaultMessage:"Index settings"})),Object(Y.jsx)(W.EuiDescriptionListDescription,null,Ta(null==n?void 0:n.settings)),Object(Y.jsx)(W.EuiDescriptionListTitle,null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.summaryTab.mappingLabel",defaultMessage:"Mappings"})),Object(Y.jsx)(W.EuiDescriptionListDescription,null,Ta(null==n?void 0:n.mappings)),Object(Y.jsx)(W.EuiDescriptionListTitle,null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.summaryTab.aliasesLabel",defaultMessage:"Aliases"})),Object(Y.jsx)(W.EuiDescriptionListDescription,null,Ta(null==n?void 0:n.aliases)))),Object(Y.jsx)(W.EuiFlexItem,null,s&&Object(Y.jsx)(W.EuiDescriptionList,{textStyle:"reverse"},Object(Y.jsx)(W.EuiDescriptionListTitle,null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.metaLabel",defaultMessage:"Metadata"})),Object(Y.jsx)(W.EuiDescriptionListDescription,null,Object(Y.jsx)(W.EuiCodeBlock,{language:"json"},JSON.stringify(s,null,2)))))))),null)},{id:"request",name:i.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepReview.requestTabTitle",{defaultMessage:"Request"}),content:Object(Y.jsx)((()=>{const e=`${`PUT _component_template/${t||"<componentTemplateName>"}`}\n${JSON.stringify(a,null,2)}`,i=e.length<6e4?"json":void 0;return Object(Y.jsx)("div",{"data-test-subj":"requestTab"},Object(Y.jsx)(W.EuiSpacer,{size:"m"}),Object(Y.jsx)(W.EuiText,null,Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.requestTab.descriptionText",defaultMessage:"This request will create the following component template."}))),Object(Y.jsx)(W.EuiSpacer,{size:"m"}),Object(Y.jsx)(W.EuiCodeBlock,{language:i,isCopyable:!0},e))}),null)}]}))})),ka=$.a.memo((({getComponentTemplateData:e})=>{const{getData:t}=me.Forms.useMultiContentContext(),a=e(t());return Object(Y.jsx)(Ea,{componentTemplate:a})})),{stripEmptyFields:Fa}=pe.serializers,{FormWizard:_a,FormWizardStep:Sa}=me.Forms,Ca={logistics:{id:"logistics",label:i.i18n.translate("xpack.idxMgmt.componentTemplateForm.steps.logisticsStepName",{defaultMessage:"Logistics"})},settings:{id:"settings",label:i.i18n.translate("xpack.idxMgmt.componentTemplateForm.steps.settingsStepName",{defaultMessage:"Index settings"})},mappings:{id:"mappings",label:i.i18n.translate("xpack.idxMgmt.componentTemplateForm.steps.mappingsStepName",{defaultMessage:"Mappings"})},aliases:{id:"aliases",label:i.i18n.translate("xpack.idxMgmt.componentTemplateForm.steps.aliasesStepName",{defaultMessage:"Aliases"})},review:{id:"review",label:i.i18n.translate("xpack.idxMgmt.componentTemplateForm.steps.summaryStepName",{defaultMessage:"Review"})}},La=({defaultValue:e={name:"",template:{},_meta:{},_kbnMeta:{usedBy:[],isManaged:!1}},isEditing:t,isSaving:a,saveError:i,clearSaveError:n,onSave:s})=>{const{template:{settings:r,mappings:o,aliases:l},...c}=e,{documentation:d}=Qt(),u={logistics:c,settings:r,mappings:o,aliases:l},p={save:t?Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.saveButtonLabel",defaultMessage:"Save component template"}):Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.createButtonLabel",defaultMessage:"Create component template"})},m=i?Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiCallOut,{title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.saveTemplateError",defaultMessage:"Unable to create component template"}),color:"danger",iconType:"alert","data-test-subj":"saveComponentTemplateError"},Object(Y.jsx)("div",null,i.message||i.statusText)),Object(Y.jsx)(W.EuiSpacer,{size:"m"})):null,g=Object(q.useCallback)((e=>t=>(e=>{const t={...e};return void 0===t.template.settings&&delete t.template.settings,void 0===t.template.mappings&&delete t.template.mappings,void 0===t.template.aliases&&delete t.template.aliases,t})({...e,name:t.logistics.name,version:t.logistics.version,_meta:t.logistics._meta,template:{settings:t.settings,mappings:t.mappings,aliases:t.aliases}})),[]),f=Object(q.useCallback)((async t=>{const a=g(e)(t);s(Fa(a,{types:["string"]})),n()}),[g,e,s,n]);return Object(Y.jsx)(_a,{defaultValue:u,onSave:f,isEditing:t,isSaving:a,apiError:m,texts:p},Object(Y.jsx)(Sa,{id:Ca.logistics.id,label:Ca.logistics.label,isRequired:!0},Object(Y.jsx)(Oa,{isEditing:t})),Object(Y.jsx)(Sa,{id:Ca.settings.id,label:Ca.settings.label},Object(Y.jsx)(vt,{esDocsBase:d.esDocsBase})),Object(Y.jsx)(Sa,{id:Ca.mappings.id,label:Ca.mappings.label},Object(Y.jsx)(yt,{esDocsBase:d.esDocsBase})),Object(Y.jsx)(Sa,{id:Ca.aliases.id,label:Ca.aliases.label},Object(Y.jsx)(jt,{esDocsBase:d.esDocsBase})),Object(Y.jsx)(Sa,{id:Ca.review.id,label:Ca.review.label},Object(Y.jsx)(ka,{getComponentTemplateData:g(e)})))},wa=({history:e,sourceComponentTemplate:t})=>{const[a,i]=Object(q.useState)(!1),[n,s]=Object(q.useState)(null),{api:r,breadcrumbs:o}=Qt();return Object(q.useEffect)((()=>{o.setCreateBreadcrumbs()}),[o]),Object(Y.jsx)(W.EuiPageContentBody,{restrictWidth:!0,style:{width:"100%"}},Object(Y.jsx)(W.EuiPageHeader,{pageTitle:Object(Y.jsx)("span",{"data-test-subj":"pageTitle"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.createComponentTemplate.pageTitle",defaultMessage:"Create component template"})),bottomBorder:!0}),Object(Y.jsx)(W.EuiSpacer,{size:"l"}),Object(Y.jsx)(La,{defaultValue:t,onSave:async t=>{const{name:a}=t;i(!0),s(null);const{error:n}=await r.createComponentTemplate(t);i(!1),n?s(n):e.push({pathname:encodeURI(`/component_templates/${encodeURIComponent(a)}`)})},isSaving:a,saveError:n,clearSaveError:()=>{s(null)}}))},Ia=({match:{params:{name:e}},history:t})=>{const{api:a,breadcrumbs:i}=Qt(),[n,s]=Object(q.useState)(!1),[r,o]=Object(q.useState)(null),l=Object(me.attemptToURIDecode)(e),{error:c,data:d,isLoading:u}=a.useLoadComponentTemplate(l);Object(q.useEffect)((()=>{i.setEditBreadcrumbs()}),[i]);return u?Object(Y.jsx)(me.PageLoading,null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateEdit.loadingDescription",defaultMessage:"Loading component template"})):c?Object(Y.jsx)(me.PageError,{title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateEdit.loadComponentTemplateError",defaultMessage:"Error loading component template"}),error:c,"data-test-subj":"loadComponentTemplateError"}):Object(Y.jsx)(W.EuiPageContentBody,{restrictWidth:!0,style:{width:"100%"}},Object(Y.jsx)(W.EuiPageHeader,{pageTitle:Object(Y.jsx)("span",{"data-test-subj":"pageTitle"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateEdit.editPageTitle",defaultMessage:"Edit component template '{name}'",values:{name:l}})),bottomBorder:!0}),Object(Y.jsx)(W.EuiSpacer,{size:"l"}),Object(Y.jsx)(La,{defaultValue:d,onSave:async e=>{s(!0),o(null);const{error:i}=await a.updateComponentTemplate(e);s(!1),i?o(i):t.push({pathname:encodeURI(`/component_templates/${encodeURIComponent(e.name)}`)})},isSaving:n,saveError:r,clearSaveError:()=>{o(null)},isEditing:!0}))},Da=e=>{const{sourceComponentTemplateName:t}=e.match.params,a=Object(me.attemptToURIDecode)(t),{toasts:n,api:s}=Qt(),{error:r,data:o,isLoading:l}=s.useLoadComponentTemplate(a);if(Object(q.useEffect)((()=>{r&&!l&&n.addError({...r,name:""},{title:i.i18n.translate("xpack.idxMgmt.componentTemplateClone.loadComponentTemplateTitle",{defaultMessage:"Error loading component template '{sourceComponentTemplateName}'.",values:{sourceComponentTemplateName:t}})})}),[r,l]),l)return Object(Y.jsx)(me.PageLoading,null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateEdit.loadingDescription",defaultMessage:"Loading component template"}));{const t=o?{...o,name:`${o.name}-copy`}:void 0;return Object(Y.jsx)(wa,lt()({},e,{sourceComponentTemplate:t}))}};var Pa=a(37),Na=a.n(Pa);const Aa=({anchorPosition:e="upCenter"})=>{const[t,a]=Object(q.useState)(!1);return Object(Y.jsx)(W.EuiPopover,{id:"createComponentTemplatePanel",button:Object(Y.jsx)(W.EuiButton,{fill:!0,"data-test-subj":"manageTemplateButton",iconType:"arrowDown",iconSide:"right",onClick:()=>a((e=>!e))},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesFlyout.manageButtonLabel",defaultMessage:"Create"})),isOpen:t,closePopover:()=>a(!1),panelPaddingSize:"none",anchorPosition:e,repositionOnScroll:!0},Object(Y.jsx)(W.EuiContextMenu,{initialPanelId:0,panels:[{id:0,title:i.i18n.translate("xpack.idxMgmt.componentTemplatesFlyout.createContextMenuPanelTitle",{defaultMessage:"New component template"}),items:[{name:i.i18n.translate("xpack.idxMgmt.componentTemplatesFlyout.createComponentTemplateFromScratchButtonLabel",{defaultMessage:"From scratch"}),icon:"plusInCircle",onClick:()=>{}},{name:i.i18n.translate("xpack.idxMgmt.componentTemplatesFlyout.createComponentTemplateFromExistingButtonLabel",{defaultMessage:"From existing index template"}),icon:"symlink",onClick:()=>{}}]}]}))};function Ra({onChange:e,filters:t}){const[a,i]=Object(q.useState)(!1),n=Object.values(t).filter((e=>"on"===e.checked)),s=Object(Y.jsx)(W.EuiFilterButton,{iconType:"arrowDown",onClick:()=>{i(!a)},isSelected:a,numFilters:Object.keys(t).length,hasActiveFilters:n.length>0,numActiveFilters:n.length,"data-test-subj":"filterButton"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.indexTemplatesList.filterButtonLabel",defaultMessage:"Filter"}));return Object(Y.jsx)(W.EuiFilterGroup,{className:"componentTemplates__filterListButton"},Object(Y.jsx)(W.EuiPopover,{ownFocus:!0,button:s,isOpen:a,closePopover:()=>{i(!1)},panelPaddingSize:"none","data-test-subj":"filterList"},Object(Y.jsx)("div",{className:"euiFilterSelect__items"},Object.entries(t).map((([a,i],n)=>Object(Y.jsx)(W.EuiFilterSelectItem,{checked:i.checked,key:n,onClick:()=>(a=>{const i="on"===t[a].checked?"off":"on";e({...t,[a]:{...t[a],checked:i}})})(a),"data-test-subj":"filterItem"},i.name))))))}a(104);const za=({component:e,onViewDetail:t,actions:a,isSelected:i=!1,dragHandleProps:n})=>{const s=a&&a.length>0,r="function"==typeof i?i(e):i,o=Boolean(n);return Object(Y.jsx)("div",{className:Na()("componentTemplatesListItem",{"componentTemplatesListItem--selected":r}),"data-test-subj":"item"},Object(Y.jsx)(W.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiFlexGroup,{alignItems:"center"},o&&Object(Y.jsx)(W.EuiFlexItem,null,Object(Y.jsx)("div",n,Object(Y.jsx)(W.EuiIcon,{type:"grab"}))),Object(Y.jsx)(W.EuiFlexItem,{grow:!1,"data-test-subj":"name"},Object(Y.jsx)(W.EuiLink,{onClick:()=>t(e)},e.name)),Object(Y.jsx)(W.EuiFlexItem,{grow:!1,className:"componentTemplatesListItem__contentIndicator"},Object(Y.jsx)(Et,{settings:e.hasSettings,mappings:e.hasMappings,aliases:e.hasAliases})))),s&&!r&&Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiFlexGroup,{gutterSize:"xs"},a.map(((t,a)=>Object(Y.jsx)(W.EuiFlexItem,{key:a},Object(Y.jsx)(W.EuiToolTip,{content:t.label},Object(Y.jsx)(W.EuiButtonIcon,{iconType:t.icon,onClick:()=>t.handler(e),"data-test-subj":`action-${t.icon}`,"aria-label":t.label})))))))),r&&Object(Y.jsx)(W.EuiIcon,{className:"componentTemplatesListItem__checkIcon",type:"check",color:"secondary"}))},Ba=({components:e,listItemProps:t})=>Object(Y.jsx)("div",{"data-test-subj":"componentTemplatesList"},e.map((e=>Object(Y.jsx)(za,lt()({key:e.name,component:e},t)))));a(113);function Va(e){return e.replace(/[-\[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const Ua={filters:{settings:i.i18n.translate("xpack.idxMgmt.componentTemplatesSelector.filters.indexSettingsLabel",{defaultMessage:"Index settings"}),mappings:i.i18n.translate("xpack.idxMgmt.componentTemplatesSelector.filters.mappingsLabel",{defaultMessage:"Mappings"}),aliases:i.i18n.translate("xpack.idxMgmt.componentTemplatesSelector.filters.aliasesLabel",{defaultMessage:"Aliases"})},searchBoxPlaceholder:i.i18n.translate("xpack.idxMgmt.componentTemplatesSelector.searchBox.placeholder",{defaultMessage:"Search component templates"})},qa=()=>({settings:{name:Ua.filters.settings,checked:"off"},mappings:{name:Ua.filters.mappings,checked:"off"},aliases:{name:Ua.filters.aliases,checked:"off"}}),$a=({isLoading:e,components:t,listItemProps:a})=>{const[i,n]=Object(q.useState)(""),[s,r]=Object(q.useState)(qa),o=Object(q.useMemo)((()=>e?[]:t.filter((e=>{if("on"===s.settings.checked&&!e.hasSettings)return!1;if("on"===s.mappings.checked&&!e.hasMappings)return!1;if("on"===s.aliases.checked&&!e.hasAliases)return!1;if(""===i.trim())return!0;return function(e,t){const a=`.*${e.split("").map(Va).join(".*")}.*`;return new RegExp(a).test(t)}(i,e.name)})).sort(((e,t)=>e.name<t.name?-1:e.name>t.name?1:0))),[e,t,i,s]),l=0===o.length&&t.length>0;if(e)return null;const c=()=>{n(""),r(qa())};return Object(Y.jsx)("div",{className:"componentTemplates","data-test-subj":"componentTemplates"},Object(Y.jsx)("div",{className:"componentTemplates__header"},Object(Y.jsx)(W.EuiFlexGroup,{gutterSize:"none"},Object(Y.jsx)(W.EuiFlexItem,null,Object(Y.jsx)(W.EuiFieldSearch,{placeholder:Ua.searchBoxPlaceholder,value:i,onChange:e=>{n(e.target.value)},"aria-label":Ua.searchBoxPlaceholder,className:"componentTemplates__searchBox","data-test-subj":"componentTemplateSearchBox"})),Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(Ra,{filters:s,onChange:r})))),Object(Y.jsx)("div",{className:Na()("eui-yScrollWithShadows componentTemplates__listWrapper",{"componentTemplates__listWrapper--is-empty":l})},l?Object(Y.jsx)(W.EuiEmptyPrompt,{iconType:"search",title:Object(Y.jsx)("h3",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.searchResult.emptyPromptTitle",defaultMessage:"No components match your search"})),actions:Object(Y.jsx)(W.EuiButton,{onClick:c},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.searchResult.emptyPrompt.clearSearchButtonLabel",defaultMessage:"Clear search"})),"data-test-subj":"emptySearchResult"}):Object(Y.jsx)(Ba,{components:o,listItemProps:a})))},Wa=({components:e,onReorder:t,listItemProps:a})=>Object(Y.jsx)(W.EuiDragDropContext,{onDragEnd:({source:a,destination:i})=>{if(a&&i){const n=Object(W.euiDragDropReorder)(e,a.index,i.index);t(n)}}},Object(Y.jsx)(W.EuiDroppable,{droppableId:"componentTemplates",spacing:"none"},e.map(((e,t)=>Object(Y.jsx)(W.EuiDraggable,{spacing:"none",key:e.name,index:t,draggableId:e.name,customDragHandle:!0},(t=>Object(Y.jsx)(za,lt()({component:e,dragHandleProps:t.dragHandleProps},a))))))));a(122);const{useGlobalFlyout:Ha}=me.GlobalFlyout,Ga={icons:{view:i.i18n.translate("xpack.idxMgmt.componentTemplatesSelector.viewItemIconLabel",{defaultMessage:"View"}),select:i.i18n.translate("xpack.idxMgmt.componentTemplatesSelector.selectItemIconLabel",{defaultMessage:"Select"}),remove:i.i18n.translate("xpack.idxMgmt.componentTemplatesSelector.removeItemIconLabel",{defaultMessage:"Remove"})}},Ja=({onChange:e,defaultValue:t,onComponentsLoaded:a,docUri:i,emptyPrompt:{text:n,showCreateButton:s}={}})=>{const{data:r,isLoading:o,error:l}=Qt().api.useLoadComponentTemplates(),{addContent:c,removeContent:d}=Ha(),[u,p]=Object(q.useState)(null),[m,g]=Object(q.useState)([]),f=Object(q.useRef)(!1),x=Object.keys(m).length>0,b=!!(r&&r.length>0),h=()=>{p(null)};Object(q.useEffect)((()=>{if(r)if(t&&t.length>0&&0===m.length&&!1===f.current){const a=t.map((e=>r.find((t=>t.name===e)))).filter(Boolean);g(a),e(a.map((({name:e})=>e))),f.current=!0}else e(m.map((({name:e})=>e)))}),[t,r,m,e]),Object(q.useEffect)((()=>{o||l||a(null!=r?r:[])}),[o,l,r,a]),Object(q.useEffect)((()=>{u&&c({id:"componentTemplateDetails",Component:oa,props:{onClose:h,componentTemplateName:u},flyoutProps:{...ra,onClose:h},cleanUpFunc:()=>{p(null)}})}),[u,c]),Object(q.useEffect)((()=>{u||d("componentTemplateDetails")}),[u,d]);const j=e=>{g(e)};if(o)return Object(Y.jsx)(me.SectionLoading,null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.loadingComponentsDescription",defaultMessage:"Loading component templates"}));if(l)return Object(Y.jsx)(me.SectionError,{title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.loadingComponentsErrorMessage",defaultMessage:"Error loading components"}),error:l});if(b)return Object(Y.jsx)(W.EuiFlexGroup,{className:"componentTemplatesSelector"},Object(Y.jsx)(W.EuiFlexItem,{className:Na()("componentTemplatesSelector__selection",{"componentTemplatesSelector__selection--is-empty":!x}),"data-test-subj":"componentTemplatesSelection"},x?Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)("div",{className:"componentTemplatesSelector__selection__header"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.selectionHeader.componentsSelectedLabel",defaultMessage:"Components selected: {count}",values:{count:Object(Y.jsx)("span",{className:"componentTemplatesSelector__selection__header__count"},m.length)}})),Object(Y.jsx)("div",{className:"eui-yScrollWithShadows componentTemplatesSelector__selection__content"},Object(Y.jsx)(Wa,{components:m,onReorder:j,listItemProps:{onViewDetail:e=>{p(e.name)},actions:[{label:Ga.icons.remove,icon:"minusInCircle",handler:e=>{g((t=>t.filter((({name:t})=>e.name!==t))))}}]}}))):Object(Y.jsx)(W.EuiText,{textAlign:"center","data-test-subj":"emptyPrompt"},Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.noComponentSelectedLabel-1",defaultMessage:"Add component template building blocks to this template."}),Object(Y.jsx)("br",null),Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.noComponentSelectedLabel-2",defaultMessage:"Component templates are applied in the order specified."})))),Object(Y.jsx)(W.EuiFlexItem,null,Object(Y.jsx)($a,{isLoading:o,components:null!=r?r:[],listItemProps:{onViewDetail:e=>{p(e.name)},actions:[{label:Ga.icons.select,icon:"plusInCircle",handler:e=>{g((t=>[...t,e]))}}],isSelected:e=>void 0!==m.find((({name:t})=>e.name===t))}})));const M=Object(Y.jsx)(W.EuiText,{color:"subdued"},Object(Y.jsx)("p",null,null!=n?n:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.emptyPromptDescription",defaultMessage:"Components templates let you save index settings, mappings and aliases and inherit from them in index templates."}),Object(Y.jsx)("br",null),Object(Y.jsx)(W.EuiLink,{href:i,target:"_blank",external:!0},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.emptyPromptLearnMoreLinkText",defaultMessage:"Learn more."}))));return Object(Y.jsx)(W.EuiEmptyPrompt,{iconType:"managementApp",title:Object(Y.jsx)("h2",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.emptyPromptTitle",defaultMessage:"You dont have any components yet"})),body:M,actions:s?Object(Y.jsx)(Aa,{anchorPosition:"downCenter"}):void 0,"data-test-subj":"emptyPrompt"})},Ya={title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepComponents.stepTitle",defaultMessage:"Component templates (optional)"}),description:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepComponents.componentsDescription",defaultMessage:"Component templates let you save index settings, mappings and aliases and inherit from them in index templates."})},Ka=({defaultValue:e,onChange:t,esDocsBase:a})=>{const[i,n]=Object(q.useState)({isLoadingComponents:!0,components:[]}),s=Object(q.useCallback)((e=>{n({isLoadingComponents:!1,components:e})}),[]),r=Object(q.useCallback)((e=>{t({isValid:!0,validate:async()=>!0,getData:()=>e.length>0?e:void 0})}),[t]),o=!0===i.isLoadingComponents||i.components.length>0,l=`${a}/indices-component-template.html`;return Object(Y.jsx)("div",{"data-test-subj":"stepComponents"},o?Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiTitle,null,Object(Y.jsx)("h2",{"data-test-subj":"stepTitle"},Ya.title)),Object(Y.jsx)(W.EuiSpacer,{size:"s"}),Object(Y.jsx)(W.EuiText,null,Object(Y.jsx)("p",null,Ya.description))),Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiButtonEmpty,{size:"s",flush:"right",href:l,target:"_blank",iconType:"help"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepComponents.docsButtonLabel",defaultMessage:"Component templates docs"})))),Object(Y.jsx)(W.EuiSpacer,{size:"l"})):null,Object(Y.jsx)(Ja,{defaultValue:e,onChange:r,onComponentsLoaded:s,docUri:l,emptyPrompt:{text:Ya.description,showCreateButton:!1}}))},Xa=()=>{const{defaultValue:e,updateContent:t}=me.Forms.useContent("components");return Object(Y.jsx)(Ka,{defaultValue:e,onChange:t,esDocsBase:Ce.getEsDocsBase()})},{stripEmptyFields:Za}=pe.serializers,Qa=()=>Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.noneDescriptionText",defaultMessage:"None"}),ei=e=>e&&Object.entries(e).length>0?Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.yesDescriptionText",defaultMessage:"Yes"}):Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.noDescriptionText",defaultMessage:"No"}),ti=({template:e})=>Object(Y.jsx)("div",{"data-test-subj":"previewTab"},Object(Y.jsx)(W.EuiSpacer,{size:"m"}),Object(Y.jsx)(W.EuiText,null,Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.previewTab.descriptionText",defaultMessage:"This is the final template that will be applied to matching indices. Component templates are applied in the order specified. Explicit mappings, settings, and aliases override the component templates."}))),Object(Y.jsx)(W.EuiSpacer,{size:"m"}),Object(Y.jsx)(Ft,{template:e})),ai=$.a.memo((({template:e,navigateToStep:t})=>{const{name:a,indexPatterns:n,version:s,order:r,priority:o,composedOf:l,_meta:c,_kbnMeta:{isLegacy:d}}=e,u=d?function(e){const{version:t,order:a,indexPatterns:i,template:{settings:n,aliases:s,mappings:r}={}}=e;return{version:t,order:a,index_patterns:i,settings:n,aliases:s,mappings:r}}(Za(e,{types:["string"]})):Xe(Za(e,{types:["string"]})),p=Ze(u,"mappings"),m=Ze(u,"settings"),g=Ze(u,"aliases"),f=n.length,x=Boolean(n.find((e=>"*"===e))),b=[{id:"summary",name:i.i18n.translate("xpack.idxMgmt.templateForm.stepReview.summaryTabTitle",{defaultMessage:"Summary"}),content:Object(Y.jsx)((()=>Object(Y.jsx)("div",{"data-test-subj":"summaryTab"},Object(Y.jsx)(W.EuiSpacer,{size:"m"}),Object(Y.jsx)(W.EuiFlexGroup,null,Object(Y.jsx)(W.EuiFlexItem,null,Object(Y.jsx)(W.EuiDescriptionList,{textStyle:"reverse"},Object(Y.jsx)(W.EuiDescriptionListTitle,null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.indexPatternsLabel",defaultMessage:"Index {numIndexPatterns, plural, one {pattern} other {patterns}}",values:{numIndexPatterns:f}})),Object(Y.jsx)(W.EuiDescriptionListDescription,null,f>1?Object(Y.jsx)(W.EuiText,null,Object(Y.jsx)("ul",null,n.map(((e,t)=>Object(Y.jsx)("li",{key:`${e}-${t}`},Object(Y.jsx)(W.EuiTitle,{size:"xs"},Object(Y.jsx)("span",null,e))))))):n.toString()),d?Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiDescriptionListTitle,null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.orderLabel",defaultMessage:"Order"})),Object(Y.jsx)(W.EuiDescriptionListDescription,null,r||Object(Y.jsx)(Qa,null))):Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiDescriptionListTitle,null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.priorityLabel",defaultMessage:"Priority"})),Object(Y.jsx)(W.EuiDescriptionListDescription,null,o||Object(Y.jsx)(Qa,null))),Object(Y.jsx)(W.EuiDescriptionListTitle,null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.versionLabel",defaultMessage:"Version"})),Object(Y.jsx)(W.EuiDescriptionListDescription,null,s||Object(Y.jsx)(Qa,null)),!0!==d&&Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiDescriptionListTitle,null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.componentsLabel",defaultMessage:"Component templates"})),Object(Y.jsx)(W.EuiDescriptionListDescription,null,l&&l.length>0?l.length>1?Object(Y.jsx)(W.EuiText,null,Object(Y.jsx)("ul",null,l.map(((e,t)=>Object(Y.jsx)("li",{key:`${e}-${t}`},Object(Y.jsx)(W.EuiTitle,{size:"xs"},Object(Y.jsx)("span",null,e))))))):l.toString():Object(Y.jsx)(Qa,null))))),Object(Y.jsx)(W.EuiFlexItem,null,Object(Y.jsx)(W.EuiDescriptionList,{textStyle:"reverse"},Object(Y.jsx)(W.EuiDescriptionListTitle,null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.settingsLabel",defaultMessage:"Index settings"})),Object(Y.jsx)(W.EuiDescriptionListDescription,null,ei(m)),Object(Y.jsx)(W.EuiDescriptionListTitle,null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.mappingLabel",defaultMessage:"Mappings"})),Object(Y.jsx)(W.EuiDescriptionListDescription,null,ei(p)),Object(Y.jsx)(W.EuiDescriptionListTitle,null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.aliasesLabel",defaultMessage:"Aliases"})),Object(Y.jsx)(W.EuiDescriptionListDescription,null,ei(g)),!0!==d&&c&&Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiDescriptionListTitle,{"data-test-subj":"metaTitle"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.metaLabel",defaultMessage:"Metadata"})),Object(Y.jsx)(W.EuiDescriptionListDescription,null,Object(Y.jsx)(W.EuiCodeBlock,{lang:"json"},JSON.stringify(c,null,2))))))))),null)},{id:"request",name:i.i18n.translate("xpack.idxMgmt.templateForm.stepReview.requestTabTitle",{defaultMessage:"Request"}),content:Object(Y.jsx)((()=>{var t;const i=Ml(null===(t=e.template)||void 0===t?void 0:t.mappings),n=`${`PUT ${d?"_template":"_index_template"}/${a||"<templateName>"}${i?"?include_type_name":""}`}\n${JSON.stringify(u,null,2)}`,s=n.length<6e4?"json":void 0;return Object(Y.jsx)("div",{"data-test-subj":"requestTab"},Object(Y.jsx)(W.EuiSpacer,{size:"m"}),Object(Y.jsx)(W.EuiText,null,Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.requestTab.descriptionText",defaultMessage:"This request will create the following index template."}))),Object(Y.jsx)(W.EuiSpacer,{size:"m"}),Object(Y.jsx)(W.EuiCodeBlock,{language:s,isCopyable:!0},n))}),null)}];return d||b.splice(1,0,{id:"preview",name:i.i18n.translate("xpack.idxMgmt.templateForm.stepReview.previewTabTitle",{defaultMessage:"Preview"}),content:Object(Y.jsx)(ti,{template:e})}),Object(Y.jsx)("div",{"data-test-subj":"stepSummary"},Object(Y.jsx)(W.EuiTitle,null,Object(Y.jsx)("h2",{"data-test-subj":"stepTitle"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.stepTitle",defaultMessage:"Review details for '{templateName}'",values:{templateName:a}}))),Object(Y.jsx)(W.EuiSpacer,{size:"l"}),x?Object(Y.jsx)(q.Fragment,null,Object(Y.jsx)(W.EuiCallOut,{title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.indexPatternsWarningTitle",defaultMessage:"This template uses a wildcard (*) as an index pattern."}),color:"warning",iconType:"help","data-test-subj":"indexPatternsWarning"},Object(Y.jsx)("p",{"data-test-subj":"indexPatternsWarningDescription"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.indexPatternsWarningDescription",defaultMessage:"All new indices that you create will use this template."})," ",Object(Y.jsx)(W.EuiLink,{onClick:t.bind(null,"logistics")},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.indexPatternsWarningLinkText",defaultMessage:"Edit index patterns."})))),Object(Y.jsx)(W.EuiSpacer,{size:"m"})):null,Object(Y.jsx)(W.EuiTabbedContent,{"data-test-subj":"summaryTabContent",tabs:b}))})),ii=$.a.memo((({getTemplateData:e})=>{const{navigateToStep:t}=me.Forms.useFormWizardContext(),{getData:a}=me.Forms.useMultiContentContext(),i=e(a());return Object(Y.jsx)(ai,{template:i,navigateToStep:t})})),{stripEmptyFields:ni}=pe.serializers,{FormWizard:si,FormWizardStep:ri}=me.Forms,{useGlobalFlyout:oi}=me.GlobalFlyout,li={logistics:{id:"logistics",label:i.i18n.translate("xpack.idxMgmt.templateForm.steps.logisticsStepName",{defaultMessage:"Logistics"})},components:{id:"components",label:i.i18n.translate("xpack.idxMgmt.templateForm.steps.componentsStepName",{defaultMessage:"Component templates"})},settings:{id:"settings",label:i.i18n.translate("xpack.idxMgmt.templateForm.steps.settingsStepName",{defaultMessage:"Index settings"})},mappings:{id:"mappings",label:i.i18n.translate("xpack.idxMgmt.templateForm.steps.mappingsStepName",{defaultMessage:"Mappings"})},aliases:{id:"aliases",label:i.i18n.translate("xpack.idxMgmt.templateForm.steps.aliasesStepName",{defaultMessage:"Aliases"})},review:{id:"review",label:i.i18n.translate("xpack.idxMgmt.templateForm.steps.summaryStepName",{defaultMessage:"Review template"})}},ci=({title:e,defaultValue:t,isEditing:a,isSaving:i,isLegacy:n=!1,saveError:s,clearSaveError:r,onSave:o,history:l})=>{const[c,d]=Object(q.useState)(null),{addContent:u,closeFlyout:p}=oi(),m=Object(q.useRef)({mappings:!0,settings:!0,aliases:!0}),g=null!=t?t:{name:"",indexPatterns:[],template:{},_kbnMeta:{type:"default",hasDatastream:!1,isLegacy:n}},{template:{settings:f,mappings:x,aliases:b}={},composedOf:h,_kbnMeta:j,...M}=g,y={logistics:M,settings:f,mappings:x,aliases:b,components:g.composedOf},O={save:a?Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateForm.saveButtonLabel",defaultMessage:"Save template"}):Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateForm.createButtonLabel",defaultMessage:"Create template"})},v=s?Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(dt,{title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateForm.saveTemplateError",defaultMessage:"Unable to create template"}),error:s,"data-test-subj":"saveTemplateError"}),Object(Y.jsx)(W.EuiSpacer,{size:"m"})):null,T=Object(q.useCallback)((e=>t=>(e=>{const t={...e};return t.template&&(void 0===t.template.settings&&delete t.template.settings,void 0===t.template.mappings&&delete t.template.mappings,void 0===t.template.aliases&&delete t.template.aliases,0===Object.keys(t.template).length&&delete t.template),t})({...t.logistics,_kbnMeta:e._kbnMeta,composedOf:t.components,template:{settings:t.settings,mappings:t.mappings,aliases:t.aliases}})),[]),E=Object(q.useCallback)((e=>{d(e)}),[]),k=Object(q.useCallback)((async e=>{const t=T(g)(e);o(ni(t,{types:["string"]})),r()}),[g,T,o,r]),F=Object(q.useCallback)((async()=>{if(!c)return;if(!await c.validate())return;const e=c.getData();return T(g)(e)}),[T,g,c]),_=Object(q.useCallback)((e=>{m.current=e}),[]),S=()=>{u({id:"simulateTemplate",Component:Lt,props:{getTemplate:F,onClose:p,filters:m.current,onFiltersChange:_},flyoutProps:St})},C=!0===g._kbnMeta.isLegacy;return Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiPageHeader,{pageTitle:Object(Y.jsx)("span",{"data-test-subj":"pageTitle"},e),bottomBorder:!0}),Object(Y.jsx)(W.EuiSpacer,{size:"m"}),C&&Object(Y.jsx)(wt,{history:l,showCta:!0}),Object(Y.jsx)(W.EuiSpacer,{size:"s"}),Object(Y.jsx)(si,{defaultValue:y,onSave:k,isEditing:a,isSaving:i,apiError:v,texts:O,onChange:E,rightContentNav:e=>n||"logistics"===e||"review"===e?null:Object(Y.jsx)(W.EuiButton,{size:"s",onClick:S},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateForm.previewIndexTemplateButtonLabel",defaultMessage:"Preview index template"}))},Object(Y.jsx)(ri,{id:li.logistics.id,label:li.logistics.label,isRequired:!0},Object(Y.jsx)(Yt,{isEditing:a,isLegacy:g._kbnMeta.isLegacy})),!C&&Object(Y.jsx)(ri,{id:li.components.id,label:li.components.label},Object(Y.jsx)(Xa,null)),Object(Y.jsx)(ri,{id:li.settings.id,label:li.settings.label},Object(Y.jsx)(vt,{esDocsBase:Ce.getEsDocsBase()})),Object(Y.jsx)(ri,{id:li.mappings.id,label:li.mappings.label},Object(Y.jsx)(yt,{esDocsBase:Ce.getEsDocsBase()})),Object(Y.jsx)(ri,{id:li.aliases.id,label:li.aliases.label},Object(Y.jsx)(jt,{esDocsBase:Ce.getEsDocsBase()})),Object(Y.jsx)(ri,{id:li.review.id,label:li.review.label},Object(Y.jsx)(ii,{getTemplateData:T(g)}))))},di=e=>{switch(e){case"green":return"success";case"yellow":return"warning";case"red":return"danger"}},ui=({health:e})=>Object(Y.jsx)(W.EuiHealth,{color:di(e)},e),pi=({dataStreams:e,onClose:t})=>{const a=e.length;return Object(Y.jsx)(W.EuiConfirmModal,{buttonColor:"danger","data-test-subj":"deleteDataStreamsConfirmation",title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.deleteDataStreamsConfirmationModal.modalTitleText",defaultMessage:"Delete {dataStreamsCount, plural, one {data stream} other {# data streams}}",values:{dataStreamsCount:a}}),onCancel:()=>t(),onConfirm:()=>{(async function(e){return Fc({path:`${n}/delete_data_streams`,method:"post",body:{dataStreams:e}})})(e).then((({data:{dataStreamsDeleted:a,errors:n},error:s})=>{const r=a&&a.length;if(r){const n=1===a.length?i.i18n.translate("xpack.idxMgmt.deleteDataStreamsConfirmationModal.successDeleteSingleNotificationMessageText",{defaultMessage:"Deleted data stream '{dataStreamName}'",values:{dataStreamName:e[0]}}):i.i18n.translate("xpack.idxMgmt.deleteDataStreamsConfirmationModal.successDeleteMultipleNotificationMessageText",{defaultMessage:"Deleted {numSuccesses, plural, one {# data stream} other {# data streams}}",values:{numSuccesses:a.length}});t({hasDeletedDataStreams:r}),pt.showSuccessToast(n)}if(s||n&&n.length){const t=n&&n.length>1||s&&e.length>1?i.i18n.translate("xpack.idxMgmt.deleteDataStreamsConfirmationModal.multipleErrorsNotificationMessageText",{defaultMessage:"Error deleting {count} data streams",values:{count:n&&n.length||e.length}}):i.i18n.translate("xpack.idxMgmt.deleteDataStreamsConfirmationModal.errorNotificationMessageText",{defaultMessage:"Error deleting data stream '{name}'",values:{name:n&&n[0].name||e[0]}});pt.showDangerToast(t)}}))},cancelButtonText:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.deleteDataStreamsConfirmationModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.deleteDataStreamsConfirmationModal.confirmButtonLabel",defaultMessage:"Delete {dataStreamsCount, plural, one {data stream} other {data streams} }",values:{dataStreamsCount:a}})},Object(Y.jsx)(q.Fragment,null,Object(Y.jsx)(W.EuiCallOut,{title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.deleteDataStreamsConfirmationModal.warningTitle",defaultMessage:"Deleting data streams also deletes indices"}),color:"danger",iconType:"alert"},Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.deleteDataStreamsConfirmationModal.warningMessage",defaultMessage:"Data streams are collections of time series indices. Deleting a data stream will also delete its indices."}))),Object(Y.jsx)(W.EuiSpacer,null),Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.deleteDataStreamsConfirmationModal.deleteDescription",defaultMessage:"You are about to delete {dataStreamsCount, plural, one {this data stream} other {these data streams} }:",values:{dataStreamsCount:a}})),Object(Y.jsx)("ul",null,e.map((e=>Object(Y.jsx)("li",{key:e},e))))))};var mi=a(43),gi=a.n(mi);const fi=e=>gi()(e).format("MMMM Do, YYYY h:mm:ss A"),xi=e=>{var t,a;return Boolean((null===(t=e._meta)||void 0===t?void 0:t.managed)&&"ingest-manager"===(null===(a=e._meta)||void 0===a?void 0:a.managed_by))},bi=({dataStream:e})=>{const t=[];return xi(e)&&t.push(Object(Y.jsx)(W.EuiBadge,{color:"hollow",key:"managed"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.table.managedDataStreamBadge",defaultMessage:"Fleet-managed"}))),e.hidden&&t.push(Object(Y.jsx)(W.EuiBadge,{color:"hollow",key:"hidden"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.table.hiddenDataStreamBadge",defaultMessage:"Hidden"}))),t.length>0?Object(Y.jsx)($.a.Fragment,null,"",Object(Y.jsx)(W.EuiBadgeGroup,null,t)):null},hi=({dataStreams:e,reload:t,history:a,filters:n,includeStats:s})=>{const[r,o]=Object(q.useState)([]),[l,c]=Object(q.useState)([]),d=[];d.push({field:"name",name:i.i18n.translate("xpack.idxMgmt.dataStreamList.table.nameColumnTitle",{defaultMessage:"Name"}),truncateText:!0,sortable:!0,render:(e,t)=>Object(Y.jsx)(q.Fragment,null,Object(Y.jsx)(W.EuiLink,lt()({"data-test-subj":"nameLink"},Object(fe.reactRouterNavigate)(a,Object(ct.a)(e))),e),Object(Y.jsx)(bi,{dataStream:t}))}),d.push({field:"health",name:i.i18n.translate("xpack.idxMgmt.dataStreamList.table.healthColumnTitle",{defaultMessage:"Health"}),truncateText:!0,sortable:!0,render:e=>Object(Y.jsx)(ui,{health:e}),width:"100px"}),s&&(d.push({field:"maxTimeStamp",name:i.i18n.translate("xpack.idxMgmt.dataStreamList.table.maxTimeStampColumnTitle",{defaultMessage:"Last updated"}),width:"300px",truncateText:!0,sortable:!0,render:e=>e?fi(e):i.i18n.translate("xpack.idxMgmt.dataStreamList.table.maxTimeStampColumnNoneMessage",{defaultMessage:"Never"})}),d.push({field:"storageSizeBytes",name:i.i18n.translate("xpack.idxMgmt.dataStreamList.table.storageSizeColumnTitle",{defaultMessage:"Storage size"}),truncateText:!0,sortable:!0,render:(e,t)=>t.storageSize})),d.push({field:"indices",name:i.i18n.translate("xpack.idxMgmt.dataStreamList.table.indicesColumnTitle",{defaultMessage:"Indices"}),truncateText:!0,sortable:!0,render:(e,t)=>Object(Y.jsx)(W.EuiLink,lt()({"data-test-subj":"indicesLink"},Object(fe.reactRouterNavigate)(a,Object(ct.b)(`data_stream="${t.name}"`,!0))),e.length)}),d.push({name:i.i18n.translate("xpack.idxMgmt.dataStreamList.table.actionColumnTitle",{defaultMessage:"Actions"}),actions:[{name:i.i18n.translate("xpack.idxMgmt.dataStreamList.table.actionDeleteText",{defaultMessage:"Delete"}),description:i.i18n.translate("xpack.idxMgmt.dataStreamList.table.actionDeleteDescription",{defaultMessage:"Delete this data stream"}),icon:"trash",color:"danger",type:"icon",onClick:({name:e})=>{c([e])},isPrimary:!0,"data-test-subj":"deleteDataStream",available:({privileges:{delete_index:e}})=>e}]});const u={onSelectionChange:o},p={query:n,box:{incremental:!0},toolsLeft:r.length>0&&r.every((e=>e.privileges.delete_index))?Object(Y.jsx)(W.EuiButton,{"data-test-subj":"deleteDataStreamsButton",onClick:()=>c(r.map((({name:e})=>e))),color:"danger"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.table.deleteDataStreamsButtonLabel",defaultMessage:"Delete {count, plural, one {data stream} other {data streams} }",values:{count:r.length}})):void 0,toolsRight:[Object(Y.jsx)(W.EuiButton,{color:"secondary",iconType:"refresh",onClick:t,"data-test-subj":"reloadButton",key:"reloadButton"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.reloadDataStreamsButtonLabel",defaultMessage:"Reload"}))]};return Object(Y.jsx)($.a.Fragment,null,l&&l.length>0?Object(Y.jsx)(pi,{onClose:e=>{e&&e.hasDeletedDataStreams?t():c([])},dataStreams:l}):null,Object(Y.jsx)(W.EuiInMemoryTable,{items:e||[],itemId:"name",columns:d,search:p,sorting:{sort:{field:"name",direction:"asc"}},isSelectable:!0,selection:u,pagination:{initialPageSize:20,pageSizeOptions:[10,20,50]},rowProps:()=>({"data-test-subj":"row"}),cellProps:()=>({"data-test-subj":"cell"}),"data-test-subj":"dataStreamTable",message:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.table.noDataStreamsMessage",defaultMessage:"No data streams found"}),tableLayout:"auto"}))},ji="TAB_SUMMARY",Mi="TAB_SETTINGS",yi="TAB_MAPPING",Oi="TAB_STATS",vi="TAB_EDIT_SETTINGS",Ti="policy_edit";var Ei=a(44);const ki=(e,t)=>{const a=nt(),i=void 0===t?null:a.url.locators.get("ILM_LOCATOR_ID");return Object(Ei.useLocatorUrl)(i,{page:e,policyName:t},{},[e,t])},Fi=({details:e})=>{const t=[];let a;return e.forEach(((e,i)=>{const{name:n,toolTip:s,content:r}=e;i%2==0&&(a=[],t.push(Object(Y.jsx)(W.EuiFlexGroup,{key:t.length},a))),a.push(Object(Y.jsx)(W.EuiFlexItem,{key:n},Object(Y.jsx)(W.EuiDescriptionListTitle,null,Object(Y.jsx)(W.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},Object(Y.jsx)(W.EuiFlexItem,{grow:!1},n),Object(Y.jsx)(W.EuiFlexItem,{grow:!1},s&&Object(Y.jsx)(W.EuiIconTip,{content:s,position:"top"})))),Object(Y.jsx)(W.EuiDescriptionListDescription,null,r)))})),Object(Y.jsx)(W.EuiDescriptionList,{textStyle:"reverse"},t)},_i=({dataStreamName:e,onClose:t})=>{const{error:a,data:s,isLoading:r}=_c({path:`${n}/data_streams/${encodeURIComponent(e)}`,method:"get"});const[o,l]=Object(q.useState)(!1),c=ki(Ti,null==s?void 0:s.ilmPolicyName),{history:d}=nt();let u;if(r)u=Object(Y.jsx)(me.SectionLoading,null,i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.loadingDataStreamDescription",{defaultMessage:"Loading data stream"}));else if(a)u=Object(Y.jsx)(dt,{title:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.loadingDataStreamErrorMessage",{defaultMessage:"Error loading data stream"}),error:a,"data-test-subj":"sectionError"});else if(s){const{health:t,indices:a,timeStampField:n,generation:r,indexTemplateName:o,ilmPolicyName:l,storageSize:p,maxTimeStamp:m}=s,g=[{name:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.healthTitle",{defaultMessage:"Health"}),toolTip:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.healthToolTip",{defaultMessage:"The health of the data stream's current backing indices"}),content:Object(Y.jsx)(ui,{health:t})},{name:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.maxTimeStampTitle",{defaultMessage:"Last updated"}),toolTip:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.maxTimeStampToolTip",{defaultMessage:"The most recent document to be added to the data stream"}),content:m?fi(m):Object(Y.jsx)("em",null,i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.maxTimeStampNoneMessage",{defaultMessage:"Never"}))},{name:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.storageSizeTitle",{defaultMessage:"Storage size"}),toolTip:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.storageSizeToolTip",{defaultMessage:"Total size of all shards in the data streams backing indices"}),content:p},{name:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.indicesTitle",{defaultMessage:"Indices"}),toolTip:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.indicesToolTip",{defaultMessage:"The data stream's current backing indices"}),content:Object(Y.jsx)(W.EuiLink,Object(fe.reactRouterNavigate)(d,Object(ct.b)(`data_stream="${e}"`,!0)),a.length)},{name:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.timestampFieldTitle",{defaultMessage:"Timestamp field"}),toolTip:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.timestampFieldToolTip",{defaultMessage:"Timestamp field shared by all documents in the data stream"}),content:n.name},{name:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.generationTitle",{defaultMessage:"Generation"}),toolTip:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.generationToolTip",{defaultMessage:"Cumulative count of backing indices created for the data stream"}),content:r},{name:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.indexTemplateTitle",{defaultMessage:"Index template"}),toolTip:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.indexTemplateToolTip",{defaultMessage:"The index template that configured the data stream and configures its backing indices"}),content:Object(Y.jsx)(W.EuiLink,lt()({"data-test-subj":"indexTemplateLink"},Object(fe.reactRouterNavigate)(d,Object(ct.d)(o))),o)},{name:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.ilmPolicyTitle",{defaultMessage:"Index lifecycle policy"}),toolTip:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.ilmPolicyToolTip",{defaultMessage:"The index lifecycle policy that manages the data stream's data"}),content:l&&c?Object(Y.jsx)(W.EuiLink,{"data-test-subj":"ilmPolicyLink",href:c},l):l||Object(Y.jsx)("em",null,i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.ilmPolicyContentNoneMessage",{defaultMessage:"None"}))}];u=Object(Y.jsx)(Fi,{details:g})}return Object(Y.jsx)($.a.Fragment,null,o?Object(Y.jsx)(pi,{onClose:e=>{e&&e.hasDeletedDataStreams?t(!0):l(!1)},dataStreams:[e]}):null,Object(Y.jsx)(W.EuiFlyout,{onClose:t,"data-test-subj":"dataStreamDetailPanel","aria-labelledby":"dataStreamDetailPanelTitle",size:"m",maxWidth:500},Object(Y.jsx)(W.EuiFlyoutHeader,null,Object(Y.jsx)(W.EuiTitle,{size:"m"},Object(Y.jsx)("h2",{id:"dataStreamDetailPanelTitle","data-test-subj":"dataStreamDetailPanelTitle"},e,s&&Object(Y.jsx)(bi,{dataStream:s})))),Object(Y.jsx)(W.EuiFlyoutBody,{"data-test-subj":"content"},u),Object(Y.jsx)(W.EuiFlyoutFooter,null,Object(Y.jsx)(W.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiButtonEmpty,{iconType:"cross",flush:"left",onClick:()=>t(),"data-test-subj":"closeDetailsButton"},i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.closeButtonLabel",{defaultMessage:"Close"}))),r||a||null==s||!s.privileges.delete_index?null:Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiButton,{color:"danger",iconType:"trash",onClick:()=>l(!0),"data-test-subj":"deleteDataStreamButton"},i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.deleteButtonLabel",{defaultMessage:"Delete data stream"})))))))};function Si({onChange:e,filters:t}){const[a,i]=Object(q.useState)(!1),n=Object.values(t).filter((e=>"on"===e.checked)),s=Object(Y.jsx)(W.EuiFilterButton,{iconType:"arrowDown",onClick:()=>{i(!a)},isSelected:a,numFilters:Object.keys(t).length,hasActiveFilters:n.length>0,numActiveFilters:n.length,"data-test-subj":"viewButton"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.indexTemplatesList.viewButtonLabel",defaultMessage:"View"}));return Object(Y.jsx)(W.EuiFilterGroup,null,Object(Y.jsx)(W.EuiPopover,{ownFocus:!0,button:s,isOpen:a,closePopover:()=>{i(!1)},panelPaddingSize:"none","data-test-subj":"filterList"},Object(Y.jsx)("div",{className:"euiFilterSelect__items"},Object.entries(t).map((([a,i],n)=>Object(Y.jsx)(W.EuiFilterSelectItem,{checked:i.checked,key:n,onClick:()=>(a=>{const i=t[a].checked;e({...t,[a]:{...t[a],checked:"on"===i?"off":"on"}})})(a),"data-test-subj":"filterItem"},i.name))))))}const Ci=({match:{params:{dataStreamName:e}},location:{search:t},history:a})=>{const{isDeepLink:s,includeHidden:r}=Object(me.extractQueryParams)(t),o=Object(me.attemptToURIDecode)(e),{core:{getUrlForApp:l},plugins:{isFleetEnabled:c}}=nt(),[d,u]=Object(q.useState)(!1),{error:p,isLoading:m,data:g,resendRequest:f}=function({includeStats:e}){return _c({path:`${n}/data_streams`,method:"get",query:{includeStats:e}})}({includeStats:d}),[x,b]=Object(q.useState)({managed:{name:i.i18n.translate("xpack.idxMgmt.dataStreamList.viewManagedLabel",{defaultMessage:"Fleet-managed data streams"}),checked:"on"},hidden:{name:i.i18n.translate("xpack.idxMgmt.dataStreamList.viewHiddenLabel",{defaultMessage:"Hidden data streams"}),checked:r?"on":"off"}}),h=Object(q.useMemo)((()=>{if(!g)return[];const e=Object.entries(x).filter((([e,t])=>"on"===t.checked)).map((([e])=>e));return((e,t)=>e.filter((e=>!e.hidden&&!xi(e)||!(!e.hidden||!t.includes("hidden"))||xi(e)&&t.includes("managed"))))(g,e)}),[g,x]);let j;return m?j=Object(Y.jsx)(me.PageLoading,null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.loadingDataStreamsDescription",defaultMessage:"Loading data streams"})):p?j=Object(Y.jsx)(me.PageError,{title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.loadingDataStreamsErrorMessage",defaultMessage:"Error loading data streams"}),error:p}):Array.isArray(g)&&0===g.length?j=Object(Y.jsx)(W.EuiEmptyPrompt,{iconType:"managementApp",title:Object(Y.jsx)("h1",{"data-test-subj":"title"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.emptyPrompt.noDataStreamsTitle",defaultMessage:"You don't have any data streams yet"})),body:Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.emptyPrompt.noDataStreamsDescription",defaultMessage:"Data streams store time-series data across multiple indices."})," ",c?Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.emptyPrompt.noDataStreamsCtaIngestManagerMessage",defaultMessage:"Get started with data streams in {link}.",values:{link:Object(Y.jsx)(W.EuiLink,{"data-test-subj":"dataStreamsEmptyPromptTemplateLink",href:l("fleet")},i.i18n.translate("xpack.idxMgmt.dataStreamList.emptyPrompt.noDataStreamsCtaIngestManagerLink",{defaultMessage:"Fleet"}))}}):Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.emptyPrompt.noDataStreamsCtaIndexTemplateMessage",defaultMessage:"Get started with data streams by creating a {link}.",values:{link:Object(Y.jsx)(W.EuiLink,lt()({"data-test-subj":"dataStreamsEmptyPromptTemplateLink"},Object(fe.reactRouterNavigate)(a,{pathname:"/templates"})),i.i18n.translate("xpack.idxMgmt.dataStreamList.emptyPrompt.noDataStreamsCtaIndexTemplateLink",{defaultMessage:"composable index template"}))}})),"data-test-subj":"emptyPrompt"}):(((e,t)=>{var a;return!!t&&!(null===(a=e.find((e=>e.name===t)))||void 0===a||!a.hidden)})(g,o)&&"off"===x.hidden.checked&&b({...x,hidden:{...x.hidden,checked:"on"}}),j=Object(Y.jsx)(W.EuiPageContent,{hasShadow:!1,paddingSize:"none","data-test-subj":"dataStreamList"},Object(Y.jsx)(W.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween"},Object(Y.jsx)(W.EuiFlexItem,null,Object(Y.jsx)(W.EuiText,{color:"subdued"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.dataStreamsDescription",defaultMessage:"Data streams store time-series data across multiple indices. {learnMoreLink}",values:{learnMoreLink:Object(Y.jsx)(W.EuiLink,{href:Ce.getDataStreamsDocumentationLink(),target:"_blank",external:!0},i.i18n.translate("xpack.idxMgmt.dataStreamListDescription.learnMoreLinkText",{defaultMessage:"Learn more."}))}}))),Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiFlexGroup,{gutterSize:"s"},Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiSwitch,{label:i.i18n.translate("xpack.idxMgmt.dataStreamListControls.includeStatsSwitchLabel",{defaultMessage:"Include stats"}),checked:d,onChange:e=>u(e.target.checked),"data-test-subj":"includeStatsSwitch"})),Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiIconTip,{content:i.i18n.translate("xpack.idxMgmt.dataStreamListControls.includeStatsSwitchToolTip",{defaultMessage:"Including stats can increase reload times"}),position:"top"})))),Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(Si,{filters:x,onChange:b}))),Object(Y.jsx)(W.EuiSpacer,{size:"l"}),Object(Y.jsx)(hi,{filters:s&&void 0!==o?`name="${o}"`:"",dataStreams:h,reload:f,history:a,includeStats:d}))),Object(Y.jsx)("div",{className:Qe.APP_WRAPPER_CLASS},j,o&&Object(Y.jsx)(_i,{dataStreamName:o,onClose:e=>{a.push(`/${Ps.DataStreams}`),e&&f()}}))},Li=(e,t,a)=>{const n=[];return a.badges.forEach((({matchIndex:a,label:s,color:r,filterExpression:o})=>{if(a(e)){const e=()=>{t&&o&&t(W.EuiSearchBar.Query.parse(o))},a=i.i18n.translate("xpack.idxMgmt.badgeAriaLabel",{defaultMessage:"{label}. Select to filter on this.",values:{label:s}});n.push(Object(Y.jsx)(q.Fragment,{key:s}," ",Object(Y.jsx)(W.EuiBadge,{color:r,onClick:e,onClickAriaLabel:a},s)))}})),Object(Y.jsx)(q.Fragment,null,n)};var wi=a(36),Ii=a.n(wi);const Di=(e,t=[])=>(t.push(e),e.items&&e.items.forEach((e=>{e.panel&&(Di(e.panel,t),e.panel=e.panel.id)})),t);class index_actions_context_menu_IndexActionsContextMenu extends q.Component{constructor(e){super(e),z()(this,"closeConfirmModal",(()=>{this.setState({renderConfirmModal:null}),this.props.resetSelection&&this.props.resetSelection()})),z()(this,"confirmAction",(e=>{this.setState({isActionConfirmed:e})})),z()(this,"onButtonClick",(()=>{this.setState((e=>({isPopoverOpen:!e.isPopoverOpen})))})),z()(this,"closePopoverAndExecute",(e=>{this.setState({isPopoverOpen:!1,renderConfirmModal:!1}),e(),this.props.resetSelection&&this.props.resetSelection()})),z()(this,"closePopover",(()=>{this.setState({isPopoverOpen:!1})})),z()(this,"forcemergeSegmentsError",(()=>{const{forcemergeSegments:e}=this.state;return!e||e.match(/^([1-9][0-9]*)?$/)?void 0:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.segmentsNumberErrorMessage",{defaultMessage:"The number of segments must be greater than zero."})})),z()(this,"renderForcemergeSegmentsModal",(()=>{const{forcemergeIndices:e,indexNames:t}=this.props,a=i.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMerge.forceMergeSegmentsHelpText",{defaultMessage:"Merge the segments in an index until the number is reduced to this or fewer segments. The default is 1."}),n=t.length;return Object(Y.jsx)(W.EuiConfirmModal,{title:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMerge.confirmModal.modalTitle",{defaultMessage:"Force merge"}),onCancel:this.closeConfirmModal,onConfirm:()=>{this.forcemergeSegmentsError()||this.closePopoverAndExecute((()=>{e(this.state.forcemergeSegments),this.setState({forcemergeSegments:null,showForcemergeSegmentsModal:null})}))},cancelButtonText:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMerge.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),confirmButtonText:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMerge.confirmModal.confirmButtonText",{defaultMessage:"Force merge"})},Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.forceMerge.forceMergeDescription",defaultMessage:"You are about to force merge {selectedIndexCount, plural, one {this index} other {these indices} }:",values:{selectedIndexCount:n}})),Object(Y.jsx)("ul",null,t.map((e=>Object(Y.jsx)("li",{key:e},e)))),Object(Y.jsx)(W.EuiCallOut,{title:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMerge.proceedWithCautionCallOutTitle",{defaultMessage:"Proceed with caution!"}),color:"warning",iconType:"help"},Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.forceMerge.forceMergeWarningDescription",defaultMessage:" Don't force-merge indices to which you're still writing, or to which you'll write again in the future. Instead, rely on the automatic background merge process to perform merges as needed to keep the index running smoothly. If you write to a force-merged index then its performance may become much worse. "}))),Object(Y.jsx)(W.EuiSpacer,{size:"m"}),Object(Y.jsx)(W.EuiForm,{isInvalid:!!this.forcemergeSegmentsError(),error:this.forcemergeSegmentsError()},Object(Y.jsx)(W.EuiFormRow,{label:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMerge.maximumNumberOfSegmentsFormRowLabel",{defaultMessage:"Maximum number of segments per shard"}),helpText:a},Object(Y.jsx)(W.EuiFieldNumber,{onChange:e=>{this.setState({forcemergeSegments:e.target.value})},min:1,name:"maxNumberSegments"}))))})),z()(this,"renderConfirmDeleteModal",(()=>{const{deleteIndices:e,indexNames:t,hasSystemIndex:a,isSystemIndexByName:n}=this.props,{isActionConfirmed:s}=this.state,r=t.length,o=Object(Y.jsx)(q.Fragment,null,Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.deleteIndex.deleteDescription",defaultMessage:"You are about to delete {selectedIndexCount, plural, one {this index} other {these indices} }:",values:{selectedIndexCount:r}})),Object(Y.jsx)("ul",null,t.map((e=>Object(Y.jsx)("li",{key:e},e)))),Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.deleteIndex.deleteWarningDescription",defaultMessage:"You can't recover a deleted index. Make sure you have appropriate backups."}))),l=Object(Y.jsx)(q.Fragment,null,Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.deleteIndex.deleteDescription",defaultMessage:"You are about to delete {selectedIndexCount, plural, one {this index} other {these indices} }:",values:{selectedIndexCount:r}})),Object(Y.jsx)("ul",null,t.map((e=>Object(Y.jsx)("li",{key:e},e,n[e]?Object(Y.jsx)(q.Fragment,null," ",Object(Y.jsx)(W.EuiBadge,{iconType:"alert",color:"hollow"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.deleteIndex.systemIndexLabel",defaultMessage:"System index"}))):"")))),Object(Y.jsx)(W.EuiCallOut,{title:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.deleteIndex.proceedWithCautionCallOutTitle",{defaultMessage:"Deleting a system index can break Kibana"}),color:"danger",iconType:"alert"},Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.deleteIndex.proceedWithCautionCallOutDescription",defaultMessage:"System indices are critical for internal operations. If you delete a system index, you can't recover it. Make sure you have appropriate backups."})),Object(Y.jsx)(W.EuiCheckbox,{id:"confirmDeleteIndicesCheckbox",label:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.deleteIndex.checkboxLabel",defaultMessage:"I understand the consequences of deleting a system index"}),checked:s,onChange:e=>this.confirmAction(e.target.checked)})));return Object(Y.jsx)(W.EuiConfirmModal,{title:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.deleteIndex.confirmModal.modalTitle",{defaultMessage:"Delete {selectedIndexCount, plural, one {index} other {# indices} }",values:{selectedIndexCount:r}}),onCancel:()=>{this.confirmAction(!1),this.closeConfirmModal()},onConfirm:()=>this.closePopoverAndExecute(e),buttonColor:"danger",confirmButtonDisabled:!!a&&!s,cancelButtonText:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.deleteIndex.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),confirmButtonText:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.deleteIndex.confirmModal.confirmButtonText",{defaultMessage:"Delete {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:r}})},a?l:o)})),z()(this,"renderConfirmCloseModal",(()=>{const{closeIndices:e,indexNames:t,isSystemIndexByName:a}=this.props,{isActionConfirmed:n}=this.state,s=t.length;return Object(Y.jsx)(W.EuiConfirmModal,{title:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.closeIndex.confirmModal.modalTitle",{defaultMessage:"Close {selectedIndexCount, plural, one {index} other {# indices} }",values:{selectedIndexCount:s}}),onCancel:()=>{this.confirmAction(!1),this.closeConfirmModal()},onConfirm:()=>this.closePopoverAndExecute(e),buttonColor:"danger",confirmButtonDisabled:!n,cancelButtonText:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.deleteIndex.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),confirmButtonText:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.closeIndex.confirmModal.confirmButtonText",{defaultMessage:"Close {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:s}})},Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.closeIndex.closeDescription",defaultMessage:"You are about to close {selectedIndexCount, plural, one {this index} other {these indices} }:",values:{selectedIndexCount:s}})),Object(Y.jsx)("ul",null,t.map((e=>Object(Y.jsx)("li",{key:e},e,a[e]?Object(Y.jsx)(q.Fragment,null," ",Object(Y.jsx)(W.EuiBadge,{iconType:"alert",color:"hollow"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.closeIndex.systemIndexLabel",defaultMessage:"System index"}))):"")))),Object(Y.jsx)(W.EuiCallOut,{title:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.closeIndex.proceedWithCautionCallOutTitle",{defaultMessage:"Closing a system index can break Kibana"}),color:"danger",iconType:"alert"},Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.closeIndex.proceedWithCautionCallOutDescription",defaultMessage:"System indices are critical for internal operations. You can reopen the index using the Open Index API."})),Object(Y.jsx)(W.EuiCheckbox,{id:"confirmCloseIndicesCheckbox",label:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.closeIndex.checkboxLabel",defaultMessage:"I understand the consequences of closing a system index"}),checked:n,onChange:e=>this.confirmAction(e.target.checked)})))})),z()(this,"renderConfirmFreezeModal",(()=>{const{freezeIndices:e,indexNames:t}=this.props;return Object(Y.jsx)(W.EuiConfirmModal,{title:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.freezeEntity.confirmModal.modalTitle",{defaultMessage:"Confirm freeze {count, plural, one {index} other {indices}}",values:{count:t.length}}),onCancel:this.closeConfirmModal,onConfirm:()=>this.closePopoverAndExecute(e),cancelButtonText:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.freezeEntity.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),confirmButtonText:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.freezeEntity.confirmModal.confirmButtonText",{defaultMessage:"Freeze {count, plural, one {index} other {indices}}",values:{count:t.length}})},Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.freezeEntity.freezeDescription",defaultMessage:"You are about to freeze {count, plural, one {this index} other {these indices}}:",values:{count:t.length}})),Object(Y.jsx)("ul",null,t.map((e=>Object(Y.jsx)("li",{key:e},e)))),Object(Y.jsx)(W.EuiCallOut,{title:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.freezeEntity.proceedWithCautionCallOutTitle",{defaultMessage:"Proceed with caution"}),color:"warning",iconType:"help"},Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.freezeEntity.freezeEntityWarningDescription",defaultMessage:" A frozen index has little overhead on the cluster and is blocked for write operations. You can search a frozen index, but expect queries to be slower. "}))))})),this.state={isPopoverOpen:!1,renderConfirmModal:null,isActionConfirmed:!1}}panels({services:{extensionsService:e},core:{getUrlForApp:t}}){const{closeIndices:a,openIndices:n,flushIndices:s,refreshIndices:o,clearCacheIndices:l,editIndex:c,showMapping:d,showStats:u,showSettings:p,detailPanel:m,indexNames:g,indexStatusByName:f,performExtensionAction:x,indices:b,reloadIndices:h,unfreezeIndices:j,hasSystemIndex:M}=this.props,y=Object(wi.every)(g,(e=>f[e]===r)),O=Object(wi.every)(b,(e=>e.isFrozen)),v=Object(wi.every)(b,(e=>!e.isFrozen)),T=g.length,E=[];m||1!==T||(E.push({"data-test-subj":"showSettingsIndexMenuButton",name:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.showIndexSettingsLabel",{defaultMessage:"Show {selectedIndexCount, plural, one {index} other {indices} } settings",values:{selectedIndexCount:T}}),onClick:()=>{this.closePopoverAndExecute(p)}}),E.push({"data-test-subj":"showMappingsIndexMenuButton",name:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.showIndexMappingLabel",{defaultMessage:"Show {selectedIndexCount, plural, one {index} other {indices} } mapping",values:{selectedIndexCount:T}}),onClick:()=>{this.closePopoverAndExecute(d)}}),y&&E.push({"data-test-subj":"showStatsIndexMenuButton",name:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.showIndexStatsLabel",{defaultMessage:"Show {selectedIndexCount, plural, one {index} other {indices} } stats",values:{selectedIndexCount:T}}),onClick:()=>{this.closePopoverAndExecute(u)}}),E.push({"data-test-subj":"editIndexMenuButton",name:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.editIndexSettingsLabel",{defaultMessage:"Edit {selectedIndexCount, plural, one {index} other {indices} } settings",values:{selectedIndexCount:T}}),onClick:()=>{this.closePopoverAndExecute(c)}})),y?(E.push({"data-test-subj":"closeIndexMenuButton",name:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.closeIndexLabel",{defaultMessage:"Close {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:T}}),onClick:()=>{if(M)return this.closePopover(),void this.setState({renderConfirmModal:this.renderConfirmCloseModal});this.closePopoverAndExecute(a)}}),E.push({"data-test-subj":"forcemergeIndexMenuButton",name:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMergeIndexLabel",{defaultMessage:"Force merge {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:T}}),onClick:()=>{this.closePopover(),this.setState({renderConfirmModal:this.renderForcemergeSegmentsModal})}}),E.push({"data-test-subj":"refreshIndexMenuButton",name:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.refreshIndexLabel",{defaultMessage:"Refresh {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:T}}),onClick:()=>{this.closePopoverAndExecute(o)}}),E.push({"data-test-subj":"clearCacheIndexMenuButton",name:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.clearIndexCacheLabel",{defaultMessage:"Clear {selectedIndexCount, plural, one {index} other {indices} } cache",values:{selectedIndexCount:T}}),onClick:()=>{this.closePopoverAndExecute(l)}}),E.push({"data-test-subj":"flushIndexMenuButton",name:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.flushIndexLabel",{defaultMessage:"Flush {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:T}}),onClick:()=>{this.closePopoverAndExecute(s)}}),O?E.push({name:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.unfreezeIndexLabel",{defaultMessage:"Unfreeze {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:T}}),onClick:()=>{this.closePopoverAndExecute(j)}}):v&&E.push({name:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.freezeIndexLabel",{defaultMessage:"Freeze {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:T}}),onClick:()=>{this.closePopover(),this.setState({renderConfirmModal:this.renderConfirmFreezeModal})}})):E.push({"data-test-subj":"openIndexMenuButton",name:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.openIndexLabel",{defaultMessage:"Open {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:T}}),onClick:()=>{this.closePopoverAndExecute(n)}}),E.push({name:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.deleteIndexLabel",{defaultMessage:"Delete {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:T}}),onClick:()=>{this.closePopover(),this.setState({renderConfirmModal:this.renderConfirmDeleteModal})}}),e.actions.forEach((e=>{const a=e({indices:b,reloadIndices:h,getUrlForApp:t});if(a){const{buttonLabel:e,requestMethod:t,successMessage:i,renderConfirmModal:n}=a;t?E.push({name:e,onClick:()=>{this.closePopoverAndExecute((async()=>{await x(t,i)}))}}):E.push({name:e,onClick:()=>{this.closePopover(),this.setState({renderConfirmModal:n})}})}}));const k={id:0,title:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.panelTitle",{defaultMessage:"{selectedIndexCount, plural, one {Index} other {Indices} } options",values:{selectedIndexCount:T}}),items:E};return Di(k)}render(){return Object(Y.jsx)(it,null,(e=>{const{indexNames:t}=this.props,a=t.length,{iconSide:n="right",anchorPosition:s="rightUp",label:r=i.i18n.translate("xpack.idxMgmt.indexActionsMenu.manageButtonLabel",{defaultMessage:"Manage {selectedIndexCount, plural, one {index} other {{selectedIndexCount} indices}}",values:{selectedIndexCount:a}}),iconType:o="arrowDown"}=this.props,l=this.panels(e),c=Object(Y.jsx)(W.EuiButton,{"data-test-subj":"indexActionsContextMenuButton",iconSide:n,"aria-label":i.i18n.translate("xpack.idxMgmt.indexActionsMenu.manageButtonAriaLabel",{defaultMessage:"{selectedIndexCount, plural, one {index} other {indices} } options",values:{selectedIndexCount:a}}),onClick:this.onButtonClick,iconType:o,fill:!0},r);return Object(Y.jsx)("div",null,this.state.renderConfirmModal?this.state.renderConfirmModal(this.closeConfirmModal):null,Object(Y.jsx)(W.EuiPopover,{id:"contextMenuIndices",button:c,isOpen:this.state.isPopoverOpen,closePopover:this.closePopover,panelPaddingSize:"none",anchorPosition:s,repositionOnScroll:!0},Object(Y.jsx)(W.EuiContextMenu,{initialPanelId:0,panels:l,"data-test-subj":"indexContextMenu"})))}))}}var Pi=a(45);const Ni=Object(Pi.createAction)("INDEX_MANAGEMENT_CLEAR_CACHE_INDICES_START"),Ai=({indexNames:e})=>async t=>{t(Ni({indexNames:e}));try{await async function(e){const t=JSON.stringify({indices:e}),a=await jn.httpClient.post(`${n}/indices/clear_cache`,{body:t}),i=e.length>1?f:g;return Sc.trackMetric(Le.METRIC_TYPE.COUNT,i),a}(e)}catch(a){return pt.showDangerToast(a.message),t(Ri({indexNames:e}))}t(cn(e)),pt.showSuccessToast(i.i18n.translate("xpack.idxMgmt.clearCacheIndicesAction.successMessage",{defaultMessage:"Successfully cleared cache: [{indexNames}]",values:{indexNames:e.join(", ")}}))},Ri=Object(Pi.createAction)("INDEX_MANAGEMENT_CLEAR_ROW_STATUS"),zi=Object(Pi.createAction)("INDEX_MANAGEMENT_CLOSE_INDICES_START"),Bi=({indexNames:e})=>async t=>{t(zi({indexNames:e}));try{await async function(e){const t=JSON.stringify({indices:e}),a=await jn.httpClient.post(`${n}/indices/close`,{body:t}),i=e.length>1?b:x;return Sc.trackMetric(Le.METRIC_TYPE.COUNT,i),a}(e)}catch(a){return pt.showDangerToast(a.message),t(Ri({indexNames:e}))}t(cn(e)),pt.showSuccessToast(i.i18n.translate("xpack.idxMgmt.closeIndicesAction.successfullyClosedIndicesMessage",{defaultMessage:"Successfully closed: [{indexNames}]",values:{indexNames:e.join(", ")}}))},Vi=Object(Pi.createAction)("INDEX_MANAGEMENT_DELETE_INDICES_SUCCESS"),Ui=({indexNames:e})=>async t=>{try{await async function(e){const t=JSON.stringify({indices:e}),a=await jn.httpClient.post(`${n}/indices/delete`,{body:t}),i=e.length>1?j:h;return Sc.trackMetric(Le.METRIC_TYPE.COUNT,i),a}(e)}catch(a){return pt.showDangerToast(a.message),t(Ri({indexNames:e}))}pt.showSuccessToast(i.i18n.translate("xpack.idxMgmt.deleteIndicesAction.successfullyDeletedIndicesMessage",{defaultMessage:"Successfully deleted: [{indexNames}]",values:{indexNames:e.join(", ")}})),t(Vi({indexNames:e}))},qi=Object(Pi.createAction)("INDEX_MANAGEMENT_FLUSH_INDICES_START"),$i=({indexNames:e})=>async t=>{t(qi({indexNames:e}));try{await async function(e){const t=JSON.stringify({indices:e}),a=await jn.httpClient.post(`${n}/indices/flush`,{body:t}),i=e.length>1?y:M;return Sc.trackMetric(Le.METRIC_TYPE.COUNT,i),a}(e)}catch(a){return pt.showDangerToast(a.message),t(Ri({indexNames:e}))}t(cn(e)),pt.showSuccessToast(i.i18n.translate("xpack.idxMgmt.flushIndicesAction.successfullyFlushedIndicesMessage",{defaultMessage:"Successfully flushed: [{indexNames}]",values:{indexNames:e.join(", ")}}))},Wi=Object(Pi.createAction)("INDEX_MANAGEMENT_FORCEMERGE_INDICES_START"),Hi=({indexNames:e,maxNumSegments:t})=>async a=>{a(Wi({indexNames:e}));try{await async function(e,t){const a=JSON.stringify({indices:e,maxNumSegments:t}),i=await jn.httpClient.post(`${n}/indices/forcemerge`,{body:a}),s=e.length>1?v:O;return Sc.trackMetric(Le.METRIC_TYPE.COUNT,s),i}(e,t)}catch(t){return pt.showDangerToast(t.message),a(Ri({indexNames:e}))}a(cn(e)),pt.showSuccessToast(i.i18n.translate("xpack.idxMgmt.forceMergeIndicesAction.successfullyForceMergedIndicesMessage",{defaultMessage:"Successfully force merged: [{indexNames}]",values:{indexNames:e.join(", ")}}))},Gi=Object(Pi.createAction)("INDEX_MANAGEMENT_LOAD_INDICES_START"),Ji=Object(Pi.createAction)("INDEX_MANAGEMENT_LOAD_INDICES_SUCCESS"),Yi=Object(Pi.createAction)("INDEX_MANAGEMENT_LOAD_INDICES_ERROR"),Ki=()=>async e=>{let t;e(Gi());try{t=await async function(){const e=await jn.httpClient.get(`${n}/indices`);return e.data?e.data:e}()}catch(t){return e(Yi(t))}e(Ji({indices:t}))},Xi=Object(Pi.createAction)("INDEX_MANAGEMENT_LOAD_INDEX_DATA_SUCCESS"),Zi=({indexName:e,dataType:t})=>async a=>{let i;try{i=await async function(e,t){switch(e){case yi:return async function(e){return await jn.httpClient.get(`${n}/mapping/${encodeURIComponent(e)}`)}(t);case Mi:return Cc(t);case Oi:return async function(e){return await jn.httpClient.get(`${n}/stats/${encodeURIComponent(e)}`)}(t)}}(t,e)}catch(e){pt.showDangerToast(e.message)}a(Xi({data:i,indexName:e}))},Qi=Object(Pi.createAction)("INDEX_MANAGEMENT_OPEN_INDICES_START"),en=({indexNames:e})=>async t=>{t(Qi({indexNames:e}));try{await async function(e){const t=JSON.stringify({indices:e}),a=await jn.httpClient.post(`${n}/indices/open`,{body:t}),i=e.length>1?F:k;return Sc.trackMetric(Le.METRIC_TYPE.COUNT,i),a}(e)}catch(a){return pt.showDangerToast(a.message),t(Ri({indexNames:e}))}t(cn(e)),pt.showSuccessToast(i.i18n.translate("xpack.idxMgmt.openIndicesAction.successfullyOpenedIndicesMessage",{defaultMessage:"Successfully opened: [{indexNames}]",values:{indexNames:e.join(", ")}}))},tn=Object(Pi.createAction)("INDEX_MANAGEMENT_REFRESH_INDICES_START"),an=({indexNames:e})=>async t=>{t(tn({indexNames:e}));try{await async function(e){const t=JSON.stringify({indices:e}),a=await jn.httpClient.post(`${n}/indices/refresh`,{body:t}),i=e.length>1?S:_;return Sc.trackMetric(Le.METRIC_TYPE.COUNT,i),a}(e)}catch(a){return pt.showDangerToast(a.message),t(Ri({indexNames:e}))}t(cn(e)),pt.showSuccessToast(i.i18n.translate("xpack.idxMgmt.refreshIndicesAction.successfullyRefreshedIndicesMessage",{defaultMessage:"Successfully refreshed: [{indexNames}]",values:{indexNames:e.join(", ")}}))},nn=Object(Pi.createAction)("INDEX_MANAGEMENT_FREEZE_INDICES_START"),sn=({indexNames:e})=>async t=>{t(nn({indexNames:e}));try{await async function(e){const t=JSON.stringify({indices:e}),a=await jn.httpClient.post(`${n}/indices/freeze`,{body:t}),i=e.length>1?E:T;return Sc.trackMetric(Le.METRIC_TYPE.COUNT,i),a}(e)}catch(a){return pt.showDangerToast(a.message),t(Ri({indexNames:e}))}t(cn(e)),pt.showSuccessToast(i.i18n.translate("xpack.idxMgmt.freezeIndicesAction.successfullyFrozeIndicesMessage",{defaultMessage:"Successfully froze: [{indexNames}]",values:{indexNames:e.join(", ")}}))},rn=Object(Pi.createAction)("INDEX_MANAGEMENT_UNFREEZE_INDICES_START"),on=({indexNames:e})=>async t=>{t(rn({indexNames:e}));try{await async function(e){const t=JSON.stringify({indices:e}),a=await jn.httpClient.post(`${n}/indices/unfreeze`,{body:t}),i=e.length>1?L:C;return Sc.trackMetric(Le.METRIC_TYPE.COUNT,i),a}(e)}catch(a){return pt.showDangerToast(a.message),t(Ri({indexNames:e}))}t(cn(e)),pt.showSuccessToast(i.i18n.translate("xpack.idxMgmt.unfreezeIndicesAction.successfullyUnfrozeIndicesMessage",{defaultMessage:"Successfully unfroze: [{indexNames}]",values:{indexNames:e.join(", ")}}))},ln=Object(Pi.createAction)("INDEX_MANAGEMENT_RELOAD_INDICES_SUCCESS"),cn=(e,t)=>async a=>{let s;try{s=await async function(e,{asSystemRequest:t}={}){const a=JSON.stringify({indexNames:e}),i=await jn.httpClient.post(`${n}/indices/reload`,{body:a,asSystemRequest:t});return i.data?i.data:i}(e,t)}catch(e){return 404===e.status||403===e.status?a(Ki()):pt.showDangerToast(e.message)}return s&&s.length>0?a(ln({indices:s})):pt.showWarningToast(i.i18n.translate("xpack.idxMgmt.reloadIndicesAction.indicesPageRefreshFailureMessage",{defaultMessage:"Failed to refresh current page of indices."}))},dn=(Object(Pi.createAction)("INDEX_MANAGEMENT_APPLY_FILTERS"),Object(Pi.createAction)("INDEX_MANAGEMENT_FILTERS_APPLIED"),Object(Pi.createAction)("INDEX_MANAGEMENT_FILTER_CHANGED")),un=Object(Pi.createAction)("INDEX_MANAGEMENT_PAGE_CHANGED"),pn=Object(Pi.createAction)("INDEX_MANAGEMENT_PAGE_SIZE_CHANGED"),mn=Object(Pi.createAction)("INDEX_MANAGEMENT_SORT_CHANGED"),gn=Object(Pi.createAction)("INDEX_MANAGEMENT_TOGGLE_CHANGED"),fn=Object(Pi.createAction)("INDEX_MANAGEMENT_UPDATE_INDEX_SETTINGS_SUCCESS"),xn=Object(Pi.createAction)("INDEX_MANAGEMENT_UPDATE_INDEX_SETTINGS_ERROR"),bn=Object(Pi.createAction)("INDEX_MANAGEMENT_OPEN_DETAIL_PANEL"),hn=Object(Pi.createAction)("INDEX_MANAGEMENT_CLOSE_DETAIL_PANEL");const jn=new class http_HttpService{constructor(){z()(this,"client",void 0)}setup(e){this.client=e}get httpClient(){return this.client}};var Mn=a(150),yn=a(57),On=a.n(yn);const vn={[p]:i.i18n.translate("xpack.idxMgmt.indexStatusLabels.clearingCacheStatusLabel",{defaultMessage:"clearing cache..."}),[s]:i.i18n.translate("xpack.idxMgmt.indexStatusLabels.closedStatusLabel",{defaultMessage:"closed"}),[o]:i.i18n.translate("xpack.idxMgmt.indexStatusLabels.closingStatusLabel",{defaultMessage:"closing..."}),merging:i.i18n.translate("xpack.idxMgmt.indexStatusLabels.mergingStatusLabel",{defaultMessage:"merging..."}),[l]:i.i18n.translate("xpack.idxMgmt.indexStatusLabels.openingStatusLabel",{defaultMessage:"opening..."}),[c]:i.i18n.translate("xpack.idxMgmt.indexStatusLabels.refreshingStatusLabel",{defaultMessage:"refreshing..."}),[d]:i.i18n.translate("xpack.idxMgmt.indexStatusLabels.flushingStatusLabel",{defaultMessage:"flushing..."}),[u]:i.i18n.translate("xpack.idxMgmt.indexStatusLabels.forcingMergeStatusLabel",{defaultMessage:"forcing merge..."})};var Tn=a(8);const En=new(a.n(Tn).a)(A.a),kn=e=>{var t;return En.major<8&&(null!==(t=e.name)&&void 0!==t?t:"").startsWith(".")};var Fn=a(7);const _n=e=>e.detailPanel.data,Sn=e=>e.detailPanel.error,Cn=e=>e.detailPanel.panelType,Ln=e=>!!Cn(e),wn=e=>e.detailPanel.indexName,In=e=>e.indices.byId,Dn=e=>e.indices.loading,Pn=e=>e.indices.error,Nn=e=>Object.values(e.indices.byId),An=(e,t)=>{const a=In(e);return t.map((e=>a[e]))},Rn=(e,t)=>In(e)[t],zn=e=>e.tableState,Bn=(e,t)=>{const a=In(e),{status:i}=a[t]||{};return i},Vn=(e,t)=>e.reduce(((e,a)=>(e[a]=kn(t[a]),e)),{}),Un=(e,t)=>e.some((e=>kn(t[e]))),qn=["name"],$n=Object(Mn.createSelector)(In,(e=>e.indices.allIds),zn,((e,t)=>t.location),((e,t,a,i)=>{let n=t.map((t=>e[t]));n=((e,t)=>{const a=Fn.a.toggles.reduce(((e,t)=>({...e,[t.name]:t})),{}),i=Object.keys(a);return i.length?e.filter((e=>i.some((i=>!a[i].matchIndex(e)||!0===t[i])))):e})(n,a.toggleNameToVisibleMap);const{includeHiddenIndices:s}=yn.parse(i.search),r="true"===s?n:n.filter((e=>!(e=>{var t;return En.major<8&&(null!==(t=e.name)&&void 0!==t?t:"").startsWith(".")||!0===e.hidden})(e))),o=a.filter||W.EuiSearchBar.Query.MATCH_ALL;return W.EuiSearchBar.Query.execute(o,r,{defaultFields:qn})})),Wn=Object(Mn.createSelector)($n,(e=>Object.keys(e).length)),Hn=Object(Mn.createSelector)(zn,Wn,(({currentPage:e,pageSize:t},a)=>new W.Pager(a,t,e))),Gn=Object(Mn.createSelector)($n,zn,(e=>e.rowStatus),Hn,((e,t,a,i)=>{const n=Rc(e,t.sortField,t.isSortAscending),{firstItemIndex:s,lastItemIndex:r}=i;return n.slice(s,r+1).map((e=>{const t=vn[a[e.name]]||a[e.name]||vn[e.status]||e.status;return{...e,status:t}}))})),Jn=Object(Mn.createSelector)(zn,(({filter:e})=>e)),Yn=Object(Mn.createSelector)(zn,(({isSortAscending:e})=>e)),Kn=Object(Mn.createSelector)(zn,(({sortField:e})=>e)),Xn=Object(Ye.connect)(((e,t)=>{const a={},{indexNames:i}=t,n=e.indices.byId;return i.forEach((t=>{a[t]=Bn(e,t)})),{indexStatusByName:a,indices:An(e,i),isSystemIndexByName:Vn(i,n),hasSystemIndex:Un(i,n)}}),((e,{indexNames:t})=>({editIndexSettings:()=>{e((({indexName:e})=>async t=>{let a;try{a=await Cc(e)}catch(e){return pt.showDangerToast(e.message)}pt.showSuccessToast(i.i18n.translate("xpack.idxMgmt.editIndexSettingsAction.successfullySavedSettingsForIndicesMessage",{defaultMessage:"Successfully saved settings for {indexName}",values:{indexName:e}})),t(Xi({data:a,panelType:"editIndexSettings",indexName:e}))})({indexName:t[0]}))},clearCacheIndices:()=>{e(Ai({indexNames:t}))},closeIndices:()=>{e(Bi({indexNames:t}))},flushIndices:()=>{e($i({indexNames:t}))},openIndices:()=>{e(en({indexNames:t}))},refreshIndices:()=>{e(an({indexNames:t}))},freezeIndices:()=>{e(sn({indexNames:t}))},unfreezeIndices:()=>{e(on({indexNames:t}))},forcemergeIndices:a=>{e(Hi({indexNames:t,maxNumSegments:a}))},showSettings:()=>{e(bn({indexName:t[0],panelType:Mi}))},showMapping:()=>{e(bn({indexName:t[0],panelType:yi}))},showStats:()=>{e(bn({indexName:t[0],panelType:Oi}))},editIndex:()=>{const a=t?t[0]:null;a&&e(bn({indexName:a,panelType:vi}))},deleteIndices:()=>{e(Ui({indexNames:t}))},reloadIndices:()=>{e(cn(t))},performExtensionAction:(a,i)=>{e((({requestMethod:e,indexNames:t,successMessage:a})=>async i=>{try{await e(t,jn.httpClient)}catch(e){return void pt.showDangerToast(e.message)}i(cn(t)),pt.showSuccessToast(a)})({requestMethod:a,successMessage:i,indexNames:t}))}})))(index_actions_context_menu_IndexActionsContextMenu);a(154);class show_json_ShowJson extends $.a.PureComponent{UNSAFE_componentWillMount(){this.props.loadIndexData(this.props)}UNSAFE_componentWillUpdate(e){const{data:t,loadIndexData:a}=e;t||a(e)}render(){const{data:e}=this.props;if(!e)return null;const t=JSON.stringify(e,null,2);return Object(Y.jsx)(W.EuiCodeBlock,{lang:"json"},t)}}const Zn={loadIndexData:Zi,closeDetailPanel:hn},Qn=Object(Ye.connect)((e=>{const t=wn(e);return{error:Sn(e),data:_n(e),dataType:Cn(e),indexName:t,indexStatus:Bn(e,t)}}),Zn)(show_json_ShowJson);class summary_Summary extends $.a.PureComponent{getAdditionalContent(e,t){const{index:a}=this.props;return e.summaries.map(((e,i)=>Object(Y.jsx)(q.Fragment,{key:`summaryExtension-${i}`},Object(Y.jsx)(W.EuiHorizontalRule,null),e(a,t))))}buildRows(){const{index:e}=this.props,t={health:i.i18n.translate("xpack.idxMgmt.summary.headers.healthHeader",{defaultMessage:"Health"}),status:i.i18n.translate("xpack.idxMgmt.summary.headers.statusHeader",{defaultMessage:"Status"}),primary:i.i18n.translate("xpack.idxMgmt.summary.headers.primaryHeader",{defaultMessage:"Primaries"}),replica:i.i18n.translate("xpack.idxMgmt.summary.headers.replicaHeader",{defaultMessage:"Replicas"}),documents:i.i18n.translate("xpack.idxMgmt.summary.headers.documentsHeader",{defaultMessage:"Docs Count"}),documents_deleted:i.i18n.translate("xpack.idxMgmt.summary.headers.deletedDocumentsHeader",{defaultMessage:"Docs Deleted"}),size:i.i18n.translate("xpack.idxMgmt.summary.headers.storageSizeHeader",{defaultMessage:"Storage Size"}),primary_size:i.i18n.translate("xpack.idxMgmt.summary.headers.primaryStorageSizeHeader",{defaultMessage:"Primary Storage Size"}),aliases:i.i18n.translate("xpack.idxMgmt.summary.headers.aliases",{defaultMessage:"Aliases"})},a={left:[],right:[]};return Object.keys(t).forEach(((i,n)=>{const s=e[i];let r=s;"health"===i&&(r=Object(Y.jsx)(ui,{health:s})),Array.isArray(r)&&(r=r.join(", "));const o=[Object(Y.jsx)(W.EuiDescriptionListTitle,{key:i},Object(Y.jsx)("strong",null,t[i])),Object(Y.jsx)(W.EuiDescriptionListDescription,{key:i+"_desc"},r)];n%2==0?a.left.push(o):a.right.push(o)})),a}render(){return Object(Y.jsx)(it,null,(({services:e,core:t})=>{const{left:a,right:i}=this.buildRows(),n=this.getAdditionalContent(e.extensionsService,t.getUrlForApp);return Object(Y.jsx)(q.Fragment,null,Object(Y.jsx)(W.EuiTitle,{size:"s"},Object(Y.jsx)("h3",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.summary.summaryTitle",defaultMessage:"General"}))),Object(Y.jsx)(W.EuiSpacer,{size:"s"}),Object(Y.jsx)(W.EuiFlexGroup,null,Object(Y.jsx)(W.EuiFlexItem,null,Object(Y.jsx)(W.EuiDescriptionList,{type:"column"},a)),Object(Y.jsx)(W.EuiFlexItem,null,Object(Y.jsx)(W.EuiDescriptionList,{type:"column"},i))),n)}))}}const es=Object(Ye.connect)((e=>{const t=wn(e);return{indexName:t,index:Rn(e,t)}}))(summary_Summary),ts=["index.creation_date","index.number_of_shards","index.provided_name","index.uuid","index.version.created","index.compound_format","index.data_path","index.format","index.number_of_routing_shards","index.sort.field","index.sort.missing","index.sort.mode","index.sort.order","index.routing_partition_size","index.store.type"],as=["index.number_of_replicas","index.blocks.read_only_allow_delete","index.codec","index.priority","index.query.default_field","index.refresh_interval","index.write.wait_for_active_shards"];var is=a(155),ns=a.n(is);a(156);const ss=e=>e.split(/\s+/),rs=(e,t,a=!0,i)=>{const n=ns.a.edit(e);n.$blockScrolling=1/0,n.setValue(t,-1);const s=n.getSession();if(s.setUseWrapMode(!0),s.setMode("ace/mode/json"),i){const e=ns.a.acequire("ace/ext/language_tools"),t=(r=i,{identifierRegexps:[/[a-zA-Z_0-9\.\$\-\u00A2-\uFFFF]/],getCompletions:(e,t,a,i,n)=>{const s=t.getDocument(),o=s.getLine(a.row),l=s.getLine(a.row-1),c=ss(o.slice(0,a.column)),d=ss(o),u=l&&"["===ss(l).slice(-1)[0],[,p=null]=c,[,m=null]=d;if(u||c.length>2)return n(null,[]);const g='"'===p?"":'"',f='""'===m?"":'"';n(null,r.map((e=>({caption:` ${e}`,value:`${g}${e}${f}`}))))}});e.setCompleters([t])}var r;const o={readOnly:a,highlightActiveLine:!1,highlightGutterLine:!1,minLines:20,maxLines:30},l=a?{}:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0};return n.setOptions({...o,...l}),n.setBehavioursEnabled(!a),n},os=(e,t)=>{const a=[],i={};return function e(n){Ii.a.keys(n).forEach((function(s){a.push(s),!t&&Array.isArray(n[s])?i[a.join(".")]=n[s]:Ii.a.isObject(n[s])?e(n[s]):i[a.join(".")]=n[s],a.pop()}))}(e),i};class edit_settings_json_EditSettingsJson extends $.a.PureComponent{constructor(){super(),z()(this,"commitSettings",(()=>{const{updateIndexSettings:e,indexName:t}=this.props,a=this.editor.getValue(),i=JSON.parse(a);Object.keys(this.originalSettings).forEach((e=>{Ii.a.isEqual(this.originalSettings[e],i[e])&&delete i[e]})),e({indexName:t,settings:i})})),this.state={valid:!0}}transformSettingsForApi(e,t){const{defaults:a,settings:i}=e,n=os(i),s=os(a),r={...Ii.a.pick(s,as),...n};return this.settingsKeys=Object.keys(r),ts.forEach((e=>delete r[e])),t&&delete r["index.codec"],r}UNSAFE_componentWillMount(){const{indexName:e}=this.props;this.props.loadIndexData({dataType:Mi,indexName:e})}componentDidUpdate(){const{data:e,indexStatus:t}=this.props;if(e&&!this.editor){const a="open"===t,i=this.transformSettingsForApi(e,a);this.originalSettings=i;const n=JSON.stringify(i,null,2),s=Object.keys(i),r=(this.editor=rs(this.aceDiv,n,!1,s)).getSession();r.on("changeAnnotation",(()=>{const e=""===r.getValue();this.setState({valid:!e&&0===r.getAnnotations().length})}))}}componentWillUnmount(){this.editor&&this.editor.destroy()}errorMessage(){const{error:e}=this.props;return e?Object(Y.jsx)("div",null,Object(Y.jsx)(W.EuiSpacer,null),Object(Y.jsx)(W.EuiIcon,{color:"danger",type:"alert"}),Object(Y.jsx)(W.EuiTextColor,{color:"danger"},e),Object(Y.jsx)(W.EuiSpacer,null)):null}render(){const{data:e}=this.props;return e?Object(Y.jsx)("div",null,Object(Y.jsx)(W.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(Y.jsx)(W.EuiFlexItem,null,Object(Y.jsx)(W.EuiTitle,null,Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.editSettingsJSON.saveJSONDescription",defaultMessage:"Edit, then save your JSON"})))),Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiButton,{size:"s",fill:!0,"data-test-subj":"updateEditIndexSettingsButton",onClick:this.commitSettings,disabled:!this.state.valid},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.editSettingsJSON.saveJSONButtonLabel",defaultMessage:"Save"})))),Object(Y.jsx)(W.EuiSpacer,null),Object(Y.jsx)(W.EuiLink,{href:Ce.getSettingsDocumentationLink(),target:"_blank",rel:"noopener noreferrer"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.editSettingsJSON.settingsReferenceLinkText",defaultMessage:"Settings reference"})),Object(Y.jsx)(W.EuiSpacer,null),Object(Y.jsx)("div",{"data-test-subj":"indexJsonEditor",ref:e=>{this.aceDiv=e}}),this.errorMessage(),Object(Y.jsx)(W.EuiSpacer,null)):null}}const ls={loadIndexData:Zi,closeDetailPanel:hn,updateIndexSettings:({indexName:e,settings:t})=>async a=>{if(0!==Object.keys(t).length)try{const{error:i,message:s}=await async function(e,t){const a=await jn.httpClient.put(`${n}/settings/${encodeURIComponent(e)}`,{body:JSON.stringify(t)});return Sc.trackMetric(Le.METRIC_TYPE.COUNT,m),a}(e,t);if(i)return a(xn({error:s}))}catch(e){return a(xn({error:e.message}))}a(fn()),a(cn([e])),pt.showSuccessToast(i.i18n.translate("xpack.idxMgmt.updateIndexSettingsAction.settingsSuccessUpdateMessage",{defaultMessage:"Successfully updated settings for index {indexName}",values:{indexName:e}}))}},cs=Object(Ye.connect)((e=>{const t=wn(e);return{error:Sn(e),data:_n(e),indexName:t,indexStatus:Bn(e,t)}}),ls)(edit_settings_json_EditSettingsJson),ds={[ji]:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.detailPanel.tabSummaryLabel",defaultMessage:"Summary"}),[Mi]:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.detailPanel.tabSettingsLabel",defaultMessage:"Settings"}),[yi]:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.detailPanel.tabMappingLabel",defaultMessage:"Mappings"}),[Oi]:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.detailPanel.tabStatsLabel",defaultMessage:"Stats"}),[vi]:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.detailPanel.tabEditSettingsLabel",defaultMessage:"Edit settings"})},us=[ji,Mi,yi,Oi,vi],ps=Object(Ye.connect)((e=>{const t=wn(e);return{panelType:Cn(e),indexName:t,index:Rn(e,t)}}),(e=>({clearCacheIndex:t=>{e(Ai({indexNames:[t]}))},closeIndex:t=>{e(Bi({indexNames:[t]}))},flushIndex:t=>{e($i({indexNames:[t]}))},openIndex:t=>{e(en({indexNames:[t]}))},refreshIndex:t=>{e(an({indexNames:[t]}))},forcemergeIndex:t=>{e(Hi({indexNames:[t]}))},deleteIndex:t=>{e(Ui({indexNames:[t]}))},closeDetailPanel:()=>e(hn()),openDetailPanel:(t,a)=>e(bn(t,a))})))((({panelType:e,indexName:t,index:a,openDetailPanel:i,closeDetailPanel:n})=>{const{extensionsService:s}=st();if(!e)return null;let o=null;switch(e){case vi:o=Object(Y.jsx)(cs,null);break;case yi:case Mi:case Oi:o=Object(Y.jsx)(Qn,null);break;default:o=Object(Y.jsx)(es,null)}const l=a?Object(Y.jsx)(q.Fragment,null,Object(Y.jsx)(W.EuiFlyoutBody,null,o),Object(Y.jsx)(W.EuiFlyoutFooter,null,Object(Y.jsx)(W.EuiFlexGroup,{justifyContent:"flexEnd"},Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(rt.Route,{key:"menu",render:()=>Object(Y.jsx)(Xn,{iconSide:"left",indexNames:[t],anchorPosition:"upRight",detailPanel:!0,iconType:"arrowUp",label:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.detailPanel.manageContextMenuLabel",defaultMessage:"Manage"})})}))))):Object(Y.jsx)(W.EuiFlyoutBody,null,Object(Y.jsx)(W.EuiSpacer,{size:"l"}),Object(Y.jsx)(W.EuiCallOut,{title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.detailPanel.missingIndexTitle",defaultMessage:"Missing index"}),color:"danger",iconType:"cross"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.detailPanel.missingIndexMessage",defaultMessage:"This index does not exist. It might have been deleted by a running job or another system."})));return Object(Y.jsx)(W.EuiFlyout,{"data-test-subj":"indexDetailFlyout",onClose:n,"aria-labelledby":"indexDetailsFlyoutTitle"},Object(Y.jsx)(W.EuiFlyoutHeader,null,Object(Y.jsx)(W.EuiTitle,{id:"indexDetailsFlyoutTitle"},Object(Y.jsx)("h2",null,t,Li(a,void 0,s))),a?Object(Y.jsx)(W.EuiTabs,null,us.map(((n,s)=>{const o=n===e;return Object(Y.jsx)(W.EuiTab,{onClick:()=>i({panelType:n,indexName:t}),isSelected:o,"data-test-subj":"detailPanelTab"+(o?"Selected":""),disabled:n===Oi&&a.status!==r,key:s},ds[n])}))):null),l)})),ms={name:i.i18n.translate("xpack.idxMgmt.indexTable.headers.nameHeader",{defaultMessage:"Name"}),health:i.i18n.translate("xpack.idxMgmt.indexTable.headers.healthHeader",{defaultMessage:"Health"}),status:i.i18n.translate("xpack.idxMgmt.indexTable.headers.statusHeader",{defaultMessage:"Status"}),primary:i.i18n.translate("xpack.idxMgmt.indexTable.headers.primaryHeader",{defaultMessage:"Primaries"}),replica:i.i18n.translate("xpack.idxMgmt.indexTable.headers.replicaHeader",{defaultMessage:"Replicas"}),documents:i.i18n.translate("xpack.idxMgmt.indexTable.headers.documentsHeader",{defaultMessage:"Docs count"}),size:i.i18n.translate("xpack.idxMgmt.indexTable.headers.storageSizeHeader",{defaultMessage:"Storage size"}),data_stream:i.i18n.translate("xpack.idxMgmt.indexTable.headers.dataStreamHeader",{defaultMessage:"Data stream"})};class index_table_IndexTable extends q.Component{static getDerivedStateFromProps(e,t){const{selectedIndicesMap:a}=t,i=e.indices.map((e=>e.name)),n=Object.keys(a).filter((e=>!i.includes(e)));if(n.length){const e={...a};return n.forEach((t=>delete e[t])),{selectedIndicesMap:e}}return null}constructor(e){super(e),z()(this,"onSort",(e=>{const{sortField:t,isSortAscending:a,sortChanged:i}=this.props;i(e,t!==e||!a)})),z()(this,"onFilterChanged",(({query:e,error:t})=>{t?this.setState({filterError:t}):(this.props.filterChanged(e),this.setState({filterError:null}))})),z()(this,"getFilters",(e=>{const{allIndices:t}=this.props;return e.filters.reduce(((e,a)=>[...e,...a(t)]),[])})),z()(this,"toggleAll",(()=>{if(this.areAllItemsSelected())return this.setState({selectedIndicesMap:{}});const{indices:e}=this.props,t={};e.forEach((({name:e})=>{t[e]=!0})),this.setState({selectedIndicesMap:t})})),z()(this,"toggleItem",(e=>{this.setState((({selectedIndicesMap:t})=>{const a={...t};return a[e]?delete a[e]:a[e]=!0,{selectedIndicesMap:a}}))})),z()(this,"isItemSelected",(e=>!!this.state.selectedIndicesMap[e])),z()(this,"areAllItemsSelected",(()=>{const{indices:e}=this.props;return-1===e.findIndex((e=>!this.isItemSelected(e.name)))})),z()(this,"onItemSelectionChanged",(e=>{this.setState({selectedIndices:e})})),this.state={selectedIndicesMap:{}}}componentDidMount(){this.props.loadIndices(),this.interval=setInterval((()=>this.props.reloadIndices(this.props.indices.map((e=>e.name)),{asSystemRequest:!0})),3e4);const{location:e,filterChanged:t}=this.props,{filter:a}=On.a.parse(e&&e.search||"");if(a){const e=Object(me.attemptToURIDecode)(a);try{t(W.EuiSearchBar.Query.parse(e))}catch(e){this.setState({filterError:e})}}}componentWillUnmount(){this.props.filterChanged(""),clearInterval(this.interval)}readURLParams(){const{location:e}=this.props,{includeHiddenIndices:t}=On.a.parse(e&&e.search||"");return{includeHiddenIndices:"true"===t}}setIncludeHiddenParam(e){const{pathname:t,search:a}=this.props.location,i=On.a.parse(a);e?i.includeHiddenIndices="true":delete i.includeHiddenIndices,this.props.history.push(t+"?"+On.a.stringify(i))}renderFilterError(){const{filterError:e}=this.state;if(e)return Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiSpacer,null),Object(Y.jsx)(W.EuiCallOut,{iconType:"faceSad",color:"danger",title:i.i18n.translate("xpack.idxMgmt.indexTable.invalidSearchErrorMessage",{defaultMessage:"Invalid search: {errorMessage}",values:{errorMessage:e.message}})}),Object(Y.jsx)(W.EuiSpacer,null))}buildHeader(){const{sortField:e,isSortAscending:t}=this.props;return Object.entries(ms).map((([a,i])=>{const n=e===a;return Object(Y.jsx)(W.EuiTableHeaderCell,{key:a,onSort:()=>this.onSort(a),isSorted:n,isSortAscending:t,className:"indTable__header--"+a,"data-test-subj":`indexTableHeaderCell-${a}`},i)}))}buildRowCell(e,t,a,i){const{openDetailPanel:n,filterChanged:s,history:r}=this.props;return"health"===e?Object(Y.jsx)(ui,{health:t}):"name"===e?Object(Y.jsx)(q.Fragment,null,Object(Y.jsx)(W.EuiLink,{"data-test-subj":"indexTableIndexNameLink",onClick:()=>{i.uiMetricService.trackMetric(Le.METRIC_TYPE.CLICK,"show_details_click"),n(t)}},t),Li(a,s,i.extensionsService)):"data_stream"===e?Object(Y.jsx)(W.EuiLink,lt()({"data-test-subj":"dataStreamLink"},Object(fe.reactRouterNavigate)(r,{pathname:Object(ct.a)(t),search:"?isDeepLink=true"})),t):t}buildRowCells(e,t){return Object.keys(ms).map((a=>{const{name:i}=e,n=e[a];return"name"===a?Object(Y.jsx)("th",{key:`${a}-${i}`,className:"euiTableRowCell",scope:"row","data-test-subj":`indexTableCell-${a}`},Object(Y.jsx)("div",{className:`euiTableCellContent indTable__cell--${a}`},Object(Y.jsx)("span",{className:"eui-textLeft"},this.buildRowCell(a,n,e,t)))):Object(Y.jsx)(W.EuiTableRowCell,{key:`${a}-${i}`,truncateText:!1,"data-test-subj":`indexTableCell-${a}`,className:"indTable__cell--"+a,header:a},this.buildRowCell(a,n,e,t))}))}renderBanners(e){const{allIndices:t=[],filterChanged:a}=this.props;return e.banners.map(((e,i)=>{const n=e(t);if(!n)return null;const{type:s,title:r,message:o,filter:l,filterLabel:c}=n;return Object(Y.jsx)(q.Fragment,{key:`bannerExtension${i}`},Object(Y.jsx)(W.EuiCallOut,{color:s,size:"m",title:r},Object(Y.jsx)(W.EuiText,null,o,l?Object(Y.jsx)(W.EuiLink,{onClick:()=>a(l)},c):null)),Object(Y.jsx)(W.EuiSpacer,{size:"m"}))}))}buildRows(e){const{indices:t=[],detailPanelIndexName:a}=this.props;return t.map((t=>{const{name:n}=t;return Object(Y.jsx)(W.EuiTableRow,{"data-test-subj":"indexTableRow",isSelected:this.isItemSelected(n)||n===a,isSelectable:!0,key:`${n}-row`},Object(Y.jsx)(W.EuiTableRowCellCheckbox,{key:`checkbox-${n}`},Object(Y.jsx)(W.EuiCheckbox,{type:"inList",id:`checkboxSelectIndex-${n}`,checked:this.isItemSelected(n),onChange:()=>{this.toggleItem(n)},"data-test-subj":"indexTableRowCheckbox","aria-label":i.i18n.translate("xpack.idxMgmt.indexTable.selectIndexAriaLabel",{defaultMessage:"Select this row"})})),this.buildRowCells(t,e))}))}renderPager(){const{pager:e,pageChanged:t,pageSizeChanged:a}=this.props;return Object(Y.jsx)(W.EuiTablePagination,{activePage:e.getCurrentPageIndex(),itemsPerPage:e.itemsPerPage,itemsPerPageOptions:[10,50,100],pageCount:e.getTotalPages(),onChangeItemsPerPage:a,onChangePage:t})}renderToggleControl({name:e,label:t}){const{toggleNameToVisibleMap:a,toggleChanged:i}=this.props;return Object(Y.jsx)(W.EuiFlexItem,{key:e,grow:!1},Object(Y.jsx)(W.EuiSwitch,{id:`checkboxToggles-${e}`,"data-test-subj":`checkboxToggles-${e}`,checked:a[e],onChange:t=>i(e,t.target.checked),label:t}))}render(){const{filter:e,indices:t,loadIndices:a,indicesLoading:n,indicesError:s,allIndices:r,pager:o}=this.props,{includeHiddenIndices:l}=this.readURLParams();if(!(!n&&!s)){const e=()=>n?Object(Y.jsx)(me.PageLoading,null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.indexTable.loadingIndicesDescription",defaultMessage:"Loading indices"})):s?403===s.status?Object(Y.jsx)(me.PageError,{title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.pageErrorForbidden.title",defaultMessage:"You do not have permissions to use Index Management"})}):Object(Y.jsx)(me.PageError,{title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.indexTable.serverErrorTitle",defaultMessage:"Error loading indices"}),error:s.body}):void 0;return Object(Y.jsx)(W.EuiPageContent,{hasShadow:!1,paddingSize:"none",verticalPosition:"center",horizontalPosition:"center"},e())}const{selectedIndicesMap:c}=this.state,d=Object.keys(c).length>0;return Object(Y.jsx)(it,null,(({services:u})=>{const{extensionsService:p}=u;return Object(Y.jsx)(W.EuiPageContent,{hasShadow:!1,paddingSize:"none"},Object(Y.jsx)(W.EuiFlexGroup,{alignItems:"center"},Object(Y.jsx)(W.EuiFlexItem,{grow:!0},Object(Y.jsx)(W.EuiText,{color:"subdued"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.home.idxMgmtDescription",defaultMessage:"Update your Elasticsearch indices individually or in bulk. {learnMoreLink}",values:{learnMoreLink:Object(Y.jsx)(W.EuiLink,{href:Ce.getIdxMgmtDocumentationLink(),target:"_blank",external:!0},i.i18n.translate("xpack.idxMgmt.indexTableDescription.learnMoreLinkText",{defaultMessage:"Learn more."}))}}))),Object(Y.jsx)(W.EuiFlexItem,{grow:!1},n&&0===r.length||s?null:Object(Y.jsx)(W.EuiFlexGroup,null,p.toggles.map((e=>this.renderToggleControl(e))),Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiSwitch,{id:"checkboxShowHiddenIndices","data-test-subj":"indexTableIncludeHiddenIndicesToggle",checked:l,onChange:e=>this.setIncludeHiddenParam(e.target.checked),label:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.indexTable.hiddenIndicesSwitchLabel",defaultMessage:"Include hidden indices"})}))))),Object(Y.jsx)(W.EuiSpacer,{size:"l"}),this.renderBanners(p),Object(Y.jsx)(W.EuiFlexGroup,{gutterSize:"l",alignItems:"center"},d?Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(rt.Route,{key:"menu",render:()=>Object(Y.jsx)(Xn,{indexNames:Object.keys(c),resetSelection:()=>{this.setState({selectedIndicesMap:{}})}})})):null,n&&0===r.length||s?null:Object(Y.jsx)(q.Fragment,null,Object(Y.jsx)(W.EuiFlexItem,null,Object(Y.jsx)(W.EuiSearchBar,{filters:this.getFilters(p).length>0?this.getFilters(p):null,defaultQuery:e,query:e,box:{incremental:!0,placeholder:i.i18n.translate("xpack.idxMgmt.indexTable.systemIndicesSearchInputPlaceholder",{defaultMessage:"Search"})},"aria-label":i.i18n.translate("xpack.idxMgmt.indexTable.systemIndicesSearchIndicesAriaLabel",{defaultMessage:"Search indices"}),"data-test-subj":"indexTableFilterInput",onChange:this.onFilterChanged})),Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiButton,{isLoading:n,color:"secondary",onClick:()=>{a()},iconType:"refresh","data-test-subj":"reloadIndicesButton"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.indexTable.reloadIndicesButton",defaultMessage:"Reload indices"}))))),this.renderFilterError(),Object(Y.jsx)(W.EuiSpacer,{size:"m"}),t.length>0?Object(Y.jsx)("div",{style:{maxWidth:"100%",overflow:"auto"}},Object(Y.jsx)(W.EuiTable,{className:"indTable","data-test-subj":"indexTable"},Object(Y.jsx)(W.EuiScreenReaderOnly,null,Object(Y.jsx)("caption",{role:"status","aria-relevant":"text","aria-live":"polite"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.indexTable.captionText",defaultMessage:"Below is the indices table containing {count, plural, one {# row} other {# rows}} out of {total}.",values:{count:t.length,total:o.totalItems}}))),Object(Y.jsx)(W.EuiTableHeader,null,Object(Y.jsx)(W.EuiTableHeaderCellCheckbox,null,Object(Y.jsx)(W.EuiCheckbox,{id:"selectAllIndexes",checked:this.areAllItemsSelected(),onChange:this.toggleAll,type:"inList","aria-label":i.i18n.translate("xpack.idxMgmt.indexTable.selectAllIndicesAriaLabel",{defaultMessage:"Select all rows"})})),this.buildHeader()),Object(Y.jsx)(W.EuiTableBody,null,this.buildRows(u)))):Object(Y.jsx)(ut,null),Object(Y.jsx)(W.EuiSpacer,{size:"m"}),t.length>0?this.renderPager():null)}))}}const gs=Object(rt.withRouter)(Object(Ye.connect)(((e,t)=>({allIndices:Nn(e),isDetailPanelOpen:Ln(e),detailPanelIndexName:wn(e),indices:Gn(e,t),pager:Hn(e,t),filter:Jn(e),sortField:Kn(e),isSortAscending:Yn(e),indicesLoading:Dn(e),indicesError:Pn(e),toggleNameToVisibleMap:zn(e).toggleNameToVisibleMap})),(e=>({filterChanged:t=>{e(dn({filter:t}))},pageChanged:t=>{e(un({pageNumber:t}))},pageSizeChanged:t=>{e(pn({pageSize:t}))},sortChanged:(t,a)=>{e(mn({sortField:t,isSortAscending:a}))},toggleChanged:(t,a)=>{e(gn({toggleName:t,toggleValue:a}))},openDetailPanel:t=>{e(bn({indexName:t}))},closeDetailPanel:()=>{e(hn())},loadIndices:()=>{e(Ki())},reloadIndices:(t,a)=>{e(cn(t,a))}})))(index_table_IndexTable)),fs=({history:e})=>Object(Y.jsx)("div",{className:`${Qe.APP_WRAPPER_CLASS} im-snapshotTestSubject`,"data-test-subj":"indicesList"},Object(Y.jsx)(gs,{history:e}),Object(Y.jsx)(ps,null)),xs=e=>{const{legacy:t}=Object(yn.parse)(e.search.substring(1));return!(!Boolean(t)||"string"!=typeof t)&&"true"===t},bs={managed:i.i18n.translate("xpack.idxMgmt.templateBadgeType.managed",{defaultMessage:"Managed"}),cloudManaged:i.i18n.translate("xpack.idxMgmt.templateBadgeType.cloudManaged",{defaultMessage:"Cloud-managed"}),system:i.i18n.translate("xpack.idxMgmt.templateBadgeType.system",{defaultMessage:"System"})},hs=({templateType:e})=>"default"===e?null:Object(Y.jsx)(W.EuiBadge,{color:"hollow","data-test-subj":"templateTypeBadge"},bs[e]),js=({templates:e,reload:t,editTemplate:a,cloneTemplate:n,history:s})=>{const{uiMetricService:r}=st(),[o,l]=Object(q.useState)([]),[c,d]=Object(q.useState)([]),u=[{field:"name",name:i.i18n.translate("xpack.idxMgmt.templateList.table.nameColumnTitle",{defaultMessage:"Name"}),truncateText:!0,sortable:!0,render:(e,t)=>Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiLink,lt()({},Object(fe.reactRouterNavigate)(s,Object(ct.d)(e),(()=>r.trackMetric(Le.METRIC_TYPE.CLICK,D))),{"data-test-subj":"templateDetailsLink"}),e),"",Object(Y.jsx)(hs,{templateType:t._kbnMeta.type}))},{field:"indexPatterns",name:i.i18n.translate("xpack.idxMgmt.templateList.table.indexPatternsColumnTitle",{defaultMessage:"Index patterns"}),truncateText:!0,sortable:!0,render:e=>Object(Y.jsx)("strong",null,e.join(", "))},{field:"composedOf",name:i.i18n.translate("xpack.idxMgmt.templateList.table.componentsColumnTitle",{defaultMessage:"Components"}),truncateText:!0,sortable:!0,render:(e=[])=>Object(Y.jsx)("span",null,e.join(", "))},{name:i.i18n.translate("xpack.idxMgmt.templateList.table.dataStreamColumnTitle",{defaultMessage:"Data stream"}),truncateText:!0,render:e=>e._kbnMeta.hasDatastream?Object(Y.jsx)(W.EuiIcon,{type:"check"}):null},{name:i.i18n.translate("xpack.idxMgmt.templateList.table.contentColumnTitle",{defaultMessage:"Content"}),width:"120px",render:e=>Object(Y.jsx)(Et,{mappings:e.hasMappings,settings:e.hasSettings,aliases:e.hasAliases,contentWhenEmpty:Object(Y.jsx)("em",null,i.i18n.translate("xpack.idxMgmt.templateList.table.noneDescriptionText",{defaultMessage:"None"}))})},{name:i.i18n.translate("xpack.idxMgmt.templateList.table.actionColumnTitle",{defaultMessage:"Actions"}),width:"120px",actions:[{name:i.i18n.translate("xpack.idxMgmt.templateList.table.actionEditText",{defaultMessage:"Edit"}),isPrimary:!0,description:i.i18n.translate("xpack.idxMgmt.templateList.table.actionEditDecription",{defaultMessage:"Edit this template"}),icon:"pencil",type:"icon",onClick:({name:e})=>{a(e)},enabled:({_kbnMeta:{type:e}})=>"cloudManaged"!==e},{type:"icon",name:i.i18n.translate("xpack.idxMgmt.templateList.table.actionCloneTitle",{defaultMessage:"Clone"}),description:i.i18n.translate("xpack.idxMgmt.templateList.table.actionCloneDescription",{defaultMessage:"Clone this template"}),icon:"copy",onClick:({name:e})=>{n(e)}},{name:i.i18n.translate("xpack.idxMgmt.templateList.table.actionDeleteText",{defaultMessage:"Delete"}),description:i.i18n.translate("xpack.idxMgmt.templateList.table.actionDeleteDecription",{defaultMessage:"Delete this template"}),icon:"trash",color:"danger",type:"icon",onClick:({name:e,_kbnMeta:{isLegacy:t}})=>{d([{name:e,isLegacy:t}])},isPrimary:!0,enabled:({_kbnMeta:{type:e}})=>"cloudManaged"!==e}]}],p={onSelectionChange:l,selectable:({_kbnMeta:{type:e}})=>"cloudManaged"!==e,selectableMessage:e=>e?"":i.i18n.translate("xpack.idxMgmt.templateList.table.deleteCloudManagedTemplateTooltip",{defaultMessage:"You cannot delete a cloud-managed template."})},m={box:{incremental:!0},toolsLeft:o.length>0?Object(Y.jsx)(W.EuiButton,{"data-test-subj":"deleteTemplatesButton",onClick:()=>d(o.map((({name:e,_kbnMeta:{isLegacy:t}})=>({name:e,isLegacy:t})))),color:"danger"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateList.table.deleteTemplatesButtonLabel",defaultMessage:"Delete {count, plural, one {template} other {templates} }",values:{count:o.length}})):void 0,toolsRight:[Object(Y.jsx)(W.EuiButton,lt()({iconType:"plusInCircle","data-test-subj":"createTemplateButton",key:"createTemplateButton",fill:!0},Object(fe.reactRouterNavigate)(s,"/create_template")),Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateList.table.createTemplatesButtonLabel",defaultMessage:"Create template"}))]};return Object(Y.jsx)(q.Fragment,null,c&&c.length>0?Object(Y.jsx)(mt,{callback:e=>{e&&e.hasDeletedTemplates&&(t(),s.push("templates")),d([])},templatesToDelete:c}):null,Object(Y.jsx)(W.EuiInMemoryTable,{items:e||[],itemId:"name",columns:u,search:m,sorting:{sort:{field:"name",direction:"asc"}},isSelectable:!0,selection:p,pagination:{initialPageSize:20,pageSizeOptions:[10,20,50]},rowProps:()=>({"data-test-subj":"row"}),cellProps:()=>({"data-test-subj":"cell"}),"data-test-subj":"templateTable",message:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateList.table.noIndexTemplatesMessage",defaultMessage:"No index templates found"})}))},Ms={yes:i.i18n.translate("xpack.idxMgmt.templateDetails.summaryTab.yesDescriptionText",{defaultMessage:"Yes"}),no:i.i18n.translate("xpack.idxMgmt.templateDetails.summaryTab.noDescriptionText",{defaultMessage:"No"}),none:i.i18n.translate("xpack.idxMgmt.templateDetails.summaryTab.noneDescriptionText",{defaultMessage:"None"})},ys=({templateDetails:e})=>{const{version:t,priority:a,composedOf:i,order:n,indexPatterns:s=[],ilmPolicy:r,_meta:o,_kbnMeta:{isLegacy:l,hasDatastream:c}}=e,d=s.length,u=ki(Ti,null==r?void 0:r.name);return Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiFlexGroup,{"data-test-subj":"summaryTab"},Object(Y.jsx)(W.EuiFlexItem,null,Object(Y.jsx)(W.EuiDescriptionList,{textStyle:"reverse"},Object(Y.jsx)(W.EuiDescriptionListTitle,null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.indexPatternsDescriptionListTitle",defaultMessage:"Index {numIndexPatterns, plural, one {pattern} other {patterns}}",values:{numIndexPatterns:d}})),Object(Y.jsx)(W.EuiDescriptionListDescription,null,d>1?Object(Y.jsx)(W.EuiText,null,Object(Y.jsx)("ul",null,s.map(((e,t)=>Object(Y.jsx)("li",{key:`${e}-${t}`},Object(Y.jsx)(W.EuiTitle,{size:"xs"},Object(Y.jsx)("span",null,e))))))):s.toString()),!0!==l?Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiDescriptionListTitle,null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.priorityDescriptionListTitle",defaultMessage:"Priority"})),Object(Y.jsx)(W.EuiDescriptionListDescription,null,a||0===a?a:Ms.none)):Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiDescriptionListTitle,null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.orderDescriptionListTitle",defaultMessage:"Order"})),Object(Y.jsx)(W.EuiDescriptionListDescription,null,n||0===n?n:Ms.none)),!0!==l&&Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiDescriptionListTitle,{"data-test-subj":"componentsTitle"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.componentsDescriptionListTitle",defaultMessage:"Component templates"})),Object(Y.jsx)(W.EuiDescriptionListDescription,null,i&&i.length>0?Object(Y.jsx)("ul",null,i.map((e=>Object(Y.jsx)("li",{key:e},Object(Y.jsx)(W.EuiTitle,{size:"xs"},Object(Y.jsx)("span",null,e)))))):Ms.none)))),Object(Y.jsx)(W.EuiFlexItem,null,Object(Y.jsx)(W.EuiDescriptionList,{textStyle:"reverse"},l&&Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiDescriptionListTitle,null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.ilmPolicyDescriptionListTitle",defaultMessage:"ILM policy"})),Object(Y.jsx)(W.EuiDescriptionListDescription,null,null!=r&&r.name&&u?Object(Y.jsx)(W.EuiLink,{href:u},r.name):(null==r?void 0:r.name)||Ms.none)),!0!==l&&Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiDescriptionListTitle,null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.dataStreamDescriptionListTitle",defaultMessage:"Data stream"})),Object(Y.jsx)(W.EuiDescriptionListDescription,null,c?Ms.yes:Ms.no)),Object(Y.jsx)(W.EuiDescriptionListTitle,null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.versionDescriptionListTitle",defaultMessage:"Version"})),Object(Y.jsx)(W.EuiDescriptionListDescription,null,t||0===t?t:Ms.none)))),Object(Y.jsx)(W.EuiSpacer,{size:"m"}),Object(Y.jsx)(W.EuiDescriptionList,{textStyle:"reverse"},!0!==l&&o&&Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiDescriptionListTitle,{"data-test-subj":"metaTitle"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.metaDescriptionListTitle",defaultMessage:"Metadata"})),Object(Y.jsx)(W.EuiDescriptionListDescription,null,Object(Y.jsx)(W.EuiCodeBlock,{lang:"json"},JSON.stringify(o,null,2))))))},Os=({templateDetails:e})=>Object(Y.jsx)("div",{"data-test-subj":"previewTabContent"},Object(Y.jsx)(W.EuiText,null,Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.previewTab.descriptionText",defaultMessage:"This is the final template that will be applied to matching indices."}))),Object(Y.jsx)(W.EuiSpacer,{size:"m"}),Object(Y.jsx)(Ft,{template:e})),vs="summary",Ts="mappings",Es="aliases",ks="settings",Fs="preview",_s=[{id:vs,name:i.i18n.translate("xpack.idxMgmt.templateDetails.summaryTabTitle",{defaultMessage:"Summary"})},{id:ks,name:i.i18n.translate("xpack.idxMgmt.templateDetails.settingsTabTitle",{defaultMessage:"Settings"})},{id:Ts,name:i.i18n.translate("xpack.idxMgmt.templateDetails.mappingsTabTitle",{defaultMessage:"Mappings"})},{id:Es,name:i.i18n.translate("xpack.idxMgmt.templateDetails.aliasesTabTitle",{defaultMessage:"Aliases"})},{id:Fs,name:i.i18n.translate("xpack.idxMgmt.templateDetails.previewTabTitle",{defaultMessage:"Preview"})}],Ss={[vs]:"template_details_summary_tab",[ks]:"template_details_settings_tab",[Ts]:"template_details_mappings_tab",[Es]:"template_details_aliases_tab",[Fs]:"template_details_preview_tab"},Cs=({template:{name:e,isLegacy:t},onClose:a,editTemplate:n,cloneTemplate:s,reload:r})=>{const{uiMetricService:o}=st(),{error:l,data:c,isLoading:d}=Lc(e,t),u="cloudManaged"===(null==c?void 0:c._kbnMeta.type),[p,m]=Object(q.useState)([]),[g,f]=Object(q.useState)(vs),[x,b]=Object(q.useState)(!1);return Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiFlyoutHeader,null,Object(Y.jsx)(W.EuiTitle,{size:"m"},Object(Y.jsx)("h2",{id:"templateDetailsFlyoutTitle","data-test-subj":"title"},e,c&&Object(Y.jsx)($.a.Fragment,null,"",Object(Y.jsx)(hs,{templateType:c._kbnMeta.type}))))),Object(Y.jsx)(W.EuiFlyoutBody,{"data-test-subj":"content"},(()=>{if(d)return Object(Y.jsx)(me.SectionLoading,null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.loadingIndexTemplateDescription",defaultMessage:"Loading template"}));if(l)return Object(Y.jsx)(dt,{title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.loadingIndexTemplateErrorMessage",defaultMessage:"Error loading template"}),error:l,"data-test-subj":"sectionError"});if(c){const{template:{settings:e,mappings:a,aliases:i}={}}=c,n={[vs]:Object(Y.jsx)(ys,{templateDetails:c}),[ks]:Object(Y.jsx)(xt,{settings:e}),[Ts]:Object(Y.jsx)(ft,{mappings:a}),[Es]:Object(Y.jsx)(gt,{aliases:i}),[Fs]:Object(Y.jsx)(Os,{templateDetails:c})}[g],s=u&&Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiCallOut,{title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.cloudManagedTemplateInfoTitle",defaultMessage:"Editing a cloud-managed template is not permitted."}),color:"primary",size:"s"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.cloudManagedTemplateInfoDescription",defaultMessage:"Cloud-managed templates are critical for internal operations."})),Object(Y.jsx)(W.EuiSpacer,{size:"m"}));return Object(Y.jsx)($.a.Fragment,null,s,Object(Y.jsx)(W.EuiTabs,null,_s.filter((e=>!t||e.id!==Fs)).map((e=>Object(Y.jsx)(W.EuiTab,{onClick:()=>{o.trackMetric(Le.METRIC_TYPE.CLICK,Ss[e.id]),f(e.id)},isSelected:e.id===g,key:e.id,"data-test-subj":"tab"},e.name)))),Object(Y.jsx)(W.EuiSpacer,{size:"l"}),n)}})()),Object(Y.jsx)(W.EuiFlyoutFooter,null,Object(Y.jsx)(W.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiButtonEmpty,{iconType:"cross",flush:"left",onClick:a,"data-test-subj":"closeDetailsButton"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.closeButtonLabel",defaultMessage:"Close"}))),c&&Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiPopover,{id:"manageTemplatePanel",button:Object(Y.jsx)(W.EuiButton,{fill:!0,"data-test-subj":"manageTemplateButton",iconType:"arrowDown",iconSide:"right",onClick:()=>b((e=>!e))},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.manageButtonLabel",defaultMessage:"Manage"})),isOpen:x,closePopover:()=>b(!1),panelPaddingSize:"none",anchorPosition:"rightUp",repositionOnScroll:!0},Object(Y.jsx)(W.EuiContextMenu,{initialPanelId:0,panels:[{id:0,title:i.i18n.translate("xpack.idxMgmt.templateDetails.manageContextMenuPanelTitle",{defaultMessage:"Template options"}),items:[{name:i.i18n.translate("xpack.idxMgmt.templateDetails.editButtonLabel",{defaultMessage:"Edit"}),icon:"pencil",onClick:()=>n(e,t),disabled:u},{name:i.i18n.translate("xpack.idxMgmt.templateDetails.cloneButtonLabel",{defaultMessage:"Clone"}),icon:"copy",onClick:()=>s(e,t)},{name:i.i18n.translate("xpack.idxMgmt.templateDetails.deleteButtonLabel",{defaultMessage:"Delete"}),icon:"trash",onClick:()=>m([{name:e,isLegacy:t}]),disabled:u}]}]}))))),p&&p.length>0?Object(Y.jsx)(mt,{callback:e=>{e&&e.hasDeletedTemplates?r():m([]),a()},templatesToDelete:p}):null)},Ls=e=>Object(Y.jsx)(W.EuiFlyout,{onClose:e.onClose,"data-test-subj":"templateDetails","aria-labelledby":"templateDetailsFlyoutTitle"},Object(Y.jsx)(Cs,e)),ws=({templates:e,reload:t,editTemplate:a,cloneTemplate:n,history:s})=>{const{uiMetricService:r}=st(),[o,l]=Object(q.useState)([]),[c,d]=Object(q.useState)([]),u=[{field:"name",name:i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.nameColumnTitle",{defaultMessage:"Name"}),truncateText:!0,sortable:!0,render:(e,t)=>Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiLink,lt()({},Object(fe.reactRouterNavigate)(s,Object(ct.d)(e,Boolean(t._kbnMeta.isLegacy)),(()=>r.trackMetric(Le.METRIC_TYPE.CLICK,D))),{"data-test-subj":"templateDetailsLink"}),e),"",Object(Y.jsx)(hs,{templateType:t._kbnMeta.type}))},{field:"indexPatterns",name:i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.indexPatternsColumnTitle",{defaultMessage:"Index patterns"}),truncateText:!0,sortable:!0,render:e=>Object(Y.jsx)("strong",null,e.join(", "))},{field:"ilmPolicy",name:i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.ilmPolicyColumnTitle",{defaultMessage:"ILM policy"}),truncateText:!0,sortable:!0,render:e=>e&&e.name?Object(Y.jsx)("span",{title:i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.ilmPolicyColumnDescription",{defaultMessage:"'{policyName}' index lifecycle policy",values:{policyName:e.name}})},e.name):null},{name:i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.contentColumnTitle",{defaultMessage:"Content"}),width:"120px",render:e=>Object(Y.jsx)(Et,{mappings:e.hasMappings,settings:e.hasSettings,aliases:e.hasAliases,contentWhenEmpty:Object(Y.jsx)("em",null,i.i18n.translate("xpack.idxMgmt.templateList.table.noneDescriptionText",{defaultMessage:"None"}))})},{name:i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.actionColumnTitle",{defaultMessage:"Actions"}),width:"120px",actions:[{name:i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.actionEditText",{defaultMessage:"Edit"}),isPrimary:!0,description:i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.actionEditDecription",{defaultMessage:"Edit this template"}),icon:"pencil",type:"icon",onClick:({name:e})=>{a(e,!0)},enabled:({_kbnMeta:{type:e}})=>"cloudManaged"!==e},{type:"icon",name:i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.actionCloneTitle",{defaultMessage:"Clone"}),description:i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.actionCloneDescription",{defaultMessage:"Clone this template"}),icon:"copy",onClick:({name:e})=>{n(e,!0)}},{name:i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.actionDeleteText",{defaultMessage:"Delete"}),description:i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.actionDeleteDecription",{defaultMessage:"Delete this template"}),icon:"trash",color:"danger",type:"icon",onClick:({name:e,_kbnMeta:{isLegacy:t}})=>{d([{name:e,isLegacy:t}])},isPrimary:!0,enabled:({_kbnMeta:{type:e}})=>"cloudManaged"!==e}]}],p={onSelectionChange:l,selectable:({_kbnMeta:{type:e}})=>"cloudManaged"!==e,selectableMessage:e=>e?"":i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.deleteCloudManagedTemplateTooltip",{defaultMessage:"You cannot delete a cloud-managed template."})},m={box:{incremental:!0},toolsLeft:o.length>0?Object(Y.jsx)(W.EuiButton,{"data-test-subj":"deleteTemplatesButton",onClick:()=>d(o.map((({name:e,_kbnMeta:{isLegacy:t}})=>({name:e,isLegacy:t})))),color:"danger"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateList.legacyTable.deleteTemplatesButtonLabel",defaultMessage:"Delete {count, plural, one {template} other {templates} }",values:{count:o.length}})):void 0,toolsRight:[Object(Y.jsx)(W.EuiButton,lt()({iconType:"plusInCircle","data-test-subj":"createLegacyTemplateButton",key:"createTemplateButton"},Object(fe.reactRouterNavigate)(s,{pathname:"/create_template",search:"legacy=true"})),Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateList.legacyTable.createLegacyTemplatesButtonLabel",defaultMessage:"Create legacy template"}))]};return Object(Y.jsx)(q.Fragment,null,c&&c.length>0?Object(Y.jsx)(mt,{callback:e=>{e&&e.hasDeletedTemplates&&(t(),s.push("templates")),d([])},templatesToDelete:c}):null,Object(Y.jsx)(W.EuiInMemoryTable,{items:e||[],itemId:"name",columns:u,search:m,sorting:{sort:{field:"name",direction:"asc"}},isSelectable:!0,selection:p,pagination:{initialPageSize:20,pageSizeOptions:[10,20,50]},rowProps:()=>({"data-test-subj":"row"}),cellProps:()=>({"data-test-subj":"cell"}),"data-test-subj":"legacyTemplateTable",message:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateList.legacyTable.noLegacyIndexTemplatesMessage",defaultMessage:"No legacy index templates found"})}))};function Is(e,t){return e.filter((e=>"default"===e._kbnMeta.type||t.includes(e._kbnMeta.type)))}const Ds=({match:{params:{templateName:e}},location:t,history:a})=>{const{uiMetricService:s}=st(),{error:r,isLoading:o,data:l,resendRequest:c}=_c({path:`${n}/index_templates`,method:"get"}),[d,u]=Object(q.useState)({managed:{name:i.i18n.translate("xpack.idxMgmt.indexTemplatesList.viewManagedTemplateLabel",{defaultMessage:"Managed templates"}),checked:"on"},cloudManaged:{name:i.i18n.translate("xpack.idxMgmt.indexTemplatesList.viewCloudManagedTemplateLabel",{defaultMessage:"Cloud-managed templates"}),checked:"off"},system:{name:i.i18n.translate("xpack.idxMgmt.indexTemplatesList.viewSystemTemplateLabel",{defaultMessage:"System templates"}),checked:"off"}}),p=Object(q.useMemo)((()=>{if(!l)return{templates:[],legacyTemplates:[]};const e=Object.entries(d).filter((([e,t])=>"on"===t.checked)).map((([e])=>e));return{templates:Is(l.templates,e),legacyTemplates:Is(l.legacyTemplates,e)}}),[l,d]),m=Boolean(e)?{name:Object(me.attemptToURIDecode)(e),isLegacy:xs(t)}:null,g=null!==m,f=l&&(l.legacyTemplates.length>0||l.templates.length>0),x=()=>{a.push(Object(ct.f)())},b=(e,t)=>{a.push(Object(ct.e)(e,t))},h=(e,t)=>{a.push(Object(ct.c)(e,t))};let j;return Object(q.useEffect)((()=>{s.trackMetric(Le.METRIC_TYPE.LOADED,"template_list_load")}),[s]),j=o?Object(Y.jsx)(me.PageLoading,null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.indexTemplatesList.loadingIndexTemplatesDescription",defaultMessage:"Loading templates"})):r?Object(Y.jsx)(me.PageError,{title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.indexTemplatesList.loadingIndexTemplatesErrorMessage",defaultMessage:"Error loading templates"}),error:r}):f?Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiFlexGroup,{alignItems:"center",gutterSize:"s",style:{flexGrow:0}},Object(Y.jsx)(W.EuiFlexItem,{grow:!0},Object(Y.jsx)(W.EuiText,{color:"subdued"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.home.indexTemplatesDescription",defaultMessage:"Use composable index templates to automatically apply settings, mappings, and aliases to indices. {learnMoreLink}",values:{learnMoreLink:Object(Y.jsx)(W.EuiLink,{href:Ce.getTemplatesDocumentationLink(),target:"_blank",external:!0},i.i18n.translate("xpack.idxMgmt.home.indexTemplatesDescription.learnMoreLinkText",{defaultMessage:"Learn more."}))}}))),Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(Si,{filters:d,onChange:u})),Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiButton,{color:"secondary",iconType:"refresh",onClick:c,"data-test-subj":"reloadButton",key:"reloadButton"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateList.table.reloadTemplatesButtonLabel",defaultMessage:"Reload"})))),Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiSpacer,{size:"l"}),Object(Y.jsx)(js,{templates:p.templates,reload:c,editTemplate:b,cloneTemplate:h,history:a})),p.legacyTemplates.length>0&&Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiSpacer,{size:"xl"}),Object(Y.jsx)(W.EuiTitle,{size:"s"},Object(Y.jsx)("h1",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.home.legacyIndexTemplatesTitle",defaultMessage:"Legacy index templates"}))),Object(Y.jsx)(W.EuiSpacer,{size:"s"}),Object(Y.jsx)(wt,null),Object(Y.jsx)(W.EuiSpacer,{size:"m"}),Object(Y.jsx)(ws,{templates:p.legacyTemplates,reload:c,editTemplate:b,cloneTemplate:h,history:a})),g&&Object(Y.jsx)(Ls,{template:m,onClose:x,editTemplate:b,cloneTemplate:h,reload:c})):Object(Y.jsx)(W.EuiEmptyPrompt,{iconType:"managementApp",title:Object(Y.jsx)("h1",{"data-test-subj":"title"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.indexTemplatesList.emptyPrompt.noIndexTemplatesTitle",defaultMessage:"Create your first index template"})),body:Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.indexTemplatesList.emptyPrompt.noIndexTemplatesDescription",defaultMessage:"An index template automatically applies settings, mappings, and aliases to new indices."}))),actions:Object(Y.jsx)(W.EuiButton,lt()({},Object(fe.reactRouterNavigate)(a,"/create_template"),{fill:!0,iconType:"plusInCircle"}),Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.indexTemplatesList.emptyPrompt.createTemplatesButtonLabel",defaultMessage:"Create template"})),"data-test-subj":"emptyPrompt"}),Object(Y.jsx)("div",{"data-test-subj":"templateList",className:Qe.APP_WRAPPER_CLASS},j)};let Ps;!function(e){e.Indices="indices",e.DataStreams="data_streams",e.IndexTemplates="templates",e.ComponentTemplates="component_templates"}(Ps||(Ps={}));const Ns=[Ps.Indices,Ps.DataStreams,Ps.IndexTemplates,Ps.ComponentTemplates],As=({match:{params:{section:e}},history:t})=>{const a=[{id:Ps.Indices,name:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.home.indicesTabTitle",defaultMessage:"Indices"})},{id:Ps.DataStreams,name:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.home.dataStreamsTabTitle",defaultMessage:"Data Streams"})},{id:Ps.IndexTemplates,name:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.home.indexTemplatesTabTitle",defaultMessage:"Index Templates"})},{id:Ps.ComponentTemplates,name:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplatesTabTitle",defaultMessage:"Component Templates"})}];return Object(q.useEffect)((()=>{B.setBreadcrumbs("home")}),[]),Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiPageHeader,{"data-test-subj":"indexManagementHeaderContent",pageTitle:Object(Y.jsx)("span",{"data-test-subj":"appTitle"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.home.appTitle",defaultMessage:"Index Management"})),bottomBorder:!0,rightSideItems:[Object(Y.jsx)(W.EuiButtonEmpty,{href:Ce.getIdxMgmtDocumentationLink(),target:"_blank",iconType:"help","data-test-subj":"documentationLink"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.home.idxMgmtDocsLinkText",defaultMessage:"Index Management docs"}))],tabs:a.map((a=>({onClick:()=>{return e=a.id,void t.push(`/${e}`);var e},isSelected:a.id===e,key:a.id,"data-test-subj":`${a.id}Tab`,label:a.name})))}),Object(Y.jsx)(W.EuiSpacer,{size:"l"}),Object(Y.jsx)(rt.Switch,null,Object(Y.jsx)(rt.Route,{exact:!0,path:[`/${Ps.DataStreams}`,`/${Ps.DataStreams}/:dataStreamName?`],component:Ci}),Object(Y.jsx)(rt.Route,{exact:!0,path:`/${Ps.Indices}`,component:fs}),Object(Y.jsx)(rt.Route,{exact:!0,path:[`/${Ps.IndexTemplates}`,`/${Ps.IndexTemplates}/:templateName?`],component:Ds}),Object(Y.jsx)(rt.Route,{exact:!0,path:[`/${Ps.ComponentTemplates}`,`/${Ps.ComponentTemplates}/:componentTemplateName?`],component:ma})))},Rs=({history:e})=>{const[t,a]=Object(q.useState)(!1),[i,n]=Object(q.useState)(null),s=Object(yn.parse)(Object(rt.useLocation)().search.substring(1)),r=Boolean(s.legacy);return Object(q.useEffect)((()=>{B.setBreadcrumbs("templateCreate")}),[]),Object(Y.jsx)(W.EuiPageContentBody,{restrictWidth:!0,style:{width:"100%"}},Object(Y.jsx)(ci,{title:r?Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.createTemplate.createLegacyTemplatePageTitle",defaultMessage:"Create legacy template"}):Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.createTemplate.createTemplatePageTitle",defaultMessage:"Create template"}),onSave:async t=>{const{name:i}=t;a(!0),n(null);const{error:s}=await wc(t);a(!1),s?n(s):e.push(Object(ct.d)(i,t._kbnMeta.isLegacy))},isSaving:t,saveError:i,clearSaveError:()=>{n(null)},isLegacy:r,history:e}))},zs=({match:{params:{name:e}},location:t,history:a})=>{const i=Object(me.attemptToURIDecode)(e),n=xs(t),[s,r]=Object(q.useState)(!1),[o,l]=Object(q.useState)(null),{error:c,data:d,isLoading:u}=Lc(i,n);if(Object(q.useEffect)((()=>{B.setBreadcrumbs("templateClone")}),[]),u)return Object(Y.jsx)(me.PageLoading,null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateCreate.loadingTemplateToCloneDescription",defaultMessage:"Loading template to clone"}));if(c)return Object(Y.jsx)(me.PageError,{title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateCreate.loadingTemplateToCloneErrorMessage",defaultMessage:"Error loading template to clone"}),error:c,"data-test-subj":"sectionError"});const p={...d,name:`${i}-copy`};return Object(Y.jsx)(W.EuiPageContentBody,{restrictWidth:!0,style:{width:"100%"}},Object(Y.jsx)(ci,{title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.createTemplate.cloneTemplatePageTitle",defaultMessage:"Clone template '{name}'",values:{name:i}}),defaultValue:p,onSave:async e=>{r(!0),l(null);const{error:t}=await wc(e,!0),{name:i}=e;r(!1),t?l(t):a.push(Object(ct.d)(i,e._kbnMeta.isLegacy))},isSaving:s,saveError:o,clearSaveError:()=>{l(null)},isLegacy:n,history:a}))},Bs=({match:{params:{name:e}},location:t,history:a})=>{const s=Object(me.attemptToURIDecode)(e),r=xs(t),[o,l]=Object(q.useState)(!1),[c,d]=Object(q.useState)(null),{error:u,data:p,isLoading:m}=Lc(s,r);Object(q.useEffect)((()=>{B.setBreadcrumbs("templateEdit")}),[]);let g;if(m)return Object(Y.jsx)(me.PageLoading,null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateEdit.loadingIndexTemplateDescription",defaultMessage:"Loading template"}));if(u)return Object(Y.jsx)(me.PageError,{title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateEdit.loadingIndexTemplateErrorMessage",defaultMessage:"Error loading template"}),error:u,"data-test-subj":"sectionError"});if(p){const{name:e,_kbnMeta:{type:t}}=p;if(g=e&&e.startsWith("."),"cloudManaged"===t)return Object(Y.jsx)(me.PageError,{title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateEdit.managedTemplateWarningTitle",defaultMessage:"Editing a managed template is not permitted"}),error:{message:i.i18n.translate("xpack.idxMgmt.templateEdit.managedTemplateWarningDescription",{defaultMessage:"Managed templates are critical for internal operations."})},"data-test-subj":"systemTemplateEditCallout"})}return Object(Y.jsx)(W.EuiPageContentBody,{restrictWidth:!0,style:{width:"100%"}},g&&Object(Y.jsx)(q.Fragment,null,Object(Y.jsx)(W.EuiCallOut,{title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateEdit.systemTemplateWarningTitle",defaultMessage:"Editing a system template can break Kibana"}),color:"danger",iconType:"alert","data-test-subj":"systemTemplateEditCallout"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.templateEdit.systemTemplateWarningDescription",defaultMessage:"System templates are critical for internal operations."})),Object(Y.jsx)(W.EuiSpacer,{size:"l"})),Object(Y.jsx)(ci,{title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.editTemplate.editTemplatePageTitle",defaultMessage:"Edit template '{name}'",values:{name:s}}),defaultValue:p,onSave:async e=>{l(!0),d(null);const{error:t}=await async function(e){var t;const a=Ml(null===(t=e.template)||void 0===t?void 0:t.mappings),{name:i}=e,s=await Fc({path:`${n}/index_templates/${encodeURIComponent(i)}`,method:"put",body:JSON.stringify(e),query:{include_type_name:a}});return Sc.trackMetric(Le.METRIC_TYPE.COUNT,P),s}(e);l(!1),t?d(t):a.push(Object(ct.d)(s,e._kbnMeta.isLegacy))},isSaving:o,saveError:c,clearSaveError:()=>{d(null)},isEditing:!0,isLegacy:r,history:a}))},Vs=({history:e})=>{const{uiMetricService:t}=st();return Object(q.useEffect)((()=>t.trackMetric(Le.METRIC_TYPE.LOADED,"app_load")),[t]),Object(Y.jsx)(rt.Router,{history:e},Object(Y.jsx)(Us,null))},Us=()=>Object(Y.jsx)(rt.Switch,null,Object(Y.jsx)(rt.Route,{exact:!0,path:"/create_template",component:Rs}),Object(Y.jsx)(rt.Route,{exact:!0,path:"/clone_template/:name*",component:zs}),Object(Y.jsx)(rt.Route,{exact:!0,path:"/edit_template/:name*",component:Bs}),Object(Y.jsx)(rt.Route,{exact:!0,path:"/create_component_template",component:wa}),Object(Y.jsx)(rt.Route,{exact:!0,path:"/create_component_template/:sourceComponentTemplateName",component:Da}),Object(Y.jsx)(rt.Route,{exact:!0,path:"/edit_component_template/:name*",component:Ia}),Object(Y.jsx)(rt.Route,{path:`/:section(${Ns.join("|")})`,component:As}),Object(Y.jsx)(rt.Redirect,{from:"/",to:"/indices"}));var qs=a(54),$s=a(157),Ws=a.n($s);const Hs={filter:"",pageSize:10,currentPage:0,sortField:"index.name",isSortAscending:!0},Gs=Object(Pi.handleActions)({[dn](e,t){const{filter:a}=t.payload;return{...e,filter:a,currentPage:0}},[gn](e,t){const{toggleName:a,toggleValue:i}=t.payload,n={...e.toggleNameToVisibleMap};return n[a]=i,{...e,toggleNameToVisibleMap:n}},[mn](e,t){const{sortField:a,isSortAscending:i}=t.payload;return{...e,sortField:a,isSortAscending:i}},[un](e,t){const{pageNumber:a}=t.payload;return{...e,currentPage:a}},[pn](e,t){const{pageSize:a}=t.payload;return{...e,pageSize:a}}},Hs),Js={},Ys=e=>Object(Pi.handleActions)({[Vi](e,t){const{indexNames:a}=t.payload,{indexName:i}=e;return a.includes(i)?{}:e},[bn](t,a){const{panelType:i,indexName:n,title:s}=a.payload,r={[ji]:"detail_panel_summary_tab",[Mi]:"detail_panel_settings_tab",[yi]:"detail_panel_mapping_tab",[Oi]:"detail_panel_stats_tab",[vi]:"detail_panel_edit_settings_tab"};return r[i]&&e.trackMetric(Le.METRIC_TYPE.COUNT,r[i]),{panelType:i||t.panelType||ji,indexName:n,title:s}},[hn]:()=>({}),[Xi](e,t){const{data:a}=t.payload;return{...e,data:a}},[xn](e,t){const{error:a}=t.payload;return{...e,error:a}},[fn]:()=>({})},Js),Ks=Object(Pi.handleActions)({[Vi](e,t){const{indexNames:a}=t.payload,i={};return Object.values(e).forEach((e=>{a.includes(e.name)||(i[e.name]=e)})),i},[Ji](e,t){const{indices:a}=t.payload,i={};return a.forEach((e=>{i[e.name]=e})),i},[ln](e,t){const{indices:a}=t.payload,i={};return a.forEach((e=>{i[e.name]=e})),{...e,...i}}},{}),Xs=Object(Pi.handleActions)({[Vi](e,t){const{indexNames:a}=t.payload,i=[];return e.forEach((e=>{a.includes(e)||i.push(e)})),i},[Ji](e,t){const{indices:a}=t.payload;return a.map((e=>e.name))},[ln]:e=>e},[]),Zs=Object(Pi.handleActions)({[Gi]:()=>!0,[Ji]:()=>!1,[Yi]:()=>!1},!0),Qs=Object(Pi.handleActions)({[Yi]:(e,t)=>({...t.payload})},!1),er=Object(qs.combineReducers)({loading:Zs,error:Qs,byId:Ks,allIds:Xs}),tr=Object(Pi.handleActions)({[Ri](e,t){const{indexNames:a}=t.payload,i={...e};return a.forEach((e=>{delete i[e]})),i},[zi](e,t){const{indexNames:a}=t.payload,i={};return a.forEach((e=>{i[e]=o})),{...e,...i}},[Qi](e,t){const{indexNames:a}=t.payload,i={};return a.forEach((e=>{i[e]=l})),{...e,...i}},[tn](e,t){const{indexNames:a}=t.payload,i={};return a.forEach((e=>{i[e]=c})),{...e,...i}},[qi](e,t){const{indexNames:a}=t.payload,i={};return a.forEach((e=>{i[e]=d})),{...e,...i}},[Wi](e,t){const{indexNames:a}=t.payload,i={};return a.forEach((e=>{i[e]=u})),{...e,...i}},[Ni](e,t){const{indexNames:a}=t.payload,i={};return a.forEach((e=>{i[e]=p})),{...e,...i}},[ln](e,t){const{indices:a}=t.payload,i=a.reduce(((e,t)=>(e[t.name]=t,e)),{}),n={...e};for(const t in e)e[t]===o&&i[t].status===s&&delete n[t],e[t]===l&&i[t].status===r&&delete n[t],e[t]===c&&i[t].status===r&&delete n[t],e[t]===c&&i[t].status===s&&delete n[t],e[t]===d&&i[t].status===r&&delete n[t],e[t]===d&&i[t].status===s&&delete n[t],e[t]===u&&i[t].status===r&&delete n[t],e[t]===u&&i[t].status===s&&delete n[t],e[t]===p&&i[t].status===r&&delete n[t],e[t]===p&&i[t].status===s&&delete n[t];return n}},{});function ar(e){const t={};e.extensionsService.toggles.forEach((e=>{t[e.name]=!1}));const a={tableState:{...Hs,toggleNameToVisibleMap:t}},i=[Object(qs.applyMiddleware)(Ws.a)];return window.__REDUX_DEVTOOLS_EXTENSION__&&i.push(window.__REDUX_DEVTOOLS_EXTENSION__()),Object(qs.createStore)((({uiMetricService:e})=>Object(qs.combineReducers)({indices:er,rowStatus:tr,tableState:Gs,detailPanel:Ys(e)}))(e),a,Object(qs.compose)(...i))}const{GlobalFlyoutProvider:ir}=me.GlobalFlyout,nr=({children:e,padding:t="normal"})=>Object(Y.jsx)("div",{className:"euiCodeBlock euiCodeBlock--fontSmall euiCodeBlock--paddingLarge"},Object(Y.jsx)("pre",{className:"euiCodeBlock__pre",style:{padding:"small"===t?"6px 12px":void 0}},Object(Y.jsx)("code",{className:"euiCodeBlock__code"},e))),sr=({treeItem:e})=>Object(Y.jsx)("li",{className:"esUiTreeItem"},Object(Y.jsx)("div",{className:"esUiTreeItem__label"},e.label),e.children&&Object(Y.jsx)(rr,{tree:e.children})),rr=({tree:e})=>Object(Y.jsx)("ul",{className:"esUiTree"},e.map(((e,t)=>Object(Y.jsx)(sr,{key:t,treeItem:e})))),or=({fields:e})=>Object(Y.jsx)(nr,null,Object(Y.jsx)(rr,{tree:e})),lr=({title:e,childFields:t,aliases:a,byId:n,confirmButtonText:s,onCancel:r,onConfirm:o})=>{const l=t&&t.length?He(t,n,(e=>Object(Y.jsx)($.a.Fragment,null,e.source.name,e.isMultiField&&Object(Y.jsx)($.a.Fragment,null," ",Object(Y.jsx)(W.EuiBadge,{color:"hollow"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.deleteField.confirmationModal.multiFieldBadgeLabel",{defaultMessage:"{dataType} multi-field",values:{dataType:K[e.source.type].label}})))))):null;return Object(Y.jsx)(W.EuiConfirmModal,{title:e,onCancel:r,onConfirm:o,cancelButtonText:i.i18n.translate("xpack.idxMgmt.mappingsEditor.deleteField.confirmationModal.cancelButtonLabel",{defaultMessage:"Cancel"}),buttonColor:"danger",confirmButtonText:s},Object(Y.jsx)($.a.Fragment,null,l&&Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)("p",null,i.i18n.translate("xpack.idxMgmt.mappingsEditor.confirmationModal.deleteFieldsDescription",{defaultMessage:"This will also delete the following fields."})),Object(Y.jsx)(or,{fields:l})),a&&Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)("p",null,i.i18n.translate("xpack.idxMgmt.mappingsEditor.confirmationModal.deleteAliasesDescription",{defaultMessage:"The following aliases will also be deleted."})),Object(Y.jsx)("ul",null,a.map((e=>Object(Y.jsx)("li",{key:e},Object(Y.jsx)(W.EuiCode,null,e))))))))},cr=(e,t)=>{switch(e){case"boost":case"similarity":case"ignore_above":return void 0!==t[e]&&t[e]!==Ae(e).defaultValue;case"normalizer":case"copy_to":case"null_value":return void 0!==t[e];default:return!1}},dr=(e,t)=>{switch(e){case"copy_to":case"boost":case"meta":case"ignore_malformed":return void 0!==t[e]&&t[e]!==Ae(e).defaultValue;case"null_value":return void 0!==t.null_value&&""!==t.null_value;default:return!1}},ur=(e,t)=>{switch(e){case"boost":case"position_increment_gap":case"similarity":case"meta":case"term_vector":return void 0!==t[e]&&t[e]!==Ae(e).defaultValue;case"analyzers":return void 0!==t.search_analyzer&&t.search_analyzer!==t.analyzer;case"copy_to":return void 0!==t[e]&&""!==t[e];case"indexPrefixes":{if(void 0===t.index_prefixes)return!1;const e=t.index_prefixes.min_chars,a=Ae("index_prefixes","min_chars").defaultValue,i=t.index_prefixes.max_chars,n=Ae("index_prefixes","min_chars").defaultValue;return e!==a||i!==n}case"fielddata":return!0===t.fielddata||void 0!==t.fielddata_frequency_filter;default:return!1}},pr=$.a.memo((({field:e,kibanaVersion:t})=>Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(Wr,null,Object(Y.jsx)(eo,null)),Object(Y.jsx)(Gr,null,Object(Y.jsx)(po,{field:e,withSearchQuoteAnalyzer:!0}),Object(Y.jsx)(go,null),Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.indexPhrasesFieldTitle",{defaultMessage:"Index phrases"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.indexPhrasesFieldDescription",{defaultMessage:"Whether to index two-term word combinations into a separate field. Activating this will speed up phrase queries, but could slow down indexing."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.indexPhrasesDocLinkText",{defaultMessage:"Index phrases documentation"}),href:Ce.getIndexPhrasesLink()},formFieldPath:"index_phrases"}),Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.indexPrefixesFieldTitle",{defaultMessage:"Set index prefixes"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.indexPrefixesFieldDescription",{defaultMessage:"Whether to index prefixes of 2 and 5 characters into a separate field. Activating this will speed up prefix queries, but could slow down indexing."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.indexPrefixesDocLinkText",{defaultMessage:"Index prefixes documentation"}),href:Ce.getIndexPrefixesLink()},defaultToggleValue:ur("indexPrefixes",e.source)},Object(Y.jsx)(W.EuiFormRow,{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.indexPrefixesRangeFieldLabel",{defaultMessage:"Min/max prefix length"}),fullWidth:!0},Object(Y.jsx)(de.UseMultiFields,{fields:{min:{path:"index_prefixes.min_chars",config:Ae("index_prefixes","min_chars")},max:{path:"index_prefixes.max_chars",config:Ae("index_prefixes","max_chars")}}},(({min:e,max:t})=>{return Object(Y.jsx)(W.EuiDualRange,{min:0,max:20,value:[e.value,t.value],onChange:(a=e,i=t,([e,t])=>{a.setValue(e),i.setValue(t)}),showInput:!0,fullWidth:!0});var a,i})))),Object(Y.jsx)(fo,null),Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.positionIncrementGapFieldTitle",{defaultMessage:"Set position increment gap"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.positionIncrementGapFieldDescription",{defaultMessage:"The number of fake term positions which should be inserted between each element of an array of strings."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.positionIncrementGapDocLinkText",{defaultMessage:"Position increment gap documentation"}),href:Ce.getPositionIncrementGapLink()},defaultToggleValue:ur("position_increment_gap",e.source)},Object(Y.jsx)(de.FormDataProvider,{pathsToWatch:"index_options"},(e=>Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(de.UseField,{path:"position_increment_gap",config:Ae("position_increment_gap"),component:ue.RangeField,componentProps:{euiFieldProps:{min:0,max:200,showInput:!0,fullWidth:!0}}}),"positions"!==e.index_options&&"offsets"!==e.index_options&&Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiSpacer,{size:"s"}),Object(Y.jsx)(W.EuiCallOut,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.positionsErrorTitle",{defaultMessage:"Positions not enabled."}),color:"danger",iconType:"alert"},Object(Y.jsx)("p",null,i.i18n.translate("xpack.idxMgmt.mappingsEditor.positionsErrorMessage",{defaultMessage:'You need to set the index options (under the "Searchable" toggle) to "Positions" or "Offsets" in order to be able to change the position increment gap.'})))))))),Object(Y.jsx)(xo,{defaultToggleValue:ur("similarity",e.source)}),Object(Y.jsx)(Eo,{field:e,defaultToggleValue:ur("term_vector",e.source)}),Object(Y.jsx)(No,{field:e,defaultToggleValue:ur("fielddata",e.source)}),Object(Y.jsx)(To,{defaultToggleValue:ur("copy_to",e.source)}),Object(Y.jsx)(to,null),Object(Y.jsx)($o,{defaultToggleValue:ur("meta",e.source)}),t.major<8&&Object(Y.jsx)(io,{defaultToggleValue:ur("boost",e.source)}))))),mr=(e,t)=>{switch(e){case"meta":case"boost":return void 0!==t[e]&&t[e]!==Ae(e).defaultValue;case"null_value":return void 0!==t.null_value;default:return!1}},gr=[{value:0,text:'"true"'},{value:1,text:"true"},{value:2,text:'"false"'},{value:3,text:"false"}],fr=(e,t)=>void 0!==t[e]&&t[e]!==Ae(e).defaultValue,xr=(e,t)=>void 0!==t[e]&&t[e]!==Ae(e).defaultValue,br=(e,t)=>{switch(e){case"boost":return void 0!==t[e]&&t[e]!==Ae(e).defaultValue;case"null_value":return void 0!==t.null_value&&""!==t.null_value;default:return!1}},hr=(e,t)=>{switch(e){case"analyzer":case"meta":case"boost":return void 0!==t[e]&&t[e]!==Ae(e).defaultValue;case"null_value":return void 0!==t.null_value&&""!==t.null_value;default:return!1}},jr=(e,t)=>{switch(e){case"meta":case"max_input_length":return void 0!==t[e]&&t[e]!==Ae(e).defaultValue;case"analyzers":return void 0!==t.search_analyzer&&t.search_analyzer!==t.analyzer;default:return!1}},Mr=(e,t)=>{switch(e){case"meta":return void 0!==t[e]&&t[e]!==Ae(e).defaultValue;case"null_value":return void 0!==t.null_value;default:return!1}},yr=(e,t)=>{switch(e){case"locale":case"format":case"meta":case"boost":return void 0!==t[e]&&t[e]!==Ae(e).defaultValue;case"null_value":return void 0!==t.null_value&&""!==t.null_value;default:return!1}},Or=({field:e,kibanaVersion:t})=>Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(Wr,null,Object(Y.jsx)(eo,{hasIndexOptions:!1}),Object(Y.jsx)(Oo,{defaultValue:e.source.format,defaultToggleValue:yr("format",e.source)}),Object(Y.jsx)(vo,null)),Object(Y.jsx)(Gr,null,Object(Y.jsx)(Ro,{defaultToggleValue:yr("locale",e.source)}),Object(Y.jsx)(ao,null),Object(Y.jsx)(mo,{defaultToggleValue:yr("null_value",e.source),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dateType.nullValueFieldDescription",{defaultMessage:"Replace explicit null values with a date value so that it can be indexed and searched."})}),Object(Y.jsx)(to,null),Object(Y.jsx)($o,{defaultToggleValue:yr("meta",e.source)}),t.major<8&&Object(Y.jsx)(io,{defaultToggleValue:yr("boost",e.source)}))),vr=(e,t)=>{const{defaultValue:a}=Ae(e);switch(e){case"orientation":return void 0!==t[e]&&t[e]!==a;default:return void 0!==t[e]?t[e]:void 0!==a&&a}},Tr=(e,t)=>{switch(e){case"similarity":case"term_vector":case"meta":case"max_shingle_size":return void 0!==t[e]&&t[e]!==Ae(e).defaultValue;case"analyzers":return void 0!==t.search_analyzer&&t.search_analyzer!==t.analyzer;default:return!1}},Er=$.a.memo((({field:e})=>Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(Wr,null,Object(Y.jsx)(eo,{config:{...Ae("index_options"),defaultValue:"positions"}})),Object(Y.jsx)(Gr,null,Object(Y.jsx)(po,{field:e,withSearchQuoteAnalyzer:!0}),Object(Y.jsx)(Bo,{defaultToggleValue:Tr("max_shingle_size",e.source)}),Object(Y.jsx)(fo,null),Object(Y.jsx)(xo,{defaultToggleValue:Tr("similarity",e.source)}),Object(Y.jsx)(Eo,{field:e,defaultToggleValue:Tr("term_vector",e.source)}),Object(Y.jsx)(to,null),Object(Y.jsx)($o,{defaultToggleValue:Tr("meta",e.source)}))))),kr=(e,t)=>{switch(e){case"boost":case"ignore_above":case"meta":case"similarity":return void 0!==t[e]&&t[e]!==Ae(e).defaultValue;case"null_value":return void 0!==t.null_value&&""!==t.null_value;default:return!1}},Fr=$.a.memo((({field:e,kibanaVersion:t})=>Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(Wr,null,Object(Y.jsx)(eo,{config:Ae("index_options_flattened"),indexOptions:se.index_options_flattened})),Object(Y.jsx)(Gr,null,Object(Y.jsx)(go,null),Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.depthLimitTitle",{defaultMessage:"Customize depth limit"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.depthLimitDescription",{defaultMessage:"The maximum allowed depth of the flattened object field, in terms of nested inner objects. Defaults to 20."})},Object(Y.jsx)(de.UseField,{path:"depth_limit",config:Ae("depth_limit"),component:ue.Field})),Object(Y.jsx)(Wo,{defaultToggleValue:kr("ignore_above",e.source)}),Object(Y.jsx)(Ao,null),Object(Y.jsx)(xo,{defaultToggleValue:kr("similarity",e.source)}),Object(Y.jsx)(ao,null),Object(Y.jsx)(mo,{defaultToggleValue:kr("null_value",e.source)}),Object(Y.jsx)($o,{defaultToggleValue:kr("meta",e.source)}),t.major<8&&Object(Y.jsx)(io,{defaultToggleValue:kr("boost",e.source)}))))),_r=(e,t)=>{const{defaultValue:a}=Ae(e);switch(e){case"boost":case"orientation":return void 0!==t[e]&&t[e]!==a;default:return void 0!==t[e]?t[e]:void 0!==a&&a}},Sr={eagerGlobalOrdinalsDescription:i.i18n.translate("xpack.idxMgmt.mappingsEditor.join.eagerGlobalOrdinalsFieldDescription",{defaultMessage:"The join field uses global ordinals to speed up joins. By default, if the index has changed, global ordinals for the join field will be rebuilt as part of the refresh. This can add significant time to the refresh, however most of the times this is the right trade-off."})},Cr=(e,t)=>void 0!==t[e]&&t[e]!==Ae(e).defaultValue,Lr=(e,t)=>void 0!==t[e]&&t[e]!==Ae(e).defaultValue,wr=(e,t)=>void 0!==t[e]&&t[e]!==Ae(e).defaultValue,Ir=(e,t)=>void 0!==t[e]&&t[e]!==Ae(e).defaultValue,Dr=(e,t)=>void 0!==t[e]&&t[e]!==Ae(e).defaultValue,Pr={alias:({field:e,allFields:t})=>Object(Y.jsx)(Wr,null,Object(Y.jsx)(jo,{field:e,allFields:t})),keyword:({field:e,kibanaVersion:t})=>Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(Wr,null,Object(Y.jsx)(eo,{config:{...Ae("index_options_keyword")},indexOptions:se.index_options_keyword}),Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.normalizerFieldTitle",{defaultMessage:"Use normalizer"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.normalizerFieldDescription",{defaultMessage:"Process the keyword prior to indexing."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.normalizerDocLinkText",{defaultMessage:"Normalizer documentation"}),href:Ce.getNormalizerLink()},defaultToggleValue:cr("normalizer",e.source)},Object(Y.jsx)(de.UseField,{path:"normalizer",config:Ae("normalizer"),component:ue.Field}))),Object(Y.jsx)(Gr,null,Object(Y.jsx)(go,null),Object(Y.jsx)(Wo,{defaultToggleValue:cr("ignore_above",e.source)}),Object(Y.jsx)(fo,{configPath:"norms_keyword"}),Object(Y.jsx)(xo,{defaultToggleValue:cr("similarity",e.source)}),Object(Y.jsx)(Ao,null),Object(Y.jsx)(ao,null),Object(Y.jsx)(To,{defaultToggleValue:cr("copy_to",e.source)}),Object(Y.jsx)(mo,{defaultToggleValue:cr("null_value",e.source)}),Object(Y.jsx)(to,null),t.major<8&&Object(Y.jsx)(io,{defaultToggleValue:cr("boost",e.source)}))),numeric:({field:e,kibanaVersion:t})=>Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(Wr,null,Object(Y.jsx)(de.FormDataProvider,{pathsToWatch:"subType"},(e=>{var t,a;return"scaled_float"===(null===(t=e.subType)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.value)?Object(Y.jsx)(Hr,{title:_e.scaling_factor.title,description:_e.scaling_factor.description,withToggle:!1},Object(Y.jsx)(de.UseField,{path:"scaling_factor",config:Ae("scaling_factor"),component:ue.Field,"data-test-subj":"scalingFactor"})):null})),Object(Y.jsx)(eo,{hasIndexOptions:!1}),Object(Y.jsx)(vo,null)),Object(Y.jsx)(Gr,null,Object(Y.jsx)(Mo,null),Object(Y.jsx)(ao,null),Object(Y.jsx)(To,{defaultToggleValue:dr("copy_to",e.source)}),Object(Y.jsx)(mo,{description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.numeric.nullValueFieldDescription",{defaultMessage:"Accepts a numeric value of the same type as the field which is substituted for any explicit null values."}),defaultToggleValue:dr("null_value",e.source)},Object(Y.jsx)(de.UseField,{path:"null_value",component:ue.NumericField,config:Ae("null_value_numeric")})),Object(Y.jsx)(to,null),Object(Y.jsx)($o,{defaultToggleValue:dr("meta",e.source)}),t.major<8&&Object(Y.jsx)(io,{defaultToggleValue:dr("boost",e.source)}))),text:pr,boolean:({field:e,kibanaVersion:t})=>Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(Wr,null,Object(Y.jsx)(eo,{hasIndexOptions:!1})),Object(Y.jsx)(Gr,null,Object(Y.jsx)(ao,null),Object(Y.jsx)(mo,{defaultToggleValue:mr("null_value",e.source),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.booleanNullValueFieldDescription",{defaultMessage:"Replace explicit null values with a specific boolean value so that it can be indexed and searched."})},Object(Y.jsx)(de.UseField,{path:"null_value",config:Ae("null_value_boolean"),component:ue.SelectField,componentProps:{euiFieldProps:{options:gr,fullWidth:!0}}})),Object(Y.jsx)(to,null),Object(Y.jsx)($o,{defaultToggleValue:mr("meta",e.source)}),t.major<8&&Object(Y.jsx)(io,{defaultToggleValue:mr("boost",e.source)}))),binary:({field:e})=>Object(Y.jsx)(Gr,null,Object(Y.jsx)(ao,{configPath:"doc_values_binary"}),Object(Y.jsx)(to,null),Object(Y.jsx)($o,{defaultToggleValue:fr("meta",e.source)})),range:({field:e,kibanaVersion:t})=>Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(Wr,null,Object(Y.jsx)(eo,{hasIndexOptions:!1}),Object(Y.jsx)(de.FormDataProvider,{pathsToWatch:"subType"},(t=>{var a,i;return"date_range"===(null===(a=t.subType)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.value)?Object(Y.jsx)(Oo,{defaultValue:e.source.format,defaultToggleValue:xr("format",e.source)}):null}))),Object(Y.jsx)(Gr,null,Object(Y.jsx)(de.FormDataProvider,{pathsToWatch:"subType"},(t=>{var a,i;return"date_range"===(null===(a=t.subType)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.value)?Object(Y.jsx)(Ro,{defaultToggleValue:xr("locale",e.source)}):null})),Object(Y.jsx)(Mo,null),Object(Y.jsx)(to,null),Object(Y.jsx)($o,{defaultToggleValue:xr("meta",e.source)}),t.major<8&&Object(Y.jsx)(io,{defaultToggleValue:xr("boost",e.source)}))),ip:({field:e,kibanaVersion:t})=>Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(Wr,null,Object(Y.jsx)(eo,{hasIndexOptions:!1})),Object(Y.jsx)(Gr,null,Object(Y.jsx)(ao,null),Object(Y.jsx)(mo,{defaultToggleValue:br("null_value",e.source)},Object(Y.jsx)(de.UseField,{path:"null_value",config:Ae("null_value_ip"),component:ue.Field})),Object(Y.jsx)(to,null),t.major<8&&Object(Y.jsx)(io,{defaultToggleValue:br("boost",e.source)}))),token_count:({field:e,kibanaVersion:t})=>Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(Wr,null,Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCount.analyzerSectionTitle",{defaultMessage:"Analyzer"}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCount.analyzerLinkText",{defaultMessage:"Analyzer documentation"}),href:Ce.getAnalyzerLink()},withToggle:!1},Object(Y.jsx)(uo,{path:"analyzer",config:{...Ae("analyzer"),defaultValue:U},defaultValue:e.source.analyzer,allowsIndexDefaultOption:!1})),Object(Y.jsx)(eo,{hasIndexOptions:!1})),Object(Y.jsx)(Gr,null,Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCount.enablePositionIncrementsFieldTitle",{defaultMessage:"Enable position increments"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCount.enablePositionIncrementsFieldDescription",{defaultMessage:"Whether to count position increments."}),formFieldPath:"enable_position_increments"}),Object(Y.jsx)(ao,null),Object(Y.jsx)(mo,{defaultToggleValue:hr("null_value",e.source),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCount.nullValueFieldDescription",{defaultMessage:"Accepts a numeric value of the same type as the field which is substituted for any explicit null values."})},Object(Y.jsx)(de.UseField,{path:"null_value",component:ue.NumericField,config:Ae("null_value_numeric")})),Object(Y.jsx)(to,null),Object(Y.jsx)($o,{defaultToggleValue:hr("meta",e.source)}),t.major<8&&Object(Y.jsx)(io,{defaultToggleValue:hr("boost",e.source)}))),completion:({field:e})=>Object(Y.jsx)(Gr,null,Object(Y.jsx)(po,{field:e}),Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.completion.maxInputLengthFieldTitle",{defaultMessage:"Set max input length"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.completion.maxInputLengthFieldDescription",{defaultMessage:"Limits the length of a single input."}),defaultToggleValue:jr("max_input_length",e.source)},Object(Y.jsx)(de.UseField,{path:"max_input_length",config:Ae("max_input_length"),component:ue.Field})),Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.completion.preserveSeparatorsFieldTitle",{defaultMessage:"Preserve separators"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.completion.preserveSeparatorsFieldDescription",{defaultMessage:"Preserves the separators."}),formFieldPath:"preserve_separators"}),Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.completion.preservePositionIncrementsFieldTitle",{defaultMessage:"Preserve position increments"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.completion.preservePositionIncrementsFieldDescription",{defaultMessage:"Enables position increments."}),formFieldPath:"preserve_position_increments"}),Object(Y.jsx)($o,{defaultToggleValue:jr("meta",e.source)})),geo_point:({field:e})=>Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(Wr,null,Object(Y.jsx)(vo,{description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.geoPoint.ignoreMalformedFieldDescription",{defaultMessage:"By default, documents that contain malformed geo-points are not indexed. If enabled, these documents are indexed, but fields with malformed geo-points are filtered out. Be careful: if too many documents are indexed this way, queries on the field become meaningless."})})),Object(Y.jsx)(Gr,null,Object(Y.jsx)(wo,null),Object(Y.jsx)(mo,{defaultToggleValue:Mr("null_value",e.source),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.geoPoint.nullValueFieldDescription",{defaultMessage:"Replace explicit null values with a geo-point value so that it can be indexed and searched."})},Object(Y.jsx)(de.UseField,{path:"null_value",component:ue.TextAreaField,config:Ae("null_value_geo_point")})),Object(Y.jsx)($o,{defaultToggleValue:Mr("meta",e.source)}))),date:Or,date_nanos:Or,geo_shape:({field:e})=>Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(Wr,null,Object(Y.jsx)(vo,{description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.geoShape.ignoreMalformedFieldDescription",{defaultMessage:"By default, documents that contain malformed GeoJSON or WKT shapes are not indexed. If enabled, these documents are indexed, but fields with malformed shapes are filtered out. Be careful: if too many documents are indexed this way, queries on the field become meaningless."})})),Object(Y.jsx)(Gr,null,Object(Y.jsx)(Io,{defaultToggleValue:vr("orientation",e.source)}),Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.geoShape.pointsOnlyFieldTitle",{defaultMessage:"Points only"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.geoShape.pointsOnlyFieldDescription",{defaultMessage:"Optimizes geo-shape queries if this field contains only geo-points. Shapes, including multi-point shapes, will be rejected."}),formFieldPath:"points_only"}),Object(Y.jsx)(wo,null),Object(Y.jsx)(yo,null))),search_as_you_type:Er,flattened:Fr,shape:({field:e})=>Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(Wr,null,Object(Y.jsx)(vo,{description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.shapeType.ignoredMalformedFieldDescription",{defaultMessage:"By default, documents that contain malformed GeoJSON or WKT shapes are not indexed. If enabled, these documents are indexed, but fields with malformed shapes are filtered out. Be careful: if too many documents are indexed this way, queries on the field become meaningless."})})),Object(Y.jsx)(Gr,null,Object(Y.jsx)(Io,{defaultToggleValue:_r("orientation",e.source)}),Object(Y.jsx)(wo,null),Object(Y.jsx)(yo,null))),dense_vector:()=>Object(Y.jsx)(Wr,null,Object(Y.jsx)(de.UseField,{path:"dims",config:Ae("dims"),component:ue.Field})),object:({field:e})=>Object(Y.jsx)(Wr,null,Object(Y.jsx)(Kr,{defaultToggleValue:!0===e.source.dynamic||void 0===e.source.dynamic}),Object(Y.jsx)(zo,null)),other:()=>Object(Y.jsx)(Wr,null,Object(Y.jsx)(qo,null)),nested:({field:e})=>Object(Y.jsx)(Wr,null,Object(Y.jsx)(Kr,{defaultToggleValue:!0===e.source.dynamic||void 0===e.source.dynamic})),join:()=>Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(Wr,null,Object(Y.jsx)(Yr,null)),Object(Y.jsx)(Gr,null,Object(Y.jsx)(go,{configPath:"eager_global_ordinals_join",description:Sr.eagerGlobalOrdinalsDescription}))),histogram:({field:e})=>Object(Y.jsx)(Gr,null,Object(Y.jsx)(vo,null),Object(Y.jsx)($o,{defaultToggleValue:Cr("meta",e.source)})),constant_keyword:({field:e})=>Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(Wr,null,Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.constantKeyword.valueFieldTitle",{defaultMessage:"Set value"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.constantKeyword.valueFieldDescription",{defaultMessage:"The value of this field for all documents in the index. If not specified, defaults to the value specified in the first document indexed."}),defaultToggleValue:Lr("value",e.source)},Object(Y.jsx)(de.UseField,{path:"value",config:Ae("value"),component:ue.Field}))),Object(Y.jsx)(Gr,null,Object(Y.jsx)($o,{defaultToggleValue:Lr("meta",e.source)}))),rank_feature:()=>Object(Y.jsx)(Wr,null,Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.rankFeature.positiveScoreImpactFieldTitle",{defaultMessage:"Positive score impact"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.rankFeature.positiveScoreImpactFieldDescription",{defaultMessage:"Rank features that correlate negatively with the score should disable this field."}),formFieldPath:"positive_score_impact"})),wildcard:({field:e})=>Object(Y.jsx)(Gr,null,Object(Y.jsx)(Wo,{defaultToggleValue:wr("ignore_above",e.source)})),point:({field:e})=>Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(Wr,null,Object(Y.jsx)(vo,{description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.point.ignoreMalformedFieldDescription",{defaultMessage:"By default, documents that contain malformed points are not indexed. If enabled, these documents are indexed, but fields with malformed points are filtered out. Be careful: if too many documents are indexed this way, queries on the field become meaningless."})})),Object(Y.jsx)(Gr,null,Object(Y.jsx)(wo,{description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.point.ignoreZValueFieldDescription",{defaultMessage:"Three dimension points will be accepted, but only x and y values will be indexed; the third dimension is ignored."})}),Object(Y.jsx)(mo,{defaultToggleValue:Ir("null_value",e.source),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.point.nullValueFieldDescription",{defaultMessage:"Replace explicit null values with a point value so that it can be indexed and searched."})},Object(Y.jsx)(de.UseField,{path:"null_value",component:ue.TextAreaField,config:Ae("null_value_point")})),Object(Y.jsx)($o,{defaultToggleValue:Ir("meta",e.source)}))),version:({field:e})=>Object(Y.jsx)(Gr,null,Object(Y.jsx)($o,{defaultToggleValue:Dr("meta",e.source)}))},Nr=()=>{const e=i.i18n.translate("xpack.idxMgmt.mappingsEditor.fieldBetaBadgeLabel",{defaultMessage:"Beta"}),t=i.i18n.translate("xpack.idxMgmt.mappingsEditor.fieldBetaBadgeTooltip",{defaultMessage:"This field type is not GA. Please help us by reporting any bugs."});return Object(Y.jsx)(W.EuiBetaBadge,{label:e,tooltipContent:t})},Ar=({children:e,isMultiField:t})=>e||t?Object(Y.jsx)("section",null,Object(Y.jsx)(W.EuiText,{size:"s",color:"subdued"},e,t&&Object(Y.jsx)("p",null,i.i18n.translate("xpack.idxMgmt.mappingsEditor.multiFieldIntroductionText",{defaultMessage:"This field is a multi-field. You can use multi-fields to index the same field in different ways."})))):null,Rr=$.a.memo((({defaultValue:e,isRootLevelField:t,isMultiField:a})=>Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiFlexGroup,{gutterSize:"s"},Object(Y.jsx)(W.EuiFlexItem,null,Object(Y.jsx)(Qr,null)),Object(Y.jsx)(W.EuiFlexItem,null,Object(Y.jsx)(ko,{isRootLevelField:t,isMultiField:a})),Object(Y.jsx)(de.FormDataProvider,{pathsToWatch:"type"},(({type:i})=>{if(void 0===i)return null;const[n]=i;return Object(Y.jsx)(Lo,{key:n.value,type:n.value,defaultValueType:e.type,isMultiField:a,isRootLevelField:t})}))),Object(Y.jsx)(de.FormDataProvider,{pathsToWatch:["type","subType"]},(({type:e,subType:t})=>{var i,n;const s=((e,t)=>{if(!e)return;const a=K[e];return void 0!==a.subTypes?t?K[t]:void 0:a})(e[0].value,t&&t[0].value),r=null!==(i=null==s||null===(n=s.description)||void 0===n?void 0:n.call(s))&&void 0!==i?i:null;return Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiSpacer,{size:"l"}),(null==s?void 0:s.isBeta)&&Object(Y.jsx)(Nr,null),Object(Y.jsx)(W.EuiSpacer,{size:"s"}),Object(Y.jsx)(Ar,{isMultiField:a},r))}))))),zr=(e,t=18)=>e.length<=t?e:`...${e.substr(-1*t)}`,Br=({children:e})=>Object(Y.jsx)($.a.Fragment,null,e),Vr=$.a.memo((({form:e,field:t,allFields:a,exitEdit:n,updateField:s,kibanaVersion:r})=>{const{isMultiField:o}=t;return Object(Y.jsx)(de.Form,{form:e,FormWrapper:Br},Object(Y.jsx)(W.EuiFlyoutHeader,null,Object(Y.jsx)(W.EuiFlexGroup,{gutterSize:"xs"},Object(Y.jsx)(W.EuiFlexItem,null,Object(Y.jsx)("div",null,Object(Y.jsx)(W.EuiTitle,{size:"m"},Object(Y.jsx)("h2",{"data-test-subj":"flyoutTitle"},o?i.i18n.translate("xpack.idxMgmt.mappingsEditor.editMultiFieldTitle",{defaultMessage:"Edit multi-field '{fieldName}'",values:{fieldName:zr(t.source.name)}}):i.i18n.translate("xpack.idxMgmt.mappingsEditor.editFieldTitle",{defaultMessage:"Edit field '{fieldName}'",values:{fieldName:zr(t.source.name)}}))))),Object(Y.jsx)(de.FormDataProvider,{pathsToWatch:["type","subType"]},(({type:e,subType:t})=>{var a,n;const s=Ce.getTypeDocLink(null==t||null===(a=t[0])||void 0===a?void 0:a.value)||Ce.getTypeDocLink(null==e||null===(n=e[0])||void 0===n?void 0:n.value);if(!s)return null;const r=K[e[0].value],o=K[null==t?void 0:t[0].value];return Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiButtonEmpty,{size:"s",flush:"right",href:s,target:"_blank",iconType:"help","data-test-subj":"documentationLink"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.editField.typeDocumentation",{defaultMessage:"{type} documentation",values:{type:o?o.label:r.label}})))}))),Object(Y.jsx)(W.EuiFlexGroup,null,Object(Y.jsx)(W.EuiFlexItem,{grow:!1,"data-test-subj":"fieldPath"},Object(Y.jsx)(nr,{padding:"small"},t.path.join(" > "))))),Object(Y.jsx)(W.EuiFlyoutBody,null,Object(Y.jsx)(Rr,{defaultValue:t.source,isRootLevelField:void 0===t.parentId,isMultiField:o}),Object(Y.jsx)(de.FormDataProvider,{pathsToWatch:["type","subType"]},(({type:e,subType:i})=>{const n=((e,t)=>void 0===t?Pr[e]:Pr[t]||Pr[e])(null==e?void 0:e[0].value,null==i?void 0:i[0].value);return n?Object(Y.jsx)(n,{key:null!=i?i:e,field:t,allFields:a,isMultiField:o,kibanaVersion:r}):null}))),Object(Y.jsx)(W.EuiFlyoutFooter,null,e.isSubmitted&&!e.isValid&&Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiCallOut,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.editFieldFlyout.validationErrorTitle",{defaultMessage:"Fix errors in form before continuing."}),color:"danger",iconType:"cross","data-test-subj":"formError"}),Object(Y.jsx)(W.EuiSpacer,{size:"m"})),Object(Y.jsx)(W.EuiFlexGroup,{justifyContent:"flexEnd"},Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiButtonEmpty,{onClick:n},i.i18n.translate("xpack.idxMgmt.mappingsEditor.editFieldCancelButtonLabel",{defaultMessage:"Cancel"}))),Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiButton,{fill:!0,onClick:async()=>{const{isValid:a,data:i}=await e.submit();a&&s({...t,source:i})},type:"submit",disabled:e.isSubmitted&&!e.isValid,"data-test-subj":"editFieldUpdateButton"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.editFieldUpdateButtonLabel",{defaultMessage:"Update"}))))))})),Ur=()=>{const[e,t]=Object(q.useState)({isModalOpen:!1}),a=_l(),{fields:n}=Fl(),{byId:s,aliases:r}=n,o=i.i18n.translate("xpack.idxMgmt.mappingsEditor.updateField.confirmationModal.confirmDescription",{defaultMessage:"Confirm type change"});let l="";if(e.field){const{source:t}=e.field;l=i.i18n.translate("xpack.idxMgmt.mappingsEditor.updateField.confirmationModal.title",{defaultMessage:"Confirm change '{fieldName}' type to '{fieldType}'.",values:{fieldName:t.name,fieldType:t.type}})}const c=()=>{t({isModalOpen:!1})};return{updateField:Object(q.useCallback)((e=>{const i=s[e.id];if(e.source.type!==i.source.type){const a=r[e.id]||[],o=Ue(e,n),l=a&&Boolean(a.length),c=!_e.path.targetTypesNotAllowed.includes(e.source.type);let d,u=[];if(l&&!c?(u=o,d=!0):(d=((t,a)=>{const{hasChildFields:i,hasMultiFields:n}=e;return!(!i&&!n)&&Ge(t,a)})(i.source.type,e.source.type),d&&(u=o.filter((e=>!1===a.includes(e))))),d)return void t({isModalOpen:!0,field:e,aliases:Boolean(u.length)?u.map((e=>s[e].path.join(" > "))).sort():void 0})}a({type:"field.edit",value:e.source})}),[a,r,n,s]),modal:{isOpen:e.isModalOpen,props:{childFields:e.field&&e.field.childFields,title:l,aliases:e.aliases,byId:s,confirmButtonText:o,onConfirm:()=>{a({type:"field.edit",value:e.field.source}),c()},onCancel:c}}}},qr={"data-test-subj":"mappingsEditorFieldEdit","aria-labelledby":"mappingsEditorFieldEditTitle",className:"mappingsEditor__editField",maxWidth:720},$r=$.a.memo((({exitEdit:e})=>{const{fields:t,documentFields:a}=Fl(),i=_l(),{updateField:n,modal:s}=Ur(),{services:{kibanaVersion:r}}=Object(fe.useKibana)(),{status:o,fieldToEdit:l}=a,c="editingField"===o,d=t.byId[l],u=Object(q.useMemo)((()=>({...null==d?void 0:d.source})),[null==d?void 0:d.source]),{form:p}=Object(de.useForm)({defaultValue:u,serializer:Jo,deserializer:Yo,options:{stripEmptyFields:!1},id:"edit-field"}),{subscribe:m}=p;Object(q.useEffect)((()=>m((e=>{i({type:"fieldForm.update",value:e})})).unsubscribe),[m,i]);return c?Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(Vr,{form:p,field:d,allFields:t.byId,exitEdit:e,updateField:n,kibanaVersion:r.get()}),s.isOpen?Object(Y.jsx)(lr,s.props):null):null})),Wr=({children:e})=>Object(Y.jsx)("section",null,Object(Y.jsx)(W.EuiSpacer,{size:"l"}),e),Hr=$.a.memo((({title:e,description:t,docLink:a,defaultToggleValue:i,formFieldPath:n,children:s,withToggle:r=!0,configPath:o,"data-test-subj":l})=>{const c=Object(de.useFormContext)(),d=!1===r||(void 0!==i?i:void 0!==n&&Ae(o||n).defaultValue),[u,p]=Object(q.useState)(d),m="function"==typeof s,g=()=>{!0===u&&c.reset({resetValues:!1}),p(!u)},f=()=>{const i=r&&Object(Y.jsx)(W.EuiFlexItem,{grow:!1,className:"mappingsEditor__editFieldFormRow__toggle"},void 0===n?Object(Y.jsx)(W.EuiSwitch,{label:e,checked:u,onChange:g,"data-test-subj":"formRowToggle",showLabel:!1}):Object(Y.jsx)(de.UseField,{path:n,config:{...Ae(o||n),defaultValue:d}},(t=>Object(Y.jsx)(ue.ToggleField,{field:t,"data-test-subj":"abc",euiFieldProps:{label:e,showLabel:!1,"data-test-subj":"formRowToggle"}})))),c=Object(Y.jsx)(W.EuiTitle,{size:"xs"},Object(Y.jsx)("h3",null,e)),p=t&&Object(Y.jsx)(W.EuiText,{size:"s",color:"subdued",className:"mappingsEditor__editField__formRow__description"},t),f=(c||p)&&Object(Y.jsx)("div",{style:{paddingLeft:!1===r?"0":void 0}},Object(Y.jsx)(W.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween"},Object(Y.jsx)(W.EuiFlexItem,null,c),a?Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiToolTip,{content:a.text},Object(Y.jsx)(W.EuiButtonIcon,{href:a.href,target:"_blank",iconType:"help","aria-label":a.text}))):null),p),x=(u&&void 0!==s||m)&&Object(Y.jsx)("div",{style:{paddingLeft:!1===r?"0":void 0}},Object(Y.jsx)(W.EuiSpacer,{size:"m"}),m?s(u):s);return Object(Y.jsx)(W.EuiFlexGroup,{className:"mappingsEditor__editField__formRow","data-test-subj":l},i,Object(Y.jsx)(W.EuiFlexItem,null,Object(Y.jsx)("div",null,f,x)))};return n?Object(Y.jsx)(de.FormDataProvider,{pathsToWatch:n},(e=>(p(Object(wi.get)(e,n)),f()))):f()})),Gr=({children:e})=>{const[t,a]=Object(q.useState)(!1);return Object(Y.jsx)("div",{className:"mappingsEditor__editField__advancedSettings"},Object(Y.jsx)(W.EuiHorizontalRule,null),Object(Y.jsx)(W.EuiButtonEmpty,{onClick:()=>{a(!t)},flush:"left","data-test-subj":"toggleAdvancedSetting"},t?i.i18n.translate("xpack.idxMgmt.mappingsEditor.advancedSettings.hideButtonLabel",{defaultMessage:"Hide advanced settings"}):i.i18n.translate("xpack.idxMgmt.mappingsEditor.advancedSettings.showButtonLabel",{defaultMessage:"Show advanced settings"})),Object(Y.jsx)("div",{style:{display:t?"block":"none"},"data-test-subj":"advancedSettings"},Object(Y.jsx)(W.EuiSpacer,{size:"m"}),Object(Y.jsx)("div",null,e)))},Jr={defaultValue:[]},Yr=()=>Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.relationshipsTitle",{defaultMessage:"Relationships"}),withToggle:!1},Object(Y.jsx)(de.UseArray,{path:"relations",initialNumberOfItems:0},(({items:e,addItem:t,removeItem:a})=>{const n=[{name:i.i18n.translate("xpack.idxMgmt.mappingsEditor.joinType.relationshipTable.parentColumnTitle",{defaultMessage:"Parent"}),render:e=>Object(Y.jsx)("div",{style:{width:"100%"}},Object(Y.jsx)(de.UseField,{path:`${e.path}.parent`,component:ue.TextField,componentProps:{euiFieldProps:{"aria-label":i.i18n.translate("xpack.idxMgmt.mappingsEditor.joinType.relationshipTable.parentFieldAriaLabel",{defaultMessage:"Parent field"})}},readDefaultValueOnForm:!e.isNew}))},{name:i.i18n.translate("xpack.idxMgmt.mappingsEditor.joinType.relationshipTable.childrenColumnTitle",{defaultMessage:"Children"}),render:e=>Object(Y.jsx)("div",{style:{width:"100%"}},Object(Y.jsx)(de.UseField,{path:`${e.path}.children`,config:Jr,component:ue.ComboBoxField,componentProps:{euiFieldProps:{"aria-label":i.i18n.translate("xpack.idxMgmt.mappingsEditor.joinType.relationshipTable.childrenFieldAriaLabel",{defaultMessage:"Children field"})}},readDefaultValueOnForm:!e.isNew}))},{width:"48px",actions:[{render:({id:e})=>{const t=i.i18n.translate("xpack.idxMgmt.mappingsEditor.joinType.relationshipTable.removeRelationshipTooltipLabel",{defaultMessage:"Remove relationship"});return Object(Y.jsx)(W.EuiToolTip,{content:t,delay:"long"},Object(Y.jsx)(W.EuiButtonIcon,{"data-test-subj":"removeRelationshipButton","aria-label":t,iconType:"minusInCircle",color:"danger",onClick:()=>a(e)}))}}]}];return Object(Y.jsx)($.a.Fragment,null,e.length>1&&Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiCallOut,{color:"warning",iconType:"alert",size:"s",title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.join.multiLevelsParentJoinWarningTitle",defaultMessage:"Avoid using multiple levels to replicate a relational model. Each relation level increases computation time and memory consumption at query time. For best performance, {docsLink}",values:{docsLink:Object(Y.jsx)(W.EuiLink,{href:Ce.getJoinMultiLevelsPerformanceLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.join.multiLevelsPerformanceDocumentationLink",{defaultMessage:"denormalize your data."}))}})}),Object(Y.jsx)(W.EuiSpacer,null)),Object(Y.jsx)(W.EuiBasicTable,{items:e,itemId:"id",columns:n,noItemsMessage:i.i18n.translate("xpack.idxMgmt.mappingsEditor.joinType.relationshipTable.emptyTableMessage",{defaultMessage:"No relationship defined"}),hasActions:!0}),Object(Y.jsx)(W.EuiButtonEmpty,{onClick:t,iconType:"plusInCircleFilled","data-test-subj":"addRelationButton"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.joinType.addRelationshipButtonLabel",{defaultMessage:"Add relationship"})))}))),Kr=({defaultToggleValue:e})=>Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicPropertyMappingParameter.fieldTitle",{defaultMessage:"Dynamic property mapping"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicPropertyMappingParameter.fieldDescription",{defaultMessage:"By default, properties can be added dynamically to objects within a document, just by indexing a document with the object containing the new property."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicDocLinkText",{defaultMessage:"Dynamic documentation"}),href:Ce.getDynamicLink()},formFieldPath:"dynamic_toggle",defaultToggleValue:e},(e=>!1===e?Object(Y.jsx)(de.UseField,{path:"dynamic_strict",config:Ae("dynamic_strict"),component:ue.CheckBoxField}):null)),{validations:Xr,...Zr}=_e.name.fieldConfig,Qr=()=>{const{fields:{rootLevelFields:e,byId:t},documentFields:{fieldToAddFieldTo:a,fieldToEdit:i}}=Fl(),n=i?t[i].source.name:void 0,s=i?t[i].parentId:a,r=Object(q.useCallback)((a=>Ko({rootLevelFields:e,byId:t},n,s)(a)),[e,t,n,s]),o=Object(q.useMemo)((()=>({...Zr,validations:[...Xr,{validator:r}]})),[r]);return Object(Y.jsx)(de.UseField,{path:"name",config:o,component:ue.TextField,componentProps:{euiFieldProps:{"data-test-subj":"nameParameterInput"}}})},eo=({indexOptions:e=se.index_options,hasIndexOptions:t=!0,config:a=Ae("index_options")})=>Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.searchableFieldTitle",{defaultMessage:"Searchable"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.searchableFieldDescription",{defaultMessage:"Allow the field to be searched."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.indexDocLinkText",{defaultMessage:"Searchable documentation"}),href:Ce.getIndexLink()},formFieldPath:"index","data-test-subj":"indexParameter"},t?Object(Y.jsx)(de.UseField,{path:"index_options",config:a,component:ue.Field,componentProps:{euiFieldProps:{options:e}}}):void 0),to=()=>Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.storeFieldValueFieldTitle",{defaultMessage:"Store field value outside of _source"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.storeFieldValueFieldDescription",{defaultMessage:"This can be useful when the _source field is very large and you want to retrieve a few select fields without extracting them from _source."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.storeDocLinkText",{defaultMessage:"Store documentation"}),href:Ce.getStoreLink()},formFieldPath:"store"}),ao=({configPath:e="doc_values"})=>Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.docValuesFieldTitle",{defaultMessage:"Use doc values"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.docValuesFieldDescription",{defaultMessage:"Store each document's value for this field in memory so it can be used for sorting, aggregations, and in scripts."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.docValuesDocLinkText",{defaultMessage:"Doc values documentation"}),href:Ce.getDocValuesLink()},formFieldPath:"doc_values",configPath:e}),io=({defaultToggleValue:e})=>Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.boostFieldTitle",{defaultMessage:"Set boost level"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.boostFieldDescription",{defaultMessage:"Boost this field at query time so it counts more toward the relevance score."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.boostDocLinkText",{defaultMessage:"Boost documentation"}),href:Ce.getBoostLink()},defaultToggleValue:e,"data-test-subj":"boostParameter"},Object(Y.jsx)(de.UseField,{path:"boost",config:Ae("boost"),component:ue.RangeField,componentProps:{euiFieldProps:{min:1,max:20,showInput:!0,fullWidth:!0}}})),no=Object(q.createContext)(void 0),so=({children:e})=>{const[t,a]=Object(q.useState)({indexSettings:{}});return Object(Y.jsx)(no.Provider,{value:{value:t,update:a}},e)},ro=()=>{const e=Object(q.useContext)(no);if(void 0===e)throw new Error("useConfig must be used within a <ConfigProvider />");return e},oo=({onChange:e,mainDefaultValue:t,subDefaultValue:a,config:i,options:n,mapOptionsToSubOptions:s,"data-test-subj":r})=>{const{form:o}=Object(de.useForm)({defaultValue:{main:t,sub:a}}),{subscribe:l}=o;Object(q.useEffect)((()=>l((t=>{const a=t.data.internal,i=a.sub?a.sub:a.main;e(i)})).unsubscribe),[l,e]);const c=Object(q.useCallback)((e=>void 0!==s?s[e]:void 0),[s]),d=Object(q.useCallback)((e=>{const t=c(e);o.setFieldValue("sub",t?t.options[0].value:void 0)}),[o,c]),u=(e,t)=>(e=>!(!e||!Boolean(e.length))&&!1==={}.hasOwnProperty.call(e[0],"text"))(t)?Object(Y.jsx)(ue.SuperSelectField,{field:e,euiFieldProps:{options:t},"data-test-subj":r}):Object(Y.jsx)(ue.SelectField,{field:e,euiFieldProps:{options:t,hasNoInitialSelection:!1},"data-test-subj":r});return Object(Y.jsx)(de.Form,{form:o},Object(Y.jsx)(de.FormDataProvider,{pathsToWatch:"main"},(({main:e})=>{const t=c(e);return Object(Y.jsx)(W.EuiFlexGroup,null,Object(Y.jsx)(W.EuiFlexItem,null,Object(Y.jsx)(de.UseField,{path:"main",config:i,onChange:d},(e=>u(e,n)))),t&&Object(Y.jsx)(W.EuiFlexItem,null,Object(Y.jsx)(de.UseField,{path:"sub",config:{...i,defaultValue:t.options[0].value,label:t.label}},(e=>u(e,t.options)))))})))},lo=se.analyzer,co=se.analyzer.filter((({value:e})=>e!==V)),uo=({path:e,defaultValue:t,label:a,config:n,allowsIndexDefaultOption:s=!0,"data-test-subj":r})=>{const{value:{indexSettings:o}}=ro(),l=(e=>{const t={}.hasOwnProperty.call(e,"index")?e.index:e;if({}.hasOwnProperty.call(t,"analysis")&&{}.hasOwnProperty.call(t.analysis,"analyzer"))try{return Object.keys(t.analysis.analyzer).map((e=>({value:e,text:e})))}catch{return}})(o),c=[...s?lo:co],d={language:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.analyzers.languageAnalyzerLabel",{defaultMessage:"Language"}),options:se.languageAnalyzer}};if(l){const e={value:"custom",...ie(i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.customTitle",{defaultMessage:"Custom analyzer"}),i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.customDescription",{defaultMessage:"Choose one of your custom analyzers."}))};c.push(e),d.custom={label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.analyzers.customAnalyzerLabel",{defaultMessage:"Custom"}),options:l}}const u=void 0===t||c.some((e=>e.value===t));let p,m=t,g=!1;if(!u&&void 0!==d)for(const[e,a]of Object.entries(d))if(a.options.some((e=>e.value===t))){g=!0,m=e,p=t;break}const[f,x]=Object(q.useState)(!u&&!g),[b,h]=Object(q.useState)({main:m,sub:p}),j=n||Ae("analyzer"),M=void 0!==a?{...j,label:a}:j,y=e=>()=>{f?e.setValue(c[0].value):e.setValue(""),e.reset({resetValue:!1}),h({main:void 0,sub:void 0}),x(!f)};return Object(Y.jsx)(de.UseField,{path:e,config:M},(e=>Object(Y.jsx)("div",{className:"mappingsEditor__selectWithCustom"},Object(Y.jsx)(W.EuiButtonEmpty,{size:"xs",onClick:y(e),className:"mappingsEditor__selectWithCustom__button","data-test-subj":`${r}-toggleCustomButton`},f?i.i18n.translate("xpack.idxMgmt.mappingsEditor.predefinedButtonLabel",{defaultMessage:"Use built-in analyzer"}):i.i18n.translate("xpack.idxMgmt.mappingsEditor.customButtonLabel",{defaultMessage:"Use custom analyzer"})),f?Object(Y.jsx)(W.EuiFlexGroup,null,Object(Y.jsx)(W.EuiFlexItem,null,Object(Y.jsx)(ue.TextField,{field:e,"data-test-subj":`${r}-custom`}))):Object(Y.jsx)(oo,{onChange:e.setValue,mainDefaultValue:b.main,subDefaultValue:b.sub,config:M,options:c,mapOptionsToSubOptions:d,"data-test-subj":r}))))},po=({field:e,withSearchQuoteAnalyzer:t=!1})=>Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.analyzersSectionTitle",{defaultMessage:"Analyzers"}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.analyzersDocLinkText",{defaultMessage:"Analyzers documentation"}),href:Ce.getAnalyzerLink()},withToggle:!1,"data-test-subj":"analyzerParameters"},Object(Y.jsx)(de.FormDataProvider,{pathsToWatch:"useSameAnalyzerForSearch"},(({useSameAnalyzerForSearch:t})=>{const a=t?i.i18n.translate("xpack.idxMgmt.mappingsEditor.indexSearchAnalyzerFieldLabel",{defaultMessage:"Index and search analyzer"}):i.i18n.translate("xpack.idxMgmt.mappingsEditor.indexAnalyzerFieldLabel",{defaultMessage:"Index analyzer"});return Object(Y.jsx)(uo,{path:"analyzer",label:a,defaultValue:e.source.analyzer,"data-test-subj":"indexAnalyzer"})})),Object(Y.jsx)(W.EuiSpacer,{size:"s"}),Object(Y.jsx)(de.UseField,{path:"useSameAnalyzerForSearch",component:ue.CheckBoxField,componentProps:{"data-test-subj":"useSameAnalyzerForSearchCheckBox"},config:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.analyzers.useSameAnalyzerIndexAnSearch",{defaultMessage:"Use the same analyzers for index and searching"}),defaultValue:!0}}),Object(Y.jsx)(de.FormDataProvider,{pathsToWatch:"useSameAnalyzerForSearch"},(({useSameAnalyzerForSearch:t})=>t?null:Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiSpacer,{size:"m"}),Object(Y.jsx)(uo,{path:"search_analyzer",defaultValue:e.source.search_analyzer,config:Ae("search_analyzer"),"data-test-subj":"searchAnalyzer"}),Object(Y.jsx)(W.EuiSpacer,{size:"s"})))),t&&Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiSpacer,{size:"m"}),Object(Y.jsx)(uo,{path:"search_quote_analyzer",defaultValue:e.source.search_quote_analyzer,config:Ae("search_quote_analyzer"),"data-test-subj":"searchQuoteAnalyzer"}))),mo=({defaultToggleValue:e,description:t,children:a})=>Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.nullValueFieldTitle",{defaultMessage:"Set null value"}),description:t||i.i18n.translate("xpack.idxMgmt.mappingsEditor.nullValueFieldDescription",{defaultMessage:"Replace explicit null values with the specified value so that it can be indexed and searched."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.nullValueDocLinkText",{defaultMessage:"Null value documentation"}),href:Ce.getNullValueLink()},defaultToggleValue:e},a||Object(Y.jsx)(de.UseField,{path:"null_value",config:Ae("null_value"),component:ue.Field})),go=({description:e,configPath:t="eager_global_ordinals"})=>Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.eagerGlobalOrdinalsFieldTitle",{defaultMessage:"Build global ordinals at index time"}),description:e||i.i18n.translate("xpack.idxMgmt.mappingsEditor.eagerGlobalOrdinalsFieldDescription",{defaultMessage:"By default, global ordinals are built at search time, which optimizes for index speed. You can optimize for search performance by building them at index time instead."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.eagerGlobalOrdinalsDocLinkText",{defaultMessage:"Global ordinals documentation"}),href:Ce.getEagerGlobalOrdinalsLink()},formFieldPath:"eager_global_ordinals",configPath:t}),fo=({configPath:e="norms"})=>Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.useNormsFieldTitle",{defaultMessage:"Use norms"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.useNormsFieldDescription",{defaultMessage:"Account for field length when scoring queries. Norms require significant memory and are not necessary for fields that are used solely for filtering or aggregations."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.normsDocLinkText",{defaultMessage:"Norms documentation"}),href:Ce.getNormsLink()},formFieldPath:"norms",configPath:e}),xo=({defaultToggleValue:e})=>Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.setSimilarityFieldTitle",{defaultMessage:"Set similarity"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.setSimilarityFieldDescription",{defaultMessage:"The scoring algorithm or similarity to use."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.similarityDocLinkText",{defaultMessage:"Similarity documentation"}),href:Ce.getSimilarityLink()},defaultToggleValue:e},Object(Y.jsx)(de.UseField,{path:"similarity",config:Ae("similarity"),component:ue.Field,componentProps:{euiFieldProps:{options:se.similarity}}})),bo=_e.path.targetTypesNotAllowed,ho=e=>t=>"string"==typeof t&&Boolean(t)?[{id:t,label:e[t].path.join(" > ")}]:[],jo=({field:e,allFields:t})=>{const a=((e,t)=>Object.entries(e).filter((([e,a])=>!(t&&e===t.id||bo.includes(a.source.type)))).map((([e,t])=>({id:e,label:t.path.join(" > ")}))).sort(((e,t)=>e.label>t.label?1:e.label<t.label?-1:0)))(t,e),n=Object(q.useMemo)((()=>({...Ae("path"),deserializer:ho(t)})),[t]);return Object(Y.jsx)(de.UseField,{path:"path",config:n},(e=>{const t=e.getErrorsMessages(),n=!!t&&Boolean(t.length);return Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.aliasType.aliasTargetFieldTitle",{defaultMessage:"Alias target"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.aliasType.aliasTargetFieldDescription",{defaultMessage:"Select the field you want your alias to point to. You will then be able to use the alias instead of the target field in search requests and select other APIs like field capabilities."}),withToggle:!1},Object(Y.jsx)($.a.Fragment,null,!Boolean(a.length)&&Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiCallOut,{size:"s",color:"warning",title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.aliasType.noFieldsAddedWarningMessage",{defaultMessage:"You need to add at least one field before creating an alias."})}),Object(Y.jsx)(W.EuiSpacer,null)),Object(Y.jsx)(W.EuiFormRow,{label:e.label,helpText:e.helpText,error:t,isInvalid:n,fullWidth:!0},Object(Y.jsx)(W.EuiComboBox,{placeholder:i.i18n.translate("xpack.idxMgmt.mappingsEditor.aliasType.pathPlaceholderLabel",{defaultMessage:"Select a field"}),singleSelection:{asPlainText:!0},options:a,selectedOptions:e.value,onChange:t=>e.setValue(t),isClearable:!1,fullWidth:!0}))))}))},Mo=()=>Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.coerceFieldTitle",{defaultMessage:"Coerce to number"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.coerceDescription",{defaultMessage:"Convert strings to numbers. If this field is an integer, fractions are truncated. If disabled, then documents with imperfectly formatted values are rejected."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.coerceDocLinkText",{defaultMessage:"Coerce documentation"}),href:Ce.getCoerceLink()},formFieldPath:"coerce"}),yo=()=>Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.coerceShapeFieldTitle",{defaultMessage:"Coerce to shape"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.coerceShapeDescription",{defaultMessage:"If disabled, then documents that contain polygons with unclosed linear rings are rejected."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.coerceShapeDocLinkText",{defaultMessage:"Coerce documentation"}),href:Ce.getCoerceLink()},formFieldPath:"coerce",configPath:"coerce_shape"}),Oo=({defaultValue:e,defaultToggleValue:t})=>{const a=(void 0!==e?e.split("||").map((e=>({label:e}))):[]).filter((e=>le.includes(e))),[n,s]=Object(q.useState)([...le,...a]);return Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formatParameter.fieldTitle",{defaultMessage:"Set format"}),description:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.formatParameter.fieldDescription",defaultMessage:"The date formats to parse. Most builit-ins use {strict} date formats, where YYYY is the year, MM is the month, and DD is the day. Example: 2020/11/01.",values:{strict:Object(Y.jsx)(W.EuiCode,null,"strict")}}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formatDocLinkText",{defaultMessage:"Format documentation"}),href:Ce.getFormatLink()},defaultToggleValue:t,"data-test-subj":"formatParameter"},Object(Y.jsx)(de.UseField,{path:"format",config:Ae("format")},(e=>Object(Y.jsx)(W.EuiFormRow,{label:e.label,helpText:e.helpText,fullWidth:!0},Object(Y.jsx)(W.EuiComboBox,{placeholder:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formatParameter.placeholderLabel",{defaultMessage:"Select a format"}),options:n,selectedOptions:e.value,onChange:t=>{e.setValue(t)},onCreateOption:t=>{const a={label:t};e.setValue([...e.value,a]),s([...n,a])},fullWidth:!0,"data-test-subj":"formatInput"})))))},vo=({description:e})=>Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoreMalformedFieldTitle",{defaultMessage:"Ignore malformed data"}),description:e||i.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoredMalformedFieldDescription",{defaultMessage:"By default, documents that contain the wrong data type for a field are not indexed. If enabled, these documents are indexed, but fields with the wrong data type are filtered out. Be careful: if too many documents are indexed this way, queries on the field become meaningless."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoreMalformedDocLinkText",{defaultMessage:"Ignore malformed documentation"}),href:Ce.getIgnoreMalformedLink()},formFieldPath:"ignore_malformed"}),To=({defaultToggleValue:e})=>Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.copyToFieldTitle",{defaultMessage:"Copy to group field"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.copyToFieldDescription",{defaultMessage:"Copy the values of multiple fields into a group field. This group field can then be queried as a single field."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.copyToDocLinkText",{defaultMessage:"Copy to documentation"}),href:Ce.getCopyToLink()},defaultToggleValue:e},Object(Y.jsx)(de.UseField,{path:"copy_to",config:Ae("copy_to"),component:ue.Field})),Eo=({field:e,defaultToggleValue:t})=>Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.termVectorFieldTitle",{defaultMessage:"Set term vector"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.termVectorFieldDescription",{defaultMessage:"Store term vectors for an analyzed field."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.termVectorDocLinkText",{defaultMessage:"Term vector documentation"}),href:Ce.getTermVectorLink()},defaultToggleValue:t},Object(Y.jsx)(de.FormDataProvider,{pathsToWatch:"term_vector"},(e=>Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(de.UseField,{path:"term_vector",config:Ae("term_vector"),component:ue.Field,componentProps:{euiFieldProps:{options:se.term_vector,fullWidth:!0}}}),"with_positions_offsets"===e.term_vector&&Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiSpacer,{size:"s"}),Object(Y.jsx)(W.EuiCallOut,{size:"s",color:"warning",title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.termVectorFieldWarningMessage",{defaultMessage:'Setting "With positions and offsets" will double the size of a fields index.'})})))))),ko=({isMultiField:e,isRootLevelField:t,showDocLink:a=!1})=>Object(Y.jsx)(de.UseField,{path:"type",config:Ae("type")},(n=>{const s=n.getErrorsMessages(),r=!!s&&Boolean(s.length);let o=null;if(a&&n.value.length>0){const e=n.value[0].value;o=Ce.getTypeDocLink(e)}return Object(Y.jsx)(W.EuiFormRow,{label:n.label,error:s,isInvalid:r,helpText:o?Object(Y.jsx)(W.EuiText,{size:"xs"},Object(Y.jsx)(W.EuiLink,{href:o,target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.typeField.documentationLinkLabel",{defaultMessage:"{typeName} documentation",values:{typeName:n.value&&n.value[0]?n.value[0].label:""}}))):null},Object(Y.jsx)(W.EuiComboBox,{placeholder:i.i18n.translate("xpack.idxMgmt.mappingsEditor.typeField.placeholderLabel",{defaultMessage:"Select a type"}),singleSelection:{asPlainText:!0},options:e?qe(ae):t?ae:$e(ae),selectedOptions:n.value,onChange:e=>{0!==e.length&&n.setValue(e)},isClearable:!1,"data-test-subj":"fieldType"}))})),Fo=Ae("type"),_o={label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.otherTypeNameFieldLabel",{defaultMessage:"Type Name"}),defaultValue:"",deserializer:Fo.deserializer,serializer:Fo.serializer,validations:[{validator:({value:e})=>{if(""===e[0].value.trim())return{message:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.otherTypeNameIsRequiredErrorMessage",{defaultMessage:"The type name is required."})}}}]},So=({field:e})=>{var t,a;const{setValue:i}=e,n={...e,value:null!==(t=null===(a=e.value[0])||void 0===a?void 0:a.value)&&void 0!==t?t:""},s=Object(q.useCallback)((e=>{i([{value:e.target.value}])}),[i]);return Object(Y.jsx)(ue.TextField,{field:n,euiFieldProps:{onChange:s,"data-test-subj":"fieldSubType"}})},Co=()=>Object(Y.jsx)(de.UseField,{path:"subType",config:_o,component:So}),Lo=({type:e,defaultValueType:t,isMultiField:a,isRootLevelField:n})=>{if("other"===e)return Object(Y.jsx)(W.EuiFlexItem,null,Object(Y.jsx)(Co,null));const s=K[e];if(!(void 0!==s.subTypes))return null;const r=s.subTypes.types.map((e=>K[e])).map((e=>({value:e.value,label:e.label}))),o=s.subTypes.types.includes(t)?t:s.subTypes.types[0];return Object(Y.jsx)(W.EuiFlexItem,null,Object(Y.jsx)(de.UseField,{path:"subType",defaultValue:o,config:{...Ae("type"),label:s.subTypes.label}},(e=>Object(Y.jsx)(W.EuiFormRow,{label:e.label},Object(Y.jsx)(W.EuiComboBox,{placeholder:i.i18n.translate("xpack.idxMgmt.mappingsEditor.subTypeField.placeholderLabel",{defaultMessage:"Select a type"}),singleSelection:{asPlainText:!0},options:a?qe(r):n?r:$e(r),selectedOptions:e.value,onChange:e.setValue,isClearable:!1,"data-test-subj":"fieldSubType"})))))},wo=({description:e})=>Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoreZValueFieldTitle",{defaultMessage:"Ignore Z value"}),description:e||i.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoredZValueFieldDescription",{defaultMessage:"Three dimension points will be accepted, but only latitude and longitude values will be indexed; the third dimension is ignored."}),formFieldPath:"ignore_z_value"}),Io=({defaultToggleValue:e})=>Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.geoShapeType.orientationFieldTitle",{defaultMessage:"Set orientation"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.geoShapeType.orientationFieldDescription",{defaultMessage:"Interpret the vertex order for polygons and multipolygons as either clockwise or counterclockwise (default)."}),defaultToggleValue:e},Object(Y.jsx)(de.UseField,{path:"orientation",config:Ae("orientation"),component:ue.Field,componentProps:{euiFieldProps:{options:se.orientation,style:{minWidth:300}}}})),Do=({min:e,max:t})=>Object(Y.jsx)(W.EuiFormRow,{fullWidth:!0,label:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.fielddata.frequencyFilterPercentageFieldLabel",defaultMessage:"Percentage-based frequency range"})},Object(Y.jsx)(W.EuiDualRange,{min:0,max:100,value:[e.value,t.value],onChange:([a,i])=>{e.setValue(a),t.setValue(i)},showInput:"inputWithPopover",append:"%"})),Po=({min:e,max:t})=>{const a=!e.isChangingValue&&e.errors.length>0,n=!e.isChangingValue&&e.errors.length?e.errors[0].message:null,s=!t.isChangingValue&&t.errors.length>0,r=!t.isChangingValue&&t.errors.length?t.errors[0].message:null;return Object(Y.jsx)(W.EuiFormRow,{fullWidth:!0,isInvalid:a||s,error:n||r,label:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.fielddata.frequencyFilterAbsoluteFieldLabel",defaultMessage:"Absolute frequency range"})},Object(Y.jsx)(W.EuiFormControlLayoutDelimited,{startControl:Object(Y.jsx)(W.EuiFieldNumber,{value:e.value,onChange:e.onChange,isLoading:e.isValidating,isInvalid:a,fullWidth:!0,"data-test-subj":"input",controlOnly:!0,"aria-label":i.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.frequencyFilterAbsoluteMinAriaLabel",{defaultMessage:"Minimum absolute frequency"})}),endControl:Object(Y.jsx)(W.EuiFieldNumber,{value:t.value,onChange:t.onChange,isLoading:t.isValidating,isInvalid:s,fullWidth:!0,"data-test-subj":"input",controlOnly:!0,"aria-label":i.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.frequencyFilterAbsoluteMaxAriaLabel",{defaultMessage:"Maximum absolute frequency"})})}))},No=({field:e,defaultToggleValue:t})=>{const[a,n]=Object(q.useState)(void 0!==e.source.fielddata_frequency_filter&&e.source.fielddata_frequency_filter.max>1?"absolute":"percentage");function s(e,t=a){return Ae("percentage"===t?"fielddata_frequency_filter_percentage":"fielddata_frequency_filter_absolute",e)}const r=(e,t)=>()=>{var i,r,o,l;const c="percentage"===a?"absolute":"percentage",d=s("min",c),u=s("max",c);e.setValue(null!==(i=null===(r=d.deserializer)||void 0===r?void 0:r.call(d,d.defaultValue))&&void 0!==i?i:d.defaultValue),t.setValue(null!==(o=null===(l=u.deserializer)||void 0===l?void 0:l.call(u,u.defaultValue))&&void 0!==o?o:u.defaultValue),n(c)};return Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.fielddataFormRowTitle",{defaultMessage:"Fielddata"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.fielddataFormRowDescription",{defaultMessage:"Whether to use in-memory fielddata for sorting, aggregations, or scripting."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.fieldDataDocLinkText",{defaultMessage:"Fielddata documentation"}),href:Ce.getFielddataLink()},formFieldPath:"fielddata",defaultToggleValue:t},Object(Y.jsx)(de.UseMultiFields,{fields:{min:{path:"fielddata_frequency_filter.min",config:s("min")},max:{path:"fielddata_frequency_filter.max",config:s("max")}}},(({min:e,max:t})=>{const n="percentage"===a?Do:Po;return Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiCallOut,{color:"warning",iconType:"alert",size:"s",title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.fielddata.fielddataEnabledWarningTitle",defaultMessage:"Fielddata can consume significant memory. This is particularly likely when loading high-cardinality text fields. {docsLink}",values:{docsLink:Object(Y.jsx)(W.EuiLink,{href:Ce.getEnablingFielddataLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.fielddataEnabledDocumentationLink",{defaultMessage:"Learn more."}))}})}),Object(Y.jsx)(W.EuiSpacer,{size:"m"}),Object(Y.jsx)(W.EuiTitle,{size:"xxs"},Object(Y.jsx)("h4",null,i.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.fielddataDocumentFrequencyRangeTitle",{defaultMessage:"Document frequency range"}))),Object(Y.jsx)(W.EuiSpacer,{size:"s"}),Object(Y.jsx)(W.EuiText,{size:"s",color:"subdued"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.fielddata.fielddataFrequencyMessage",defaultMessage:"This range determines the terms loaded into memory. Frequency is calculated per segment. Exclude small segments based on their size, in number of documents. {docsLink}",values:{docsLink:Object(Y.jsx)(W.EuiLink,{href:Ce.getFielddataFrequencyLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.fielddataFrequencyDocumentationLink",{defaultMessage:"Learn more."}))}})),Object(Y.jsx)(W.EuiSpacer,{size:"m"}),Object(Y.jsx)(W.EuiFlexGroup,null,Object(Y.jsx)(W.EuiFlexItem,null,Object(Y.jsx)(n,{min:e,max:t})),Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(de.UseField,{path:"fielddata_frequency_filter.min_segment_size",config:Ae("fielddata_frequency_filter","min_segment_size"),component:ue.Field}))),Object(Y.jsx)(W.EuiSpacer,{size:"s"}),Object(Y.jsx)(W.EuiSwitch,{compressed:!0,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.useAbsoluteValuesFieldLabel",{defaultMessage:"Use absolute values"}),checked:"absolute"===a,onChange:r(e,t),"data-test-subj":"input"}))})))},Ao=()=>Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.splitQueriesOnWhitespaceFieldTitle",{defaultMessage:"Split queries on whitespace"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.splitQueriesOnWhitespaceDescription",{defaultMessage:"Full text queries will split the input on whitespace when building a query for this field."}),formFieldPath:"split_queries_on_whitespace"}),Ro=({defaultToggleValue:e})=>Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.date.localeFieldTitle",{defaultMessage:"Set locale"}),description:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dateType.localeFieldDescription",defaultMessage:"The locale to use when parsing dates. This is useful because months might not have the same name or abbreviation in all languages. Defaults to the {root} locale.",values:{root:Object(Y.jsx)(W.EuiLink,{href:Ce.getRootLocaleLink(),target:"_blank"},"ROOT")}}),defaultToggleValue:e},Object(Y.jsx)(de.UseField,{path:"locale",config:Ae("locale"),component:ue.Field})),zo=()=>Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.searchableProperties.fieldTitle",{defaultMessage:"Searchable properties"}),description:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.searchableProperties.fieldDescription",defaultMessage:"Allow object properties to be searched. The JSON can still be retrieved from the {source} field even after disabling this setting.",values:{source:Object(Y.jsx)(W.EuiCode,null,"_source")}}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.enabledDocLinkText",{defaultMessage:"Enabled documentation"}),href:Ce.getEnabledLink()},formFieldPath:"enabled"}),Bo=({defaultToggleValue:e})=>Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.maxShingleSizeFieldTitle",{defaultMessage:"Set max shingle size"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.maxShingleSizeFieldDescription",{defaultMessage:"The default is three shingle subfields. More subfields enable more specific queries, but increase index size."}),defaultToggleValue:e},Object(Y.jsx)(de.UseField,{path:"max_shingle_size",component:ue.Field,config:Ae("max_shingle_size"),componentProps:{euiFieldProps:{options:[{value:2,text:"2"},{value:3,text:"3"},{value:4,text:"4"}]}}})),{isJsonField:Vo}=pe.fieldValidators,Uo={label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.otherTypeJsonFieldLabel",{defaultMessage:"Type Parameters JSON"}),defaultValue:{},validations:[{validator:Vo(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.otherTypeJsonInvalidJSONErrorMessage",{defaultMessage:"Invalid JSON."}))},{validator:({value:e})=>{const t=JSON.parse(e);if(Array.isArray(t))return{message:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.otherTypeJsonArrayNotAllowedErrorMessage",{defaultMessage:"Arrays are not allowed."})}}},{validator:({value:e})=>{if(JSON.parse(e).type)return{code:"ERR_CUSTOM_TYPE_OVERRIDDEN",message:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.otherTypeJsonTypeFieldErrorMessage",{defaultMessage:'Cannot override the "type" field.'})}}}],deserializer:e=>""===e?e:JSON.stringify(e,null,2),serializer:e=>{try{return JSON.parse(e)}catch(t){return e}}},qo=()=>Object(Y.jsx)(de.UseField,{path:"otherTypeJson",config:Uo,component:ue.JsonEditorField}),$o=({defaultToggleValue:e})=>Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.metaParameterTitle",{defaultMessage:"Set metadata"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.metaParameterDescription",{defaultMessage:"Arbitrary information about the field. Specify as JSON key-value pairs."}),defaultToggleValue:e,docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.metaParameterDocLinkText",{defaultMessage:"Metadata documentation"}),href:Ce.getMetaLink()},"data-test-subj":"metaParameter"},Object(Y.jsx)(de.UseField,{path:"meta",config:Ae("meta"),component:ue.JsonEditorField,componentProps:{euiCodeEditorProps:{"data-test-subj":"metaParameterEditor",height:"300px","aria-label":i.i18n.translate("xpack.idxMgmt.mappingsEditor.metaParameterAriaLabel",{defaultMessage:"metadata field data editor"})}}})),Wo=({defaultToggleValue:e})=>Object(Y.jsx)(Hr,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoreAboveFieldTitle",{defaultMessage:"Set length limit"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoreAboveFieldDescription",{defaultMessage:"Strings longer than this value will not be indexed. This is useful for protecting against Lucenes term character-length limit of 8,191 UTF-8 characters."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoreAboveDocLinkText",{defaultMessage:"Ignore above documentation"}),href:Ce.getIgnoreAboveLink()},defaultToggleValue:e},Object(Y.jsx)(de.UseField,{path:"ignore_above",config:Ae("ignore_above"),component:ue.Field})),Ho=[e=>{if(void 0===e.relations)return e;const t=e.relations.reduce(((e,t)=>({...e,[t.parent]:1===t.children.length?t.children[0]:t.children})),{});return{...e,relations:t}},e=>{if(void 0===e.dynamic_toggle)return e;const t=!0===e.dynamic_toggle||!0===e.dynamic_strict&&"strict",{dynamic_toggle:a,dynamic_strict:i,...n}=e;return{...n,dynamic:t}}],Go=[e=>{if(void 0===e.relations)return e;const t=e.relations,a=Object.entries(t).map((([e,t])=>({parent:e,children:"string"==typeof t?[t]:t})));return{...e,relations:a}},e=>{if(void 0===e.dynamic)return e;const t=!0===e.dynamic,a="strict"===e.dynamic;return{...e,dynamic_toggle:t,dynamic_strict:a}}],Jo=e=>{const{otherTypeJson:t,...a}=e,i=Boolean(t)?{...t,...a}:{...a};return{}.hasOwnProperty.call(i,"subType")&&(i.type=i.subType,delete i.subType),delete i.useSameAnalyzerForSearch,(e=>Object.entries(e).filter((({1:e})=>e!==V)).reduce(((e,[t,a])=>({...e,[t]:a})),{}))((e=>Ho.reduce(((e,t)=>t(e)),e))(i))},Yo=e=>{const t=Re(e.type);if(e.type=t.mainType,e.subType=t.subType,"other"===e.type){const{type:t,subType:a,name:i,...n}=e;e.otherTypeJson=n}else e.useSameAnalyzerForSearch=!1==={}.hasOwnProperty.call(e,"search_analyzer");return(e=>Go.reduce(((e,t)=>t(e)),e))(e)},Ko=({rootLevelFields:e,byId:t},a="",n)=>({value:s})=>{if((n?Object.values(t).filter((e=>e.parentId===n)).map((e=>e.source.name)):e.map((e=>t[e].source.name))).filter((e=>e!==a)).includes(s))return{message:i.i18n.translate("xpack.idxMgmt.mappingsEditor.existNamesValidationErrorMessage",{defaultMessage:"There is already a field with this name."})}};var Xo=a(161),Zo=a(158),Qo=a(58);const el=[],tl={report:Object(Qo.fold)((e=>e.map((e=>{const t=[];let a="";e.context.forEach(((i,n)=>{i.key&&t.push(i.key),n===e.context.length-1&&(a=i.type.name)}));const i=t[t.length-1];return{path:t,message:"Invalid value "+JSON.stringify(e.value)+` supplied to ${i}(${a})`}}))),(()=>el))},al=[...Object.keys(_e),"type","properties","fields"],il="object",nl=e=>Object.entries(e).reduce(((e,[t,a])=>{var i;al.includes(t)&&((e,t)=>{if("type"===e)return!0;if("name"===e)return!1;if("properties"===e||"fields"===e)return Object(wi.isPlainObject)(t);const a=_e[e].schema;return!a||Object(Qo.isRight)(a.decode(t))})(t,a)?(e.value=null!==(i=e.value)&&void 0!==i?i:{},e.value[t]=a):e.parametersRemoved.push(t);return e}),{parametersRemoved:[]}),sl=e=>{var t,a;if(!Object(wi.isPlainObject)(e))return{parametersRemoved:[]};if("string"!=typeof(a=null!==(t=e.type)&&void 0!==t?t:il)||!Q.includes(a))return{parametersRemoved:[]};const i={type:il,...e};return{...nl(i),meta:Pe(i)}},rl=(e,t=[])=>Object.entries(e).reduce(((e,[a,i])=>{const n=[...t,a].join("."),{value:s,parametersRemoved:r,meta:o}=sl(i);if(void 0===s)e.errors.push({code:"ERR_FIELD",fieldPath:n});else{if(o.hasChildFields||o.hasMultiFields){const i=rl(s[o.childFieldsName],[...t,a]);s[o.childFieldsName]=i.value,i.errors&&(e.errors=[...e.errors,...i.errors])}e.value[a]=s,Boolean(r.length)&&(e.errors=[...e.errors,...r.map((e=>({code:"ERR_PARAMETER",fieldPath:n,paramName:e})))])}return e}),{value:{},errors:[]}),ol=ce.exact(ce.partial({properties:ce.UnknownRecord,runtime:ce.UnknownRecord,dynamic:ce.union([ce.literal(!0),ce.literal(!1),ce.literal("strict")]),date_detection:ce.boolean,numeric_detection:ce.boolean,dynamic_date_formats:ce.array(ce.string),_source:ce.exact(ce.partial({enabled:ce.boolean,includes:ce.array(ce.string),excludes:ce.array(ce.string)})),_meta:ce.UnknownRecord,_routing:ce.interface({required:ce.boolean}),dynamic_templates:ce.array(ce.UnknownRecord),_size:ce.interface({enabled:ce.boolean})})),ll=Object.keys(ol.type.props),cl=Object.keys(ol.type.props._source.type.props),dl=e=>{const t=new Set;let a={...e};const i=ol.decode(e),n=Object(Qo.isLeft)(i),s=Object.keys(e).filter((e=>!1===ll.includes(e))),r=void 0!==e._source?Object.keys(e._source).filter((e=>!1===cl.includes(e))):[];if(n){tl.report(i).forEach((e=>{const i=e.path[0];t.add(i),delete a[i]}))}s.length>0&&s.forEach((e=>t.add(e))),r.length>0&&(t.add("_source"),delete a._source),a=Object(wi.pick)(a,ll);const o=Object(Zo.toArray)(Xo.ordString)(t).map((e=>({code:"ERR_CONFIG",configName:e}))).sort(((e,t)=>e.configName.localeCompare(t.configName)));return{value:a,errors:o}},ul=e=>t=>{const a={...t},i=[];return"_size"in a&&!e.includes(Se)&&(i.push({code:"ERR_CONFIG",configName:"_size"}),delete a._size),{value:a,errors:i}},pl=(e={},t=[])=>{if(!Object(wi.isPlainObject)(e))return{value:{}};const{properties:a,dynamic_templates:i,...n}=e,{value:s,errors:r}=[dl,ul(t)].reduce(((e,t)=>{const{value:a,errors:i}=t(e.value);return{value:a,errors:[...e.errors,...i]}}),{value:n,errors:[]}),{value:o,errors:l}=((e={})=>Object(wi.isPlainObject)(e)?rl(e):{value:{},errors:[]})(a),c=[...r,...l];return{value:{...s,properties:o,dynamic_templates:null!=i?i:[]},errors:c.length?c:void 0}},ml=e=>e.replace(/[-\[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),gl=(e,t)=>e.metadata.score>t.metadata.score?-1:t.metadata.score>e.metadata.score||null===e.metadata.stringMatch?1:null===t.metadata.stringMatch?-1:e.metadata.matchFieldName&&t.metadata.matchFieldName?e.field.source.name.length-t.field.source.name.length:e.metadata.stringMatch.length===t.metadata.stringMatch.length?e.field.path.length-t.field.path.length:t.metadata.stringMatch.length-e.metadata.stringMatch.length,fl=(e,t)=>{const{term:a,type:i,searchRegexArray:n}=e,s=null!=i?i:a,r=a===t.name,o=a===t.path,l=n[0].exec(t.name),c=!!r||null!==l,d=t.path.startsWith(a),u=t.type.includes(s),p=s===t.type;let m=null;if(o)m=t.path;else if(c)m=r?t.name:l[0];else{const e=n.map((e=>e.exec(t.path))).filter(Boolean).sort(((e,t)=>t[0].length-e[0].length));e.length&&(m=e[0][0])}const g={matchFieldName:c,matchPath:null!==m,matchStartOfPath:d,fullyMatchPath:o,matchType:u,fullyMatchFieldName:r,fullyMatchType:p,stringMatch:m},f=(e=>{let t=0;return e.fullyMatchFieldName&&(t+=15),e.matchFieldName&&(t+=5),e.matchPath&&(t+=15),e.matchStartOfPath&&(t+=5),e.fullyMatchPath&&(t+=5),e.matchType&&(t+=5),e.fullyMatchType&&(t+=5),t})(g),x=((e,t,a)=>{const{term:i}=e,{path:n}=t;let s=Object(Y.jsx)("span",null,n);if(a.fullyMatchPath)s=Object(Y.jsx)("span",{style:{lineHeight:1.5}},Object(Y.jsx)("strong",null,n));else if(a.matchStartOfPath){const e=n.substr(i.length,n.length);s=Object(Y.jsx)("span",{style:{lineHeight:1.5}},Object(Y.jsx)("strong",null,i),e)}else if(a.matchPath){const{stringMatch:e}=a,t=n.lastIndexOf(e),i=n.substr(0,t),r=n.substr(t+e.length);s=Object(Y.jsx)("span",{style:{lineHeight:1.5}},i,Object(Y.jsx)("strong",null,e),r)}return s})(e,t,g);return{...g,display:x,score:f}},xl=e=>{let t,a=e.replace(/\s+/g," ").trim();const i=a.split(" ").map(ml);">"===i[i.length-1]&&(i.pop(),a=i.join(" "));const n=[new RegExp(i.join("([\\._-\\s]|(\\s>\\s))?"),"i")];const s=Q.includes(i[0]),r=Q.includes(i[i.length-1]);return s?t=i[0]:r&&(t=i[i.length-1]),{term:a,terms:i,type:t,searchRegexArray:n}},bl=(e,t)=>{const a=xl(e);return""===a.term?[]:Object.values(t).map((e=>({field:e,metadata:fl(a,{name:e.source.name,path:e.path.join(" > "),type:e.source.type})}))).filter((({metadata:e})=>e.score>0)).sort(gl).map((({field:e,metadata:{display:t}})=>({display:t,field:e})))},hl=e=>{if(!Object.keys(e).every((e=>ll.includes(e))))return!1;const{properties:t,dynamic_templates:a,runtime:i,...n}=e,{errors:s}=dl(n),r=0===s.length,o=void 0===t||Object(wi.isPlainObject)(t),l=void 0===a||Array.isArray(a),c=void 0===i||Object(wi.isPlainObject)(i);return r&&o&&l&&c},jl=e=>{if(hl(e))return[{mappings:e}];return Object.entries(e).reduce(((e,[t,a])=>(hl(a)&&e.push({type:t,mappings:a}),e)),[])},Ml=(e={})=>jl(e).filter((({type:e})=>void 0!==e)).length>0,yl=(e,{aliases:t},a)=>{const i={...t};a&&i[a]&&(i[a]=i[a].filter((t=>t!==e.id)));const n=e.source.path;return i[n]||(i[n]=[]),i[n]=[...i[n],e.id],i},Ol=(e,t)=>{let{rootLevelFields:a}=t;const i={...t.byId},{parentId:n}=i[e];if(delete i[e],n){const t=i[n];if(t){const a=t.childFields.filter((t=>t!==e));i[n]={...t,childFields:a,hasChildFields:t.canHaveChildFields&&Boolean(a.length),hasMultiFields:t.canHaveMultiFields&&Boolean(a.length),isExpanded:!(!t.hasChildFields&&!t.hasMultiFields)&&t.isExpanded}}}else a=a.filter((t=>t!==e));let s={...t,rootLevelFields:a,byId:i};if(s.aliases[e]){s=s.aliases[e].reduce(((e,t)=>Ol(t,e)),s);const t={...s.aliases};return delete t[e],{...s,aliases:t}}return s},vl=(e,t)=>{switch(t.type){case"editor.replaceMappings":return{...e,fieldForm:void 0,fields:t.value.fields,configuration:{...e.configuration,data:{internal:t.value.configuration,format:()=>t.value.configuration},defaultValue:t.value.configuration},templates:{...e.templates,data:{internal:t.value.templates,format:()=>t.value.templates},defaultValue:t.value.templates},documentFields:{...e.documentFields,...t.value.documentFields,fieldToAddFieldTo:void 0,fieldToEdit:void 0},runtimeFields:t.value.runtimeFields,runtimeFieldsList:{status:"idle"},search:{term:"",result:[]}};case"configuration.update":{const a={...e,configuration:{...e.configuration,...t.value}};return a.isValid=t.value.isValid,a}case"configuration.save":return{...e,configuration:{isValid:!0,defaultValue:t.value,data:{internal:t.value,format:()=>t.value},validate:async()=>!0}};case"templates.update":{const a={...e,templates:{...e.templates,...t.value}};return a.isValid=t.value.isValid,a}case"templates.save":return{...e,templates:{isValid:!0,defaultValue:t.value,data:{internal:t.value,format:()=>t.value},validate:async()=>!0}};case"fieldForm.update":{const a={...e,fieldForm:t.value};return a.isValid=t.value.isValid,a}case"documentField.createField":return{...e,documentFields:{...e.documentFields,fieldToAddFieldTo:t.value,status:"creatingField"}};case"documentField.editField":return{...e,documentFields:{...e.documentFields,status:"editingField",fieldToEdit:t.value}};case"documentField.changeStatus":const a="idle"===t.value?e.configuration.isValid:e.isValid;return{...e,isValid:a,fieldForm:void 0,documentFields:{...e.documentFields,status:t.value,fieldToAddFieldTo:void 0,fieldToEdit:void 0}};case"documentField.changeEditor":{const a="default"===t.value?ze(e.fieldsJsonEditor.format()):e.fields;return{...e,fields:a,fieldForm:void 0,documentFields:{...e.documentFields,status:"idle",fieldToAddFieldTo:void 0,fieldToEdit:void 0,editor:t.value}}}case"field.add":return((e,t)=>{const a={...t.fields},i=De(),{fieldToAddFieldTo:n}=t.documentFields,s=void 0===n,r=s?void 0:a.byId[n],o=!!r&&r.canHaveMultiFields;a.byId={...a.byId},a.rootLevelFields=s?[...a.rootLevelFields,i]:a.rootLevelFields;const l=r&&(r.canHaveChildFields||r.canHaveMultiFields)?r.nestedDepth+1:0;a.maxNestedDepth=Math.max(a.maxNestedDepth,l);const{name:c}=e,d={id:i,parentId:n,isMultiField:o,source:e,path:r?[...r.path,c]:[c],nestedDepth:l,...Pe(e,o)};if(a.byId[i]=d,r){const e=r.childFields||[];a.byId[n]={...r,childFields:[...e,i],hasChildFields:r.canHaveChildFields,hasMultiFields:r.canHaveMultiFields,isExpanded:!0}}return"alias"===d.source.type&&(a.aliases=yl(d,a)),{...t,isValid:!0,fields:a}})(t.value,e);case"field.remove":{const a=e.fields.byId[t.value],{id:i,hasChildFields:n,hasMultiFields:s}=a;let r=Ol(i,e.fields);if(n||s){Ve(a,e.fields.byId).forEach((e=>{r=Ol(e.id,r)}))}if("alias"===a.source.type&&a.source.path){const e=a.source.path;r.aliases={...r.aliases,[e]:r.aliases[e].filter((e=>e!==i))}}return r.maxNestedDepth=We(r.byId),{...e,fields:r,documentFields:{...e.documentFields,status:0===r.rootLevelFields.length?"creatingField":"idle"},search:Boolean(e.search.term)?{...e.search,result:bl(e.search.term,r.byId)}:e.search}}case"field.edit":{let a={...e.fields};const i=e.documentFields.fieldToEdit,n=a.byId[i];let s={...n,source:t.value};"alias"===s.source.type&&(a.aliases=yl(s,a,n.source.path));const r=s.source.name!==n.source.name,o=s.source.type!==n.source.type;if(r){const{updatedFieldPath:e,updatedById:t}=((e,t)=>{const a={...t},i=e.parentId?t[e.parentId].path:[],n=(e,i)=>{const{name:s}=e.source,r=0===i.length?[s]:[...i,s];a[e.id]={...e,path:r},(e.hasChildFields||e.hasMultiFields)&&e.childFields.map((e=>t[e])).forEach((e=>{n(e,[...i,s])}))};return n(e,i),{updatedFieldPath:a[e.id].path,updatedById:a}})(s,a.byId);s.path=e,a.byId=t}if(a.byId[i]=s,o){const e=Ge(n.source.type,s.source.type);if("alias"===n.source.type&&n.source.path)a.aliases={...a.aliases,[n.source.path]:a.aliases[n.source.path].filter((e=>e!==i))};else{!!_e.path.targetTypesNotAllowed.includes(s.source.type)&&a.aliases[i]&&(a.aliases[i].forEach((e=>{a=Ol(e,a)})),delete a.aliases[i])}if(e&&n.childFields){Ve(n,a.byId).forEach((e=>{a=Ol(e.id,a)}))}s={...s,...Pe(t.value,s.isMultiField),childFields:e?void 0:n.childFields,hasChildFields:!e&&n.hasChildFields,hasMultiFields:!e&&n.hasMultiFields,isExpanded:!e&&n.isExpanded},a.byId[i]=s}return a.maxNestedDepth=We(a.byId),{...e,isValid:!0,fieldForm:void 0,fields:a,documentFields:{...e.documentFields,fieldToEdit:void 0,status:"idle"},search:Boolean(e.search.term)?{...e.search,result:bl(e.search.term,a.byId)}:e.search}}case"field.toggleExpand":{const{fieldId:a,isExpanded:i}=t.value,n=e.fields.byId[a],s={...n,isExpanded:void 0===i?!n.isExpanded:i};return{...e,fields:{...e.fields,byId:{...e.fields.byId,[a]:s}}}}case"runtimeFieldsList.createField":return{...e,runtimeFieldsList:{...e.runtimeFieldsList,status:"creatingField"}};case"runtimeFieldsList.editField":return{...e,runtimeFieldsList:{...e.runtimeFieldsList,status:"editingField",fieldToEdit:t.value}};case"runtimeField.add":{const a=De(),i={id:a,source:t.value};return{...e,runtimeFields:{...e.runtimeFields,[a]:i},runtimeFieldsList:{...e.runtimeFieldsList,status:"idle"}}}case"runtimeField.edit":{const a=e.runtimeFieldsList.fieldToEdit;return{...e,runtimeFields:{...e.runtimeFields,[a]:t.value},runtimeFieldsList:{...e.runtimeFieldsList,status:"idle"}}}case"runtimeField.remove":{const a=e.runtimeFields[t.value],{id:i}=a,n={...e.runtimeFields};return delete n[i],{...e,runtimeFields:n}}case"runtimeFieldsList.closeRuntimeFieldEditor":return{...e,runtimeFieldsList:{...e.runtimeFieldsList,status:"idle",fieldToEdit:void 0}};case"fieldsJsonEditor.update":{const a={...e,fieldsJsonEditor:{format:()=>t.value.json,isValid:t.value.isValid}};return a.isValid=t.value.isValid,a}case"search:update":return{...e,search:{term:t.value,result:bl(t.value,e.fields.byId)}};case"validity:update":return{...e,isValid:t.value};default:throw new Error(`Action "${t.type}" not recognized.`)}},Tl=Object(q.createContext)(void 0),El=Object(q.createContext)(void 0),kl=({children:e})=>{const t={isValid:!0,configuration:{defaultValue:{},data:{internal:{},format:()=>({})},validate:()=>Promise.resolve(!0)},templates:{defaultValue:{},data:{internal:{},format:()=>({})},validate:()=>Promise.resolve(!0)},fields:{byId:{},rootLevelFields:[],aliases:{},maxNestedDepth:0},documentFields:{status:"idle",editor:"default"},runtimeFields:{},runtimeFieldsList:{status:"idle"},fieldsJsonEditor:{format:()=>({}),isValid:!0},search:{term:"",result:[]}},[a,i]=Object(q.useReducer)(vl,t);return Object(Y.jsx)(Tl.Provider,{value:a},Object(Y.jsx)(El.Provider,{value:i},e))},Fl=()=>{const e=Object(q.useContext)(Tl);if(void 0===e)throw new Error("useMappingsState must be used within a <MappingsState>");return e},_l=()=>{const e=Object(q.useContext)(El);if(void 0===e)throw new Error("useDispatch must be used within a <MappingsState>");return e},Sl=Object(de.getUseField)({component:ue.Field}),Cl=()=>Object(Y.jsx)(ue.FormRow,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicMappingTitle",{defaultMessage:"Dynamic mapping"}),description:Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dynamicMappingDescription",defaultMessage:"Dynamic mapping allows an index template to interpret unmapped fields. {docsLink}",values:{docsLink:Object(Y.jsx)(W.EuiLink,{href:Ce.getDynamicMappingLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicMappingDocumentionLink",{defaultMessage:"Learn more."}))}}),Object(Y.jsx)(W.EuiSpacer,{size:"m"}),Object(Y.jsx)(Sl,{path:"dynamicMapping.enabled",component:ue.ToggleField,componentProps:{"data-test-subj":"dynamicMappingsToggle"}}))},Object(Y.jsx)(de.FormDataProvider,{pathsToWatch:["dynamicMapping.enabled","dynamicMapping.date_detection"]},(e=>{const{dynamicMapping:{enabled:t,date_detection:a}}=e;return void 0===t?null:t?Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(Sl,{key:"numericDetectionToggle",path:"dynamicMapping.numeric_detection",componentProps:{"data-test-subj":"numericDetection"}}),Object(Y.jsx)(Sl,{path:"dynamicMapping.date_detection"}),a&&Object(Y.jsx)(Sl,{path:"dynamicMapping.dynamic_date_formats",componentProps:{euiFieldProps:{options:le,noSuggestions:!1}}})):Object(Y.jsx)(Sl,{key:"throwErrorsCheckBox",path:"dynamicMapping.throwErrorsForUnmappedFields",component:ue.CheckBoxField})}))),Ll=()=>Object(Y.jsx)(ue.FormRow,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.sourceFieldTitle",{defaultMessage:"_source field"}),description:Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.sourceFieldDescription",defaultMessage:"The _source field contains the original JSON document body that was provided at index time. Individual fields can be pruned by defining which ones to include or exclude from the _source field. {docsLink}",values:{docsLink:Object(Y.jsx)(W.EuiLink,{href:Ce.getMappingSourceFieldLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.sourceFieldDocumentionLink",{defaultMessage:"Learn more."}))}}),Object(Y.jsx)(W.EuiSpacer,{size:"m"}),Object(Y.jsx)(de.UseField,{path:"sourceField.enabled",component:ue.ToggleField}))},Object(Y.jsx)(de.FormDataProvider,{pathsToWatch:["sourceField.enabled"]},(e=>{const{sourceField:{enabled:t}}=e;return void 0===t?null:t?Object(Y.jsx)("div",{"data-test-subj":"sourceField"},Object(Y.jsx)(de.UseField,{path:"sourceField.includes"},(({label:e,helpText:t,value:a,setValue:n})=>Object(Y.jsx)(W.EuiFormRow,{label:e,helpText:t,fullWidth:!0},Object(Y.jsx)(W.EuiComboBox,{noSuggestions:!0,placeholder:i.i18n.translate("xpack.idxMgmt.mappingsEditor.sourceIncludeField.placeholderLabel",{defaultMessage:"path.to.field.*"}),selectedOptions:a,onChange:e=>{n(e)},onCreateOption:e=>{const t={label:e};n([...a,t])},fullWidth:!0,"data-test-subj":"includesField"})))),Object(Y.jsx)(W.EuiSpacer,{size:"m"}),Object(Y.jsx)(de.UseField,{path:"sourceField.excludes"},(({label:e,helpText:t,value:a,setValue:n})=>Object(Y.jsx)(W.EuiFormRow,{label:e,helpText:t,fullWidth:!0},Object(Y.jsx)(W.EuiComboBox,{noSuggestions:!0,placeholder:i.i18n.translate("xpack.idxMgmt.mappingsEditor.sourceExcludeField.placeholderLabel",{defaultMessage:"path.to.field.*"}),selectedOptions:a,onChange:e=>{n(e)},onCreateOption:e=>{const t={label:e};n([...a,t])},fullWidth:!0,"data-test-subj":"excludesField"}))))):Object(Y.jsx)(W.EuiCallOut,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.disabledSourceFieldCallOutTitle",{defaultMessage:"Use caution when disabling the _source field"}),iconType:"alert",color:"warning"},Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.disabledSourceFieldCallOutDescription1",defaultMessage:"Disabling {source} lowers storage overhead within the index, but this comes at a cost. It also disables important features, such as the ability to reindex or debug queries by viewing the original document.",values:{source:Object(Y.jsx)("code",null,i.i18n.translate("xpack.idxMgmt.mappingsEditor.disabledSourceFieldCallOutDescription1.sourceText",{defaultMessage:"_source"}))}})),Object(Y.jsx)("p",null,Object(Y.jsx)("a",{href:Ce.getDisablingMappingSourceFieldLink(),target:"_blank"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.disabledSourceFieldCallOutDescription2",defaultMessage:"Learn more about alternatives to disabling the {source} field.",values:{source:Object(Y.jsx)("code",null,i.i18n.translate("xpack.idxMgmt.mappingsEditor.disabledSourceFieldCallOutDescription2.sourceText",{defaultMessage:"_source"}))}}))))}))),wl=Object(de.getUseField)({component:ue.Field}),Il=()=>Object(Y.jsx)(ue.FormRow,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.metaFieldTitle",{defaultMessage:"_meta field"}),description:Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.metaFieldDescription",defaultMessage:"Use the _meta field to store any metadata you want. {docsLink}",values:{docsLink:Object(Y.jsx)(W.EuiLink,{href:Ce.getMetaFieldLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.metaFieldDocumentionLink",{defaultMessage:"Learn more."}))}}))},Object(Y.jsx)(wl,{path:"metaField",component:ue.JsonEditorField,componentProps:{euiCodeEditorProps:{height:"400px","aria-label":i.i18n.translate("xpack.idxMgmt.mappingsEditor.metaFieldEditorAriaLabel",{defaultMessage:"_meta field data editor"}),"data-test-subj":"metaField"}}})),Dl=()=>Object(Y.jsx)(ue.FormRow,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.routingTitle",{defaultMessage:"_routing"}),description:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.routingDescription",defaultMessage:"A document can be routed to a particular shard in an index. When using custom routing, it is important to provide the routing value whenever indexing a document as otherwise this could lead to a document being indexed on more than one shard. {docsLink}",values:{docsLink:Object(Y.jsx)(W.EuiLink,{href:Ce.getRoutingLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.routingDocumentionLink",{defaultMessage:"Learn more."}))}})},Object(Y.jsx)(de.UseField,{path:"_routing.required",component:ue.ToggleField,componentProps:{"data-test-subj":"routingRequiredToggle"}})),Pl=()=>Object(Y.jsx)(ue.FormRow,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.sizeTitle",{defaultMessage:"_size"}),description:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.sizeDescription",defaultMessage:"The Mapper Size plugin can index the size of the original {_source} field. {docsLink}",values:{docsLink:Object(Y.jsx)(W.EuiLink,{href:Ce.docLinks.plugins.mapperSize,target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.sizeDocumentionLink",{defaultMessage:"Learn more."})),_source:Object(Y.jsx)(W.EuiCode,null,"_source")}})},Object(Y.jsx)(de.UseField,{path:"_size.enabled",component:ue.ToggleField,componentProps:{"data-test-subj":"sizeEnabledToggle"}})),{containsCharsField:Nl,isJsonField:Al}=pe.fieldValidators,Rl={helpText:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.sourceFieldPathComboBoxHelpText",{defaultMessage:"Accepts a path to the field, including wildcards."}),type:de.FIELD_TYPES.COMBO_BOX,defaultValue:[],serializer:e=>e.map((({label:e})=>e)),deserializer:e=>e.map((e=>({label:e})))},zl={metaField:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.metaFieldEditorLabel",{defaultMessage:"_meta field data"}),helpText:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.configuration.metaFieldEditorHelpText",defaultMessage:"Use JSON format: {code}",values:{code:Object(Y.jsx)(W.EuiCode,null,JSON.stringify({arbitrary_data:"anything_goes"}))}}),validations:[{validator:Al(i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.metaFieldEditorJsonError",{defaultMessage:"The _meta field JSON is not valid."}),{allowEmptyString:!0})}],deserializer:e=>""===e?e:JSON.stringify(e,null,2),serializer:e=>{try{const t=JSON.parse(e);if(!Object.keys(t).length)return;return t}catch(t){return e}}},sourceField:{enabled:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.sourceFieldLabel",{defaultMessage:"Enable _source field"}),type:de.FIELD_TYPES.TOGGLE,defaultValue:!0},includes:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.includeSourceFieldsLabel",{defaultMessage:"Include fields"}),...Rl},excludes:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.excludeSourceFieldsLabel",{defaultMessage:"Exclude fields"}),...Rl}},dynamicMapping:{enabled:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.enableDynamicMappingsLabel",{defaultMessage:"Enable dynamic mapping"}),type:de.FIELD_TYPES.TOGGLE,defaultValue:!0},throwErrorsForUnmappedFields:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.throwErrorsForUnmappedFieldsLabel",{defaultMessage:"Throw an exception when a document contains an unmapped field"}),helpText:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.dynamicMappingStrictHelpText",{defaultMessage:"By default, unmapped fields will be silently ignored when dynamic mapping is disabled. Optionally, you can choose to throw an exception when a document contains an unmapped field."}),type:de.FIELD_TYPES.CHECKBOX,defaultValue:!1},numeric_detection:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.numericFieldLabel",{defaultMessage:"Map numeric strings as numbers"}),helpText:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.numericFieldDescription",{defaultMessage:'For example, "1.0" would be mapped as a float and "1" would be mapped as an integer.'}),type:de.FIELD_TYPES.TOGGLE,defaultValue:!1},date_detection:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.dateDetectionFieldLabel",{defaultMessage:"Map date strings as dates"}),type:de.FIELD_TYPES.TOGGLE,defaultValue:!0},dynamic_date_formats:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.dynamicDatesFieldLabel",{defaultMessage:"Date formats"}),helpText:()=>Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.configuration.dynamicDatesFieldHelpText",defaultMessage:"Strings in these formats will be mapped as dates. You can use built-in formats or custom formats. {docsLink}",values:{docsLink:Object(Y.jsx)(W.EuiLink,{href:Ce.getDateFormatLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.dynamicDatesFieldDocumentionLink",{defaultMessage:"Learn more."}))}}),type:de.FIELD_TYPES.COMBO_BOX,defaultValue:["strict_date_optional_time","yyyy/MM/dd HH:mm:ss Z||yyyy/MM/dd Z"],validations:[{validator:Nl({message:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.dynamicDatesFieldValidationErrorMessage",{defaultMessage:"Spaces are not allowed."}),chars:" "}),type:de.VALIDATION_TYPES.ARRAY_ITEM}]}},_routing:{required:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.routingLabel",{defaultMessage:"Require _routing value for CRUD operations"}),defaultValue:!1}},_size:{enabled:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.sizeLabel",{defaultMessage:"Index the _source field size in bytes"}),defaultValue:!1}}},Bl=e=>{const{dynamicMapping:{enabled:t,throwErrorsForUnmappedFields:a,numeric_detection:i,date_detection:n,dynamic_date_formats:s},sourceField:r,metaField:o,_routing:l,_size:c}=e;return{dynamic:!!t||!!a&&"strict",numeric_detection:i,date_detection:n,dynamic_date_formats:s,_source:r,_meta:o,_routing:l,_size:c}},Vl=e=>{const{dynamic:t,numeric_detection:a,date_detection:i,dynamic_date_formats:n,_source:{enabled:s,includes:r,excludes:o}={},_meta:l,_routing:c,_size:d}=e;return{dynamicMapping:{enabled:!0===t||void 0===t,throwErrorsForUnmappedFields:"strict"===t,numeric_detection:a,date_detection:i,dynamic_date_formats:n},sourceField:{enabled:!0===s||void 0===s,includes:r,excludes:o},metaField:null!=l?l:{},_routing:c,_size:d}},Ul=$.a.memo((({value:e,esNodesPlugins:t})=>{const a=Object(q.useRef)(!1),{form:i}=Object(de.useForm)({schema:zl,serializer:Bl,deserializer:Vl,defaultValue:e,id:"configurationForm"}),n=_l(),{subscribe:s,submit:r,reset:o,getFormData:l}=i,c=void 0!==(null==e?void 0:e._size)||t.includes(Se);return Object(q.useEffect)((()=>s((({data:e,isValid:t,validate:a})=>{n({type:"configuration.update",value:{data:e,isValid:t,validate:a,submitForm:r}})})).unsubscribe),[n,s,r]),Object(q.useEffect)((()=>{a.current&&o({resetValues:!0,defaultValue:e})}),[e,o]),Object(q.useEffect)((()=>(a.current=!0,()=>{a.current=!1;const e=l();n({type:"configuration.save",value:e})})),[l,n]),Object(Y.jsx)(de.Form,{form:i,isInvalid:i.isSubmitted&&!i.isValid,error:i.getErrors(),"data-test-subj":"advancedConfiguration"},Object(Y.jsx)(Cl,null),Object(Y.jsx)(W.EuiSpacer,{size:"xl"}),Object(Y.jsx)(Il,null),Object(Y.jsx)(W.EuiSpacer,{size:"xl"}),Object(Y.jsx)(Ll,null),Object(Y.jsx)(W.EuiSpacer,{size:"xl"}),Object(Y.jsx)(Dl,null),c&&Object(Y.jsx)(Pl,null))})),ql=()=>Object(Y.jsx)(W.EuiCallOut,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.nestedMultifieldsDeprecatedCallOutTitle",{defaultMessage:"Chained multi-fields are deprecated"}),iconType:"alert",color:"warning","data-test-subj":"nestedMultifieldsDeprecatedCallout"},Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.nestedMultifieldsDeprecatedCallOutDescription",defaultMessage:"Defining chained multi-fields was deprecated in 7.3 and is now no longer supported. Consider flattening the chained fields blocks into a single level, or switching to {copyTo} if appropriate.",values:{copyTo:Object(Y.jsx)(W.EuiCode,null,"copy_to")}}))),$l={alias:({allFields:e})=>Object(Y.jsx)(jo,{allFields:e}),token_count:()=>Object(Y.jsx)(ue.FormRow,{title:Object(Y.jsx)("h3",null,i.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCount.analyzerFieldTitle",{defaultMessage:"Analyzer"})),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCount.analyzerFieldDescription",{defaultMessage:"The analyzer which should be used to analyze the string value. For best performance, use an analyzer without token filters."})},Object(Y.jsx)(uo,{path:"analyzer",label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCountRequired.analyzerFieldLabel",{defaultMessage:"Index analyzer"}),defaultValue:U,allowsIndexDefaultOption:!1})),scaled_float:()=>Object(Y.jsx)(ue.FormRow,{title:Object(Y.jsx)("h3",null,_e.scaling_factor.title),description:_e.scaling_factor.description},Object(Y.jsx)(de.UseField,{path:"scaling_factor",config:Ae("scaling_factor"),component:ue.Field})),dense_vector:()=>{const{label:e}=Ae("dims");return Object(Y.jsx)(ue.FormRow,{title:Object(Y.jsx)("h3",null,e),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.denseVector.dimsFieldDescription",{defaultMessage:"Each documents dense vector is encoded as a binary doc value. Its size in bytes is equal to 4 * dimensions + 4."})},Object(Y.jsx)(de.UseField,{path:"dims",config:Ae("dims"),component:ue.Field}))}},Wl=e=>Object(Y.jsx)("form",e),Hl=$.a.memo((function({allFields:e,isRootLevelField:t,isMultiField:a,paddingLeft:n,isCancelable:s,maxNestedDepth:r}){const o=_l(),{form:l}=Object(de.useForm)({serializer:Jo,options:{stripEmptyFields:!1}}),{subscribe:c}=l;Object(q.useEffect)((()=>c((e=>{o({type:"fieldForm.update",value:e})})).unsubscribe),[o,c]);const d=()=>{o({type:"documentField.changeStatus",value:"idle"})},u=async(e,t=!1)=>{e&&e.preventDefault();const{isValid:a,data:i}=await l.submit();a&&(l.reset(),o({type:"field.add",value:i}),t&&d())};return Object(Y.jsx)(W.EuiOutsideClickDetector,{onOutsideClick:()=>{""===l.getFields().name.value.trim()?!1!==s&&d():u(void 0,!0)}},Object(Y.jsx)(de.Form,{form:l,FormWrapper:Wl,onSubmit:u,"data-test-subj":"createFieldForm"},Object(Y.jsx)("div",{className:Na()("mappingsEditor__createFieldWrapper",{"mappingsEditor__createFieldWrapper--toggle":Boolean(r)&&r>0,"mappingsEditor__createFieldWrapper--multiField":a}),style:{paddingLeft:`${a?n-24:n}px`}},Object(Y.jsx)("div",{className:"mappingsEditor__createFieldContent"},Object(Y.jsx)(W.EuiFlexGroup,{gutterSize:"s",alignItems:"center",justifyContent:"spaceBetween"},Object(Y.jsx)(W.EuiFlexItem,{className:"mappingsEditor__createFieldContent__formFields"},Object(Y.jsx)(W.EuiFlexGroup,{gutterSize:"s"},Object(Y.jsx)(W.EuiFlexItem,null,Object(Y.jsx)(Qr,null)),Object(Y.jsx)(W.EuiFlexItem,null,Object(Y.jsx)(ko,{isRootLevelField:t,isMultiField:a,showDocLink:!0})),Object(Y.jsx)(de.FormDataProvider,{pathsToWatch:"type"},(({type:e})=>{if(void 0===e)return null;const[i]=e;return Object(Y.jsx)(Lo,{key:i.value,type:i.value,isMultiField:null!=a&&a,isRootLevelField:t})})))),Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiFlexGroup,{gutterSize:"s",justifyContent:"flexEnd"},!1!==s&&Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiButtonEmpty,{onClick:d,"data-test-subj":"cancelButton"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.createField.cancelButtonLabel",{defaultMessage:"Cancel"}))),Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiButton,{color:"primary",fill:!0,onClick:u,type:"submit","data-test-subj":"addButton"},a?i.i18n.translate("xpack.idxMgmt.mappingsEditor.createField.addMultiFieldButtonLabel",{defaultMessage:"Add multi-field"}):i.i18n.translate("xpack.idxMgmt.mappingsEditor.createField.addFieldButtonLabel",{defaultMessage:"Add field"})))))),Object(Y.jsx)(de.FormDataProvider,{pathsToWatch:["type","subType"]},(({type:t,subType:a})=>{const i=((e,t)=>$l[t]||$l[e])(null==t?void 0:t[0].value,null==a?void 0:a[0].value);if(!i)return null;const n=K[null==t?void 0:t[0].value];return Object(Y.jsx)("div",{className:"mappingsEditor__createFieldRequiredProps"},n.isBeta?Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(Nr,null),Object(Y.jsx)(W.EuiSpacer,{size:"m"})):null,Object(Y.jsx)(i,{key:null!=a?a:t,allFields:e}))}))))))})),Gl=({children:e})=>{const[t,a]=Object(q.useState)({isModalOpen:!1}),n=_l(),{fields:s}=Fl(),{byId:r}=s,o=i.i18n.translate("xpack.idxMgmt.mappingsEditor.deleteField.confirmationModal.removeButtonLabel",{defaultMessage:"Remove"});let l;if(t.field){const{isMultiField:e,source:a}=t.field;l=i.i18n.translate("xpack.idxMgmt.mappingsEditor.deleteField.confirmationModal.title",{defaultMessage:"Remove {fieldType} '{fieldName}'?",values:{fieldType:e?"multi-field":"field",fieldName:a.name}})}const c=()=>{a({isModalOpen:!1})};return Object(Y.jsx)($.a.Fragment,null,e((e=>{const t=Ue(e,s).map((e=>r[e].path.join(" > "))).sort(),i=Boolean(t.length);a({isModalOpen:!0,field:e,aliases:i?t:void 0})})),t.isModalOpen&&Object(Y.jsx)(lr,{title:l,childFields:t.field&&t.field.childFields,aliases:t.aliases,byId:r,confirmButtonText:o,onConfirm:()=>{n({type:"field.remove",value:t.field.id}),c()},onCancel:c}))},Jl={addMultiFieldButtonLabel:i.i18n.translate("xpack.idxMgmt.mappingsEditor.addMultiFieldTooltipLabel",{defaultMessage:"Add a multi-field to index the same field in different ways."}),addPropertyButtonLabel:i.i18n.translate("xpack.idxMgmt.mappingsEditor.addPropertyButtonLabel",{defaultMessage:"Add property"}),editButtonLabel:i.i18n.translate("xpack.idxMgmt.mappingsEditor.editFieldButtonLabel",{defaultMessage:"Edit"}),deleteButtonLabel:i.i18n.translate("xpack.idxMgmt.mappingsEditor.removeFieldButtonLabel",{defaultMessage:"Remove"}),fieldIsShadowedLabel:i.i18n.translate("xpack.idxMgmt.mappingsEditor.fieldIsShadowedLabel",{defaultMessage:"Field shadowed by a runtime field with the same name."})};function Yl({field:e,allFields:t,isHighlighted:a,isDimmed:n,isCreateFieldFormVisible:s,areActionButtonsVisible:r,isChainedMultifieldsWarningVisible:o,isLastItem:l,isShadowed:c=!1,childFieldsArray:d,maxNestedDepth:u,addField:p,editField:m,toggleExpand:g,treeDepth:f},x){const{source:b,isMultiField:h,canHaveChildFields:j,hasChildFields:M,canHaveMultiFields:y,hasMultiFields:O,isExpanded:v,path:T}=e,E=0===u?12:0,k=24*f-E,F=24*(f+1)+4-E,_=h?!l:y&&v,S=`${T.join("")}Field`;return Object(Y.jsx)("li",{className:Na()("mappingsEditor__fieldsListItem",{"mappingsEditor__fieldsListItem--dottedLine":_}),"data-test-subj":`fieldsListItem ${S}`,ref:x},Object(Y.jsx)("div",{style:{paddingLeft:`${k}px`},className:Na()("mappingsEditor__fieldsListItem__field",{"mappingsEditor__fieldsListItem__field--enabled":r,"mappingsEditor__fieldsListItem__field--highlighted":a,"mappingsEditor__fieldsListItem__field--dim":n})},Object(Y.jsx)("div",{className:Na()("mappingsEditor__fieldsListItem__wrapper",{"mappingsEditor__fieldsListItem__wrapper--indent":0===f&&0===u})},Object(Y.jsx)(W.EuiFlexGroup,{gutterSize:"s",alignItems:"center",className:Na()("mappingsEditor__fieldsListItem__content",{"mappingsEditor__fieldsListItem__content--toggle":M||O,"mappingsEditor__fieldsListItem__content--multiField":h,"mappingsEditor__fieldsListItem__content--indent":!M&&!O&&u>f})},(M||O)&&Object(Y.jsx)(W.EuiFlexItem,{grow:!1,className:"mappingsEditor__fieldsListItem__toggle"},Object(Y.jsx)(W.EuiButtonIcon,{color:"text",onClick:g,iconType:v?"arrowDown":"arrowRight","data-test-subj":"toggleExpandButton","aria-label":v?i.i18n.translate("xpack.idxMgmt.mappingsEditor.collapseFieldButtonLabel",{defaultMessage:"Collapse field {name}",values:{name:b.name}}):i.i18n.translate("xpack.idxMgmt.mappingsEditor.expandFieldButtonLabel",{defaultMessage:"Expand field {name}",values:{name:b.name}})})),h&&Object(Y.jsx)(W.EuiFlexItem,{grow:!1,className:"mappingsEditor__fieldsListItem__icon"},Object(Y.jsx)(W.EuiIcon,{color:"subdued",type:"documents"})),Object(Y.jsx)(W.EuiFlexItem,{grow:!1,className:"mappingsEditor__fieldsListItem__name","data-test-subj":`fieldName ${S}-fieldName`},b.name),Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiBadge,{color:"hollow","data-test-subj":`${S}-datatype`,"data-type-value":b.type},h?i.i18n.translate("xpack.idxMgmt.mappingsEditor.multiFieldBadgeLabel",{defaultMessage:"{dataType} multi-field",values:{dataType:Ne(b)}}):Ne(b))),c&&Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiToolTip,{content:Jl.fieldIsShadowedLabel},Object(Y.jsx)(W.EuiBadge,{color:"warning","data-test-subj":"isShadowedIndicator"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.shadowedBadgeLabel",{defaultMessage:"Shadowed"})))),Object(Y.jsx)(W.EuiFlexItem,{grow:!1},(()=>{if(!r)return null;const{addMultiFieldButtonLabel:t,addPropertyButtonLabel:a,editButtonLabel:i,deleteButtonLabel:n}=Jl;return Object(Y.jsx)(W.EuiFlexGroup,{gutterSize:"s",className:"mappingsEditor__fieldsListItem__actions"},y&&Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiToolTip,{content:t},Object(Y.jsx)(W.EuiButtonIcon,{iconType:"documents",onClick:p,"data-test-subj":"addMultiFieldButton","aria-label":t}))),j&&Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiToolTip,{content:a},Object(Y.jsx)(W.EuiButtonIcon,{iconType:"plusInCircle",onClick:p,"data-test-subj":"addPropertyButton","aria-label":a}))),Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiToolTip,{content:i},Object(Y.jsx)(W.EuiButtonIcon,{iconType:"pencil",onClick:m,"data-test-subj":"editFieldButton","aria-label":i}))),Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(Gl,null,(t=>Object(Y.jsx)(W.EuiToolTip,{content:n},Object(Y.jsx)(W.EuiButtonIcon,{iconType:"trash",color:"danger",onClick:()=>t(e),"data-test-subj":"removeFieldButton","aria-label":n}))))))})())))),v&&o&&Object(Y.jsx)(ql,null),Boolean(d.length)&&v&&Object(Y.jsx)(Zl,{fields:d,treeDepth:f+1}),s?Object(Y.jsx)(Hl,{allFields:t,isRootLevelField:!1,isMultiField:y,paddingLeft:F,maxNestedDepth:u}):null)}const Kl=$.a.memo(Object(q.forwardRef)(Yl)),Xl=({fieldId:e,treeDepth:t,isLastItem:a})=>{const i=_l(),n=Object(q.useRef)(null),{documentFields:{status:s,fieldToAddFieldTo:r,fieldToEdit:o},fields:{byId:l,maxNestedDepth:c,rootLevelFields:d},runtimeFields:u}=Fl(),p=Object(q.useCallback)((e=>l[e]),[l]),m=Object.values(u).map((e=>e.source.name)),g=p(e),f=void 0===g.parentId?void 0:p(g.parentId),{childFields:x}=g,b=o===e,h="editingField"===s&&o!==e,j="creatingField"===s&&r===e,M="idle"===s;let y=!1;g.hasMultiFields&&!Boolean(null==f?void 0:f.hasMultiFields)&&(y=g.childFields.map(p).some((e=>Boolean(null==e?void 0:e.hasMultiFields))));const O=Object(q.useMemo)((()=>void 0!==x?x.map(p):[]),[x,p]),v=d.includes(e)&&m.includes(g.source.name),T=Object(q.useCallback)((()=>{i({type:"documentField.createField",value:e})}),[e,i]),E=Object(q.useCallback)((()=>{i({type:"documentField.editField",value:e})}),[e,i]),k=Object(q.useCallback)((()=>{i({type:"field.toggleExpand",value:{fieldId:e}})}),[e,i]);return Object(Y.jsx)(Kl,{ref:n,field:g,allFields:l,treeDepth:t,isHighlighted:b,isDimmed:h,isShadowed:v,isCreateFieldFormVisible:j,areActionButtonsVisible:M,isChainedMultifieldsWarningVisible:y,isLastItem:a,childFieldsArray:O,maxNestedDepth:c,addField:T,editField:E,toggleExpand:k})},Zl=$.a.memo((function({fields:e,treeDepth:t}){return void 0===e?null:Object(Y.jsx)("ul",{className:"mappingsEditor__fieldsList","data-test-subj":"fieldsList"},e.map(((a,i)=>Object(Y.jsx)(Xl,{key:a.id,fieldId:a.id,treeDepth:void 0===t?0:t,isLastItem:i===e.length-1}))))})),Ql=$.a.memo((({searchValue:e,onSearchChange:t})=>Object(Y.jsx)(W.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(Y.jsx)(W.EuiFlexItem,null,Object(Y.jsx)(W.EuiText,{size:"s",color:"subdued"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.documentFieldsDescription",defaultMessage:"Define the fields for your indexed documents. {docsLink}",values:{docsLink:Object(Y.jsx)(W.EuiLink,{href:Ce.getMappingTypesLink(),target:"_blank",external:!0},i.i18n.translate("xpack.idxMgmt.mappingsEditor.documentFieldsDocumentationLink",{defaultMessage:"Learn more."}))}}))),Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiFieldSearch,{style:{minWidth:"350px"},placeholder:i.i18n.translate("xpack.idxMgmt.mappingsEditor.documentFields.searchFieldsPlaceholder",{defaultMessage:"Search fields"}),value:e,onChange:e=>{t("string"==typeof e?e:e.target.value)},"aria-label":i.i18n.translate("xpack.idxMgmt.mappingsEditor.documentFields.searchFieldsAriaLabel",{defaultMessage:"Search mapped fields"})}))))),ec=({defaultValue:e})=>{const t=_l(),a=Object(q.useRef)(e),i=Object(q.useCallback)((({data:e,isValid:a})=>t({type:"fieldsJsonEditor.update",value:{json:e.format(),isValid:a}})),[t]);return Object(Y.jsx)(me.JsonEditor,{onUpdate:i,defaultValue:a.current})},tc=()=>{const e=_l(),{fields:{byId:t,rootLevelFields:a},documentFields:{status:n,fieldToAddFieldTo:s}}=Fl(),r=Object(q.useCallback)((e=>t[e]),[t]),o=Object(q.useMemo)((()=>a.map(r)),[a,r]),l=Object(q.useCallback)((()=>{e({type:"documentField.createField"})}),[e]);return Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(Zl,{fields:o}),"creatingField"===n&&void 0===s?Object(Y.jsx)(Hl,{isCancelable:o.length>0,allFields:t,isRootLevelField:!0}):null,(()=>{const e="idle"!==n;return Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiSpacer,null),Object(Y.jsx)(W.EuiButtonEmpty,{disabled:e,onClick:l,iconType:"plusInCircleFilled","data-test-subj":"addFieldButton"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.addFieldButtonLabel",{defaultMessage:"Add field"})))})())};var ac=a(163),ic=a.n(ac);const nc=$.a.memo((function({item:{display:e,field:t},areActionButtonsVisible:a,isHighlighted:n,isDimmed:s}){const r=_l(),{source:o,isMultiField:l,hasChildFields:c,hasMultiFields:d}=t,u=()=>{r({type:"documentField.editField",value:t.id})};return Object(Y.jsx)("div",{className:Na()("mappingsEditor__fieldsListItem"),"data-test-subj":"fieldsListItem"},Object(Y.jsx)("div",{className:Na()("mappingsEditor__fieldsListItem__field",{"mappingsEditor__fieldsListItem__field--enabled":a,"mappingsEditor__fieldsListItem__field--selected":n,"mappingsEditor__fieldsListItem__field--dim":s})},Object(Y.jsx)("div",{className:Na()("mappingsEditor__fieldsListItem__wrapper")},Object(Y.jsx)(W.EuiFlexGroup,{gutterSize:"s",alignItems:"center",className:Na()("mappingsEditor__fieldsListItem__content",{"mappingsEditor__fieldsListItem__content--toggle":c||d,"mappingsEditor__fieldsListItem__content--multiField":l})},Object(Y.jsx)(W.EuiFlexItem,{grow:!1,className:"mappingsEditor__fieldsListItem__name"},e),Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiBadge,{color:"hollow"},l?i.i18n.translate("xpack.idxMgmt.mappingsEditor.multiFieldBadgeLabel",{defaultMessage:"{dataType} multi-field",values:{dataType:K[o.type].label}}):Ne(o))),Object(Y.jsx)(W.EuiFlexItem,null,(()=>{if(!a)return null;const e=i.i18n.translate("xpack.idxMgmt.mappingsEditor.editFieldButtonLabel",{defaultMessage:"Edit"}),n=i.i18n.translate("xpack.idxMgmt.mappingsEditor.removeFieldButtonLabel",{defaultMessage:"Remove"});return Object(Y.jsx)(W.EuiFlexGroup,{gutterSize:"s",className:"mappingsEditor__fieldsListItem__actions"},Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiToolTip,{content:e},Object(Y.jsx)(W.EuiButtonIcon,{iconType:"pencil",onClick:u,"data-test-subj":"editFieldButton","aria-label":e}))),Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(Gl,null,(e=>Object(Y.jsx)(W.EuiToolTip,{content:n},Object(Y.jsx)(W.EuiButtonIcon,{iconType:"trash",color:"danger",onClick:()=>e(t),"data-test-subj":"removeFieldButton","aria-label":n}))))))})())))))})),sc=$.a.memo((({result:e,documentFieldsState:{status:t,fieldToEdit:a},style:i})=>{const n=_l(),s=Math.min(64*e.length,600);return 0===e.length?Object(Y.jsx)(W.EuiEmptyPrompt,{iconType:"search",title:Object(Y.jsx)("h3",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.searchResult.emptyPromptTitle",defaultMessage:"No fields match your search"})),actions:Object(Y.jsx)(W.EuiButton,{onClick:()=>{n({type:"search:update",value:""})}},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.searchResult.emptyPrompt.clearSearchButtonLabel",defaultMessage:"Clear search"}))}):Object(Y.jsx)(ic.a,{style:{overflowX:"hidden",...i},width:"100%",height:s,itemCount:e.length,itemSize:64,overscanCount:4,renderItem:({index:i,style:n})=>{const s=e[i];return Object(Y.jsx)("div",{key:s.field.id,style:n},Object(Y.jsx)(nc,{item:s,areActionButtonsVisible:"idle"===t,isDimmed:"editingField"===t&&a!==s.field.id,isHighlighted:"editingField"===t&&a===s.field.id}))}})})),{useGlobalFlyout:rc}=me.GlobalFlyout,oc=$.a.memo((()=>{const{fields:e,search:t,documentFields:a}=Fl(),i=_l(),{addContent:n,removeContent:s}=rc(),{editor:r}=a,o="editingField"===a.status,l=Object(q.useMemo)((()=>{if("json"===r)return Be(e)}),[r,e]),c="json"===r?Object(Y.jsx)(ec,{defaultValue:l}):Object(Y.jsx)(tc,null),d=Object(q.useCallback)((e=>{i({type:"search:update",value:e})}),[i]),u=Object(q.useCallback)((()=>{i({type:"documentField.changeStatus",value:"idle"})}),[i]);Object(q.useEffect)((()=>{o&&n({id:"mappingsEditField",Component:$r,props:{exitEdit:u},flyoutProps:{...qr,onClose:u},cleanUpFunc:u})}),[o,n,e.byId,u]),Object(q.useEffect)((()=>{o||s("mappingsEditField")}),[o,s]),Object(q.useEffect)((()=>()=>{o&&u()}),[o,u]);const p=t.term.trim();return Object(Y.jsx)("div",{"data-test-subj":"documentFields"},Object(Y.jsx)(Ql,{searchValue:t.term,onSearchChange:d}),Object(Y.jsx)(W.EuiSpacer,{size:"m"}),""!==p?Object(Y.jsx)(sc,{result:t.result,documentFieldsState:a}):c)})),lc=({createField:e,runtimeFieldsDocsUri:t})=>Object(Y.jsx)(W.EuiEmptyPrompt,{iconType:"managementApp","data-test-subj":"emptyList",title:Object(Y.jsx)("h2",{"data-test-subj":"title"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.runtimeFields.emptyPromptTitle",{defaultMessage:"Start by creating a runtime field"})),body:Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.runtimeFields.emptyPromptDescription",defaultMessage:"Define a field in the mapping and evaluate it at search time."}),Object(Y.jsx)("br",null),Object(Y.jsx)(W.EuiLink,{href:t,target:"_blank","data-test-subj":"learnMoreLink",external:!0},i.i18n.translate("xpack.idxMgmt.mappingsEditor.runtimeFields.emptyPromptDocumentionLink",{defaultMessage:"Learn more."}))),actions:Object(Y.jsx)(W.EuiButton,{onClick:()=>e(),iconType:"plusInCircle","data-test-subj":"createRuntimeFieldButton",fill:!0},i.i18n.translate("xpack.idxMgmt.mappingsEditor.runtimeFields.emptyPromptButtonLabel",{defaultMessage:"Create runtime field"}))}),cc=({children:e})=>{const[t,a]=Object(q.useState)({isModalOpen:!1}),n=_l(),s=i.i18n.translate("xpack.idxMgmt.mappingsEditor.deleteRuntimeField.confirmationModal.removeButtonLabel",{defaultMessage:"Remove"});let r;if(t.field){const{source:e}=t.field;r=i.i18n.translate("xpack.idxMgmt.mappingsEditor.deleteRuntimeField.confirmationModal.title",{defaultMessage:"Remove runtime field '{fieldName}'?",values:{fieldName:e.name}})}const o=()=>{a({isModalOpen:!1})};return Object(Y.jsx)($.a.Fragment,null,e((e=>{a({isModalOpen:!0,field:e})})),t.isModalOpen&&Object(Y.jsx)(W.EuiConfirmModal,{title:r,"data-test-subj":"runtimeFieldDeleteConfirmModal",onCancel:o,onConfirm:()=>{n({type:"runtimeField.remove",value:t.field.id}),o()},cancelButtonText:i.i18n.translate("xpack.idxMgmt.mappingsEditor.deleteRuntimeField.confirmationModal.cancelButtonLabel",{defaultMessage:"Cancel"}),buttonColor:"danger",confirmButtonText:s}))};function dc({field:e,areActionButtonsVisible:t,isHighlighted:a,isDimmed:n,editField:s},r){const{source:o}=e;return Object(Y.jsx)("li",{className:"mappingsEditor__fieldsListItem","data-test-subj":"runtimeFieldsListItem"},Object(Y.jsx)("div",{className:Na()("mappingsEditor__fieldsListItem__field",{"mappingsEditor__fieldsListItem__field--enabled":t,"mappingsEditor__fieldsListItem__field--highlighted":a,"mappingsEditor__fieldsListItem__field--dim":n})},Object(Y.jsx)("div",{className:"mappingsEditor__fieldsListItem__wrapper mappingsEditor__fieldsListItem__wrapper--indent"},Object(Y.jsx)(W.EuiFlexGroup,{gutterSize:"s",alignItems:"center",className:"mappingsEditor__fieldsListItem__content"},Object(Y.jsx)(W.EuiFlexItem,{grow:!1,className:"mappingsEditor__fieldsListItem__name","data-test-subj":"fieldName"},o.name),Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiBadge,{color:"hollow","data-test-subj":"fieldType","data-type-value":o.type},Ne(o))),Object(Y.jsx)(W.EuiFlexItem,{grow:!1},(()=>{if(!t)return null;const a=i.i18n.translate("xpack.idxMgmt.mappingsEditor.editRuntimeFieldButtonLabel",{defaultMessage:"Edit"}),n=i.i18n.translate("xpack.idxMgmt.mappingsEditor.removeRuntimeFieldButtonLabel",{defaultMessage:"Remove"});return Object(Y.jsx)(W.EuiFlexGroup,{gutterSize:"s",className:"mappingsEditor__fieldsListItem__actions"},Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(W.EuiToolTip,{content:a},Object(Y.jsx)(W.EuiButtonIcon,{iconType:"pencil",onClick:s,"data-test-subj":"editFieldButton","aria-label":a}))),Object(Y.jsx)(W.EuiFlexItem,{grow:!1},Object(Y.jsx)(cc,null,(t=>Object(Y.jsx)(W.EuiToolTip,{content:n},Object(Y.jsx)(W.EuiButtonIcon,{iconType:"trash",color:"danger",onClick:()=>t(e),"data-test-subj":"removeFieldButton","aria-label":n}))))))})())))))}const uc=$.a.memo(dc),pc=({fieldId:e})=>{const t=_l(),{runtimeFieldsList:{status:a,fieldToEdit:i},runtimeFields:n}=Fl(),s=Object(q.useCallback)((e=>n[e]),[n])(e),r=i===e,o="editingField"===a&&i!==e,l="idle"===a,c=Object(q.useCallback)((()=>{t({type:"runtimeFieldsList.editField",value:e})}),[e,t]);return Object(Y.jsx)(uc,{field:s,isHighlighted:r,isDimmed:o,areActionButtonsVisible:l,editField:c})},{useGlobalFlyout:mc}=me.GlobalFlyout,gc=()=>{const e=Ce.getRuntimeFields(),{runtimeFields:t,runtimeFieldsList:{status:a,fieldToEdit:n},fields:s}=Fl(),r=_l(),{addContent:o,removeContent:l}=mc(),{value:{docLinks:c}}=ro(),d=Object(q.useCallback)((()=>{r({type:"runtimeFieldsList.createField"})}),[r]),u=Object(q.useCallback)((()=>{r({type:"runtimeFieldsList.closeRuntimeFieldEditor"})}),[r]),p=Object(q.useCallback)((e=>{r(n?{type:"runtimeField.edit",value:{id:n,source:e}}:{type:"runtimeField.add",value:e})}),[r,n]);Object(q.useEffect)((()=>{var e;"creatingField"===a||"editingField"===a?o({id:"runtimeFieldEditor",Component:ge.RuntimeFieldEditorFlyoutContent,props:{onSave:p,onCancel:u,defaultValue:n?null===(e=t[n])||void 0===e?void 0:e.source:void 0,docLinks:c,ctx:{namesNotAllowed:Object.values(t).map((e=>e.source.name)),existingConcreteFields:Object.values(s.byId).map((e=>({name:e.source.name,type:e.source.type})))}},flyoutProps:{"data-test-subj":"runtimeFieldEditor","aria-labelledby":"runtimeFieldEditorEditTitle",maxWidth:720,onClose:u},cleanUpFunc:u}):"idle"===a&&l("runtimeFieldEditor")}),[a,n,t,s,c,o,l,p,u]);const m=Object.entries(t),g=0===m.length,f="idle"!==a;return g?Object(Y.jsx)(lc,{createField:d,runtimeFieldsDocsUri:e}):Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiText,{size:"s",color:"subdued"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.runtimeFieldsDescription",defaultMessage:"Define the runtime fields accessible at search time. {docsLink}",values:{docsLink:Object(Y.jsx)(W.EuiLink,{href:e,target:"_blank",external:!0},i.i18n.translate("xpack.idxMgmt.mappingsEditor.runtimeFieldsDocumentationLink",{defaultMessage:"Learn more."}))}})),Object(Y.jsx)(W.EuiSpacer,null),Object(Y.jsx)("ul",null,m.map((([e])=>Object(Y.jsx)(pc,{key:e,fieldId:e})))),Object(Y.jsx)(W.EuiSpacer,null),Object(Y.jsx)(W.EuiButtonEmpty,{disabled:f,onClick:d,iconType:"plusInCircleFilled","data-test-subj":"createRuntimeFieldButton"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.addRuntimeFieldButtonLabel",{defaultMessage:"Add field"})))},{isJsonField:fc}=pe.fieldValidators,xc={dynamicTemplates:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.templates.dynamicTemplatesEditorLabel",{defaultMessage:"Dynamic templates data"}),validations:[{validator:fc(i.i18n.translate("xpack.idxMgmt.mappingsEditor.templates.dynamicTemplatesEditorJsonError",{defaultMessage:"The dynamic templates JSON is not valid."}))}]}},bc=e=>{const{dynamicTemplates:t}=e;let a;try{a=JSON.parse(t),Array.isArray(a)||(a=[a])}catch{}return{dynamic_templates:Array.isArray(a)&&a.length>0?a:[]}},hc=e=>{const{dynamic_templates:t}=e;return{dynamicTemplates:(a=t,Array.isArray(a)?JSON.stringify(a,null,2):"[\n\n]")};var a},jc=$.a.memo((({value:e})=>{const t=Object(q.useRef)(!1),{form:a}=Object(de.useForm)({schema:xc,serializer:bc,deserializer:hc,defaultValue:e}),{subscribe:n,getFormData:s,submit:r,reset:o}=a,l=_l();return Object(q.useEffect)((()=>n((({data:e,isValid:t,validate:a})=>{l({type:"templates.update",value:{data:e,isValid:t,validate:a,submitForm:r}})})).unsubscribe),[n,l,r]),Object(q.useEffect)((()=>{t.current&&o({resetValues:!0,defaultValue:e})}),[e,o]),Object(q.useEffect)((()=>(t.current=!0,()=>{t.current=!1;const e=s();l({type:"templates.save",value:e})})),[s,l]),Object(Y.jsx)("div",{"data-test-subj":"dynamicTemplates"},Object(Y.jsx)(W.EuiText,{size:"s",color:"subdued"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dynamicTemplatesDescription",defaultMessage:"Use dynamic templates to define custom mappings that can be applied to dynamically added fields. {docsLink}",values:{docsLink:Object(Y.jsx)(W.EuiLink,{href:Ce.getDynamicTemplatesLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicTemplatesDocumentationLink",{defaultMessage:"Learn more."}))}})),Object(Y.jsx)(W.EuiSpacer,{size:"m"}),Object(Y.jsx)(de.Form,{form:a,isInvalid:a.isSubmitted&&!a.isValid,error:a.getErrors()},Object(Y.jsx)(de.UseField,{path:"dynamicTemplates",component:ue.JsonEditorField,componentProps:{euiCodeEditorProps:{"data-test-subj":"dynamicTemplatesEditor",height:"600px","aria-label":i.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicTemplatesEditorAriaLabel",{defaultMessage:"Dynamic templates editor"})}}})))})),Mc=()=>Object(Y.jsx)(W.EuiCallOut,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.mappingTypesDetectedCallOutTitle",{defaultMessage:"Multiple mapping types detected"}),iconType:"alert",color:"warning","data-test-subj":"mappingTypesDetectedCallout"},Object(Y.jsx)("p",null,Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.mappingTypesDetectedCallOutDescription",defaultMessage:"The mappings for this template uses multiple types, which are not supported. {docsLink}",values:{docsLink:Object(Y.jsx)(W.EuiLink,{href:Ce.getAlternativeToMappingTypesLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.mappingTypesDetectedCallOutDocumentationLink",{defaultMessage:"Consider these alternatives to mapping types."}))}}))),yc=({onChange:e,value:t,mappingsType:a})=>{const i=Fl(),n=_l(),{fields:s,runtime:r}=null!=t?t:{},o=Object(q.useMemo)((()=>ze(s)),[s]),l=Object(q.useMemo)((()=>((e={})=>Object.entries(e).reduce(((e,[t,a])=>{const i=De();return{...e,[i]:{id:i,source:{name:t,...a}}}}),{}))(r)),[r]);Object(q.useEffect)((()=>{const t=void 0!==i.fieldForm&&(void 0===i.fieldForm.data.internal.name||""===i.fieldForm.data.internal.name.trim()),s="creatingField"===i.documentFields.status&&t;e({getData:()=>{const e="json"===i.documentFields.editor?i.fieldsJsonEditor.format():Be(i.fields),t=(e=>Object.values(e).reduce(((e,{source:t})=>{const{name:a,...i}=t;return{...e,[a]:i}}),{}))(i.runtimeFields),n=i.configuration.data.format(),s=i.templates.data.format(),r={...Je({...n,...s})};return e&&Object.keys(e).length>0&&(r.properties=e),t&&Object.keys(t).length>0&&(r.runtime=t),Object.keys(r).length>0?void 0===a?r:{[a]:r}:void 0===a?void 0:{[a]:{}}},validate:async()=>{const e=[void 0!==i.configuration.submitForm?new Promise((async(e,t)=>{try{const{isValid:t}=await i.configuration.submitForm();e(t)}catch(e){t(e)}})):Promise.resolve(!0),void 0!==i.templates.submitForm?new Promise((async(e,t)=>{try{const{isValid:t}=await i.templates.submitForm();e(t)}catch(e){t(e)}})):Promise.resolve(!0)];return void 0===i.fieldForm||s||e.push(i.fieldForm.validate()),Promise.all(e).then((e=>{const t=e.every(Boolean)&&i.fieldsJsonEditor.isValid;return n({type:"validity:update",value:t}),t}))},isValid:i.isValid})}),[i,e,n,a]),Object(q.useEffect)((()=>{void 0!==t&&n({type:"editor.replaceMappings",value:{configuration:t.configuration,templates:t.templates,fields:o,documentFields:{status:0===o.rootLevelFields.length?"creatingField":"idle",editor:"default"},runtimeFields:l}})}),[t,o,n,l])},Oc=$.a.memo((({onChange:e,value:t,docLinks:a,indexSettings:n,esNodesPlugins:s})=>{const{parsedDefaultValue:r,multipleMappingsDeclared:o,mappingsType:l}=Object(q.useMemo)((()=>{const e=((e={})=>{const t=jl(e);return 0===t.length?null:1===t.length?t[0]:null})(t);if(null===e)return{multipleMappingsDeclared:!0};const{_source:a,_meta:i,_routing:n,_size:s,dynamic:r,properties:o,runtime:l,numeric_detection:c,date_detection:d,dynamic_date_formats:u,dynamic_templates:p}=e.mappings;return{parsedDefaultValue:{configuration:{_source:a,_meta:i,_routing:n,_size:s,dynamic:r,numeric_detection:c,date_detection:d,dynamic_date_formats:u},fields:o,templates:{dynamic_templates:p},runtime:l},multipleMappingsDeclared:!1,mappingsType:e.type}}),[t]);yc({onChange:e,value:r,mappingsType:l});const{update:c}=ro(),d=Fl(),[u,p]=Object(q.useState)("fields");Object(q.useEffect)((()=>{o&&e({getData:()=>t,validate:()=>Promise.resolve(!0),isValid:!0})}),[o,e,t]),Object(q.useEffect)((()=>{c({docLinks:a,indexSettings:null!=n?n:{}})}),[c,a,n]);const m=async e=>{if("advanced"===u){const{isValid:e}=await d.configuration.submitForm();if(!e)return}else if("templates"===u){const{isValid:e}=await d.templates.submitForm();if(!e)return}p(e)},g={fields:Object(Y.jsx)(oc,null),runtimeFields:Object(Y.jsx)(gc,null),templates:Object(Y.jsx)(jc,{value:d.templates.defaultValue}),advanced:Object(Y.jsx)(Ul,{value:d.configuration.defaultValue,esNodesPlugins:s})};return Object(Y.jsx)("div",{"data-test-subj":"mappingsEditor"},o?Object(Y.jsx)(Mc,null):Object(Y.jsx)("div",{className:"mappingsEditor"},Object(Y.jsx)(W.EuiTabs,null,Object(Y.jsx)(W.EuiTab,{onClick:()=>m("fields"),isSelected:"fields"===u,"data-test-subj":"formTab"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.fieldsTabLabel",{defaultMessage:"Mapped fields"})),Object(Y.jsx)(W.EuiTab,{onClick:()=>m("runtimeFields"),isSelected:"runtimeFields"===u,"data-test-subj":"formTab"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.runtimeFieldsTabLabel",{defaultMessage:"Runtime fields"})),Object(Y.jsx)(W.EuiTab,{onClick:()=>m("templates"),isSelected:"templates"===u,"data-test-subj":"formTab"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.templatesTabLabel",{defaultMessage:"Dynamic templates"})),Object(Y.jsx)(W.EuiTab,{onClick:()=>m("advanced"),isSelected:"advanced"===u,"data-test-subj":"formTab"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.advancedTabLabel",{defaultMessage:"Advanced options"}))),Object(Y.jsx)(W.EuiSpacer,{size:"l"}),g[u]))})),vc=e=>Object.keys(e).every((e=>ll.includes(e))),Tc=({onJson:e,esNodesPlugins:t,children:a})=>{var n,s;const[r,o]=Object(q.useState)({isModalOpen:!1}),[l,c]=Object(q.useState)(1),d=Object(q.useRef)(void 0),u=void 0!==r.json&&void 0!==r.errors?"validationResult":"json",p=((e,t=0)=>({modalTitle:i.i18n.translate("xpack.idxMgmt.mappingsEditor.loadJsonModalTitle",{defaultMessage:"Load JSON"}),buttons:{confirm:"json"===e?i.i18n.translate("xpack.idxMgmt.mappingsEditor.loadJsonModal.loadButtonLabel",{defaultMessage:"Load and overwrite"}):i.i18n.translate("xpack.idxMgmt.mappingsEditor.loadJsonModal.acceptWarningLabel",{defaultMessage:"Continue loading"}),cancel:"json"===e?i.i18n.translate("xpack.idxMgmt.mappingsEditor.loadJsonModal.cancelButtonLabel",{defaultMessage:"Cancel"}):i.i18n.translate("xpack.idxMgmt.mappingsEditor.loadJsonModal.goBackButtonLabel",{defaultMessage:"Go back"})},editor:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.loadJsonModal.jsonEditorLabel",{defaultMessage:"Mappings object"})},validationErrors:{title:Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.loadJsonModal.validationErrorTitle",defaultMessage:"{totalErrors} {totalErrors, plural, one {invalid option} other {invalid options}} detected in {mappings} object",values:{totalErrors:t,mappings:Object(Y.jsx)("code",null,"mappings")}}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.loadJsonModal.validationErrorDescription",{defaultMessage:"If you continue loading the object, only valid options will be accepted."})}}))(u,null===(n=r.errors)||void 0===n?void 0:n.length),m=Object(q.useCallback)((e=>{d.current=e}),[]),g=()=>{o({isModalOpen:!1})},f=()=>{if(void 0===d.current)return e({}),void g();if(d.current.validate()){const a=d.current.data.format();if(0===Object.keys(a).length)return e(a),void g();let i=a;const{isMultiTypeMappings:n,customType:s}=(e=>{let t,a=!1,i=!1;const n=vc(e),s=Object.values(e).every(wi.isPlainObject),r=s&&Object.values(e).every(vc);return(!n&&s||n&&s&&r)&&(a=!0,i=Object.keys(e).length>1),a&&!i&&(t=Object.keys(e)[0]),{isMultiTypeMappings:i,customType:t}})(a);if(n)return e(a),void g();void 0!==s&&"properties"!==s&&(i=a[s]);const{value:r,errors:l}=pl(i,t),c=void 0!==s?{[s]:r}:r;if(l)return void o({isModalOpen:!0,json:{unparsed:a,parsed:c},errors:l});e(c),g()}};return Object(Y.jsx)($.a.Fragment,null,a((()=>{o({isModalOpen:!0})})),r.isModalOpen&&Object(Y.jsx)(W.EuiConfirmModal,{title:p.modalTitle,onCancel:()=>{"json"===u?g():o({isModalOpen:!0,json:r.json})},onConfirm:()=>{"json"===u?f():(e(r.json.parsed),g())},cancelButtonText:p.buttons.cancel,confirmButtonText:p.buttons.confirm,maxWidth:600},"json"===u?Object(Y.jsx)("div",{className:"application"},Object(Y.jsx)(W.EuiText,{color:"subdued"},Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.loadJsonModal.jsonEditorHelpText",defaultMessage:"Provide a mappings object, for example, the object assigned to an index {mappings} property. This will overwrite existing mappings, dynamic templates, and options.",values:{mappings:Object(Y.jsx)("code",null,"mappings")}})),Object(Y.jsx)(W.EuiSpacer,{size:"m"}),Object(Y.jsx)(me.JsonEditor,{label:p.editor.label,onUpdate:m,defaultValue:null===(s=r.json)||void 0===s?void 0:s.unparsed,euiCodeEditorProps:{height:"450px"}})):Object(Y.jsx)($.a.Fragment,null,Object(Y.jsx)(W.EuiCallOut,{title:p.validationErrors.title,iconType:"alert",color:"warning"},Object(Y.jsx)(W.EuiText,null,Object(Y.jsx)("p",null,p.validationErrors.description)),Object(Y.jsx)(W.EuiSpacer,null),Object(Y.jsx)("ol",null,r.errors.slice(0,l).map(((e,t)=>Object(Y.jsx)("li",{key:t},(e=>{switch(e.code){case"ERR_CONFIG":return Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.loadJsonModal.validationError.configurationMessage",defaultMessage:"The {configName} configuration is invalid.",values:{configName:Object(Y.jsx)("code",null,e.configName)}});case"ERR_FIELD":return Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.loadJsonModal.validationError.fieldMessage",defaultMessage:"The {fieldPath} field is invalid.",values:{fieldPath:Object(Y.jsx)("code",null,e.fieldPath)}});case"ERR_PARAMETER":return Object(Y.jsx)(J.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.loadJsonModal.validationError.parameterMessage",defaultMessage:"The {paramName} parameter on field {fieldPath} is invalid.",values:{paramName:Object(Y.jsx)("code",null,e.paramName),fieldPath:Object(Y.jsx)("code",null,e.fieldPath)}})}})(e))))),r.errors.length>1&&(()=>{const e=l>1;return Object(Y.jsx)(W.EuiButtonEmpty,{onClick:()=>c(e?1:r.errors.length),iconType:e?"arrowUp":"arrowDown"},e?i.i18n.translate("xpack.idxMgmt.mappingsEditor.hideErrorsButtonLabel",{defaultMessage:"Hide errors"}):i.i18n.translate("xpack.idxMgmt.mappingsEditor.showAllErrorsButtonLabel",{defaultMessage:"Show {numErrors} more errors",values:{numErrors:r.errors.length-1}}))})()))))},Ec=({onJson:e,esNodesPlugins:t})=>Object(Y.jsx)(Tc,{onJson:e,esNodesPlugins:t},(e=>Object(Y.jsx)(W.EuiButtonEmpty,{onClick:e,size:"s"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.loadFromJsonButtonLabel",{defaultMessage:"Load JSON"})))),kc=({children:e})=>Object(Y.jsx)(kl,null,Object(Y.jsx)(so,null,e)),Fc=e=>Object(me.sendRequest)(jn.httpClient,e),_c=e=>Object(me.useRequest)(jn.httpClient,e);let Sc;async function Cc(e){return await jn.httpClient.get(`${n}/settings/${encodeURIComponent(e)}`)}function Lc(e,t){return _c({path:`${n}/index_templates/${encodeURIComponent(e)}`,method:"get",query:{legacy:t}})}async function wc(e,t){var a;const i=Ml(null===(a=e.template)||void 0===a?void 0:a.mappings),s=await Fc({path:`${n}/index_templates`,method:"post",body:JSON.stringify(e),query:{include_type_name:i}}),r=t?"template_clone":"template_create";return Sc.trackMetric(Le.METRIC_TYPE.COUNT,r),s}const Ic={kb:1,mb:2,gb:3,tb:4,pb:5},Dc=e=>t=>t[e],Pc=e=>t=>+t[e],Nc=e=>t=>{const a=t[e];if(!a)return 0;const i=a.match(/(.*)([kmgtp]b)/);if(!i)return 0;const[,n,s]=i;return+n*Math.pow(1024,Ic[s])},Ac={name:Dc("name"),status:Dc("status"),health:Dc("health"),primary:Pc("primary"),replica:Pc("replica"),documents:Pc("documents"),size:Nc("size"),primary_size:Nc("primary_size"),data_stream:Dc("data_stream")},Rc=(e=[],t,a)=>{const i=Object(wi.sortBy)(e,Ac[t]);return a?i:i.reverse()};class ui_metric_UiMetricService{constructor(e){z()(this,"appName",void 0),z()(this,"usageCollection",void 0),this.appName=e}setup(e){this.usageCollection=e}trackMetric(e,t){if(this.usageCollection)return this.usageCollection.reportUiCounter(this.appName,e,t)}}function zc({usageCollection:e,coreSetup:t}){const{http:a,notifications:i}=t;jn.setup(a),pt.setup(i);const n=new ui_metric_UiMetricService("index_management");return Sc=n,n.setup(e),{uiMetricService:n}}async function Bc(e,t,a,s,r,o){const{element:l,setBreadcrumbs:c,history:d}=a,[u,p]=await e.getStartServices(),{docLinks:m,fatalErrors:g,application:f,chrome:{docTitle:x},uiSettings:b}=u,{url:h}=p.share;x.change(A.b.getI18nName(i.i18n)),B.setup(c),Ce.setup(m);const{uiMetricService:j}=zc({usageCollection:t,coreSetup:e}),M=((e,{core:t,dependencies:a})=>{if(!e)return()=>{};const{i18n:i,docLinks:s,notifications:r,application:o}=t,{Context:l}=i,{services:c,history:d,setBreadcrumbs:u,uiSettings:p,kibanaVersion:m}=a,{Provider:g}=Object(fe.createKibanaReactContext)({uiSettings:p,kibanaVersion:{get:()=>m}}),f={httpClient:c.httpService.httpClient,apiBasePath:n,trackMetric:c.uiMetricService.trackMetric.bind(c.uiMetricService),docLinks:s,toasts:r.toasts,setBreadcrumbs:u,getUrlForApp:o.getUrlForApp};return Object(Ke.render)(Object(Y.jsx)(l,null,Object(Y.jsx)(g,null,Object(Y.jsx)(Ye.Provider,{store:ar(c)},Object(Y.jsx)(at,{value:a},Object(Y.jsx)(kc,null,Object(Y.jsx)(Zt,{value:f},Object(Y.jsx)(ir,null,Object(Y.jsx)(Vs,{history:d})))))))),e),()=>{Object(Ke.unmountComponentAtNode)(e)}})(l,{core:u,dependencies:{core:{fatalErrors:g,getUrlForApp:f.getUrlForApp},plugins:{usageCollection:t,isFleetEnabled:r},services:{httpService:jn,notificationService:pt,uiMetricService:j,extensionsService:s},history:d,setBreadcrumbs:c,uiSettings:b,url:h,docLinks:m,kibanaVersion:o}});return()=>{x.reset(),M()}}}])]);