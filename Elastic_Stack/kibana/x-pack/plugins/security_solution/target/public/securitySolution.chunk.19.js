/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.securitySolution_bundle_jsonpfunction=window.securitySolution_bundle_jsonpfunction||[]).push([[19],{1361:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return B}));var s=t(19),n=t(55),l=t(9),o=t.n(l),i=t(91),c=t(56),r=t.n(c),u=t(109),d=t(104),m=t(94),p=t(93),g=t(20),b=t(164),w=t(545),y=t(262),E=t(2);E.i18n.translate("xpack.securitySolution.cases.caseFeatureNoPermissionsTitle",{defaultMessage:"Kibana feature privileges required"}),E.i18n.translate("xpack.securitySolution.cases.caseFeatureNoPermissionsMessage",{defaultMessage:"To view cases, you must have privileges for the Cases feature in the Kibana space. For more information, contact your Kibana administrator."}),E.i18n.translate("xpack.securitySolution.cases.caseView.backLabel",{defaultMessage:"Back to cases"}),E.i18n.translate("xpack.securitySolution.cases.caseView.cancel",{defaultMessage:"Cancel"}),E.i18n.translate("xpack.securitySolution.cases.confirmDeleteCase.deleteCase",{defaultMessage:"Delete case"}),E.i18n.translate("xpack.securitySolution.cases.confirmDeleteCase.deleteCases",{defaultMessage:"Delete cases"}),E.i18n.translate("xpack.securitySolution.cases.caseView.name",{defaultMessage:"Name"}),E.i18n.translate("xpack.securitySolution.cases.caseView.openedOn",{defaultMessage:"Opened on"}),E.i18n.translate("xpack.securitySolution.cases.caseView.closedOn",{defaultMessage:"Closed on"}),E.i18n.translate("xpack.securitySolution.cases.caseView.reporterLabel",{defaultMessage:"Reporter"});const f=E.i18n.translate("xpack.securitySolution.cases.caseView.particpantsLabel",{defaultMessage:"Participants"});E.i18n.translate("xpack.securitySolution.cases.caseView.create",{defaultMessage:"Create new case"}),E.i18n.translate("xpack.securitySolution.cases.caseView.description",{defaultMessage:"Description"}),E.i18n.translate("xpack.securitySolution.cases.createCase.descriptionFieldRequiredError",{defaultMessage:"A description is required."}),E.i18n.translate("xpack.securitySolution.cases.caseView.edit",{defaultMessage:"Edit"}),E.i18n.translate("xpack.securitySolution.cases.caseView.optional",{defaultMessage:"Optional"}),E.i18n.translate("xpack.securitySolution.cases.pageTitle",{defaultMessage:"Cases"}),E.i18n.translate("xpack.securitySolution.cases.caseView.createCase",{defaultMessage:"Create case"}),E.i18n.translate("xpack.securitySolution.cases.caseView.closeCase",{defaultMessage:"Close case"}),E.i18n.translate("xpack.securitySolution.cases.caseView.openCase",{defaultMessage:"Open case"}),E.i18n.translate("xpack.securitySolution.cases.caseView.caseName",{defaultMessage:"Case name"}),E.i18n.translate("xpack.securitySolution.cases.caseView.to",{defaultMessage:"to"}),E.i18n.translate("xpack.securitySolution.cases.caseView.tags",{defaultMessage:"Tags"}),E.i18n.translate("xpack.securitySolution.cases.allCases.actions",{defaultMessage:"Actions"}),E.i18n.translate("xpack.securitySolution.cases.caseView.noReportersAvailable",{defaultMessage:"No reporters available."}),E.i18n.translate("xpack.securitySolution.cases.allCases.comments",{defaultMessage:"Comments"}),E.i18n.translate("xpack.securitySolution.cases.caseView.noTags",{defaultMessage:"No tags are currently assigned to this case."}),E.i18n.translate("xpack.securitySolution.cases.createCase.titleFieldRequiredError",{defaultMessage:"A title is required."}),E.i18n.translate("xpack.securitySolution.cases.caseView.description.save",{defaultMessage:"Save"}),E.i18n.translate("xpack.securitySolution.cases.caseView.connectors",{defaultMessage:"External Incident Management System"}),E.i18n.translate("xpack.securitySolution.cases.caseView.unknown",{defaultMessage:"Unknown"}),E.i18n.translate("xpack.securitySolution.cases.caseTable.openCases",{defaultMessage:"Open cases"}),E.i18n.translate("xpack.securitySolution.common.alertLabel",{defaultMessage:"Alert"}),E.i18n.translate("xpack.securitySolution.common.alertAddedToCase",{defaultMessage:"added to case"}),E.i18n.translate("xpack.securitySolution.common.allCases.table.selectableMessageCollections",{defaultMessage:"Cases with sub-cases cannot be selected"});var x=t(543),N=t(112);var S=t(309),C=t(687);const k=r()(n.EuiFlexGroup).withConfig({displayName:"FullWidthFlexGroup",componentId:"sc-1wox91s-0"})(["width:100%;margin:0;overflow:hidden;"]),M=r()(n.EuiFlexItem).withConfig({displayName:"ScrollableFlexItem",componentId:"sc-1wox91s-1"})(["overflow-x:hidden;overflow-y:auto;"]),h=r.a.div.withConfig({displayName:"VerticalRule",componentId:"sc-1wox91s-2"})(["width:2px;height:100%;background:",";"],(({theme:e})=>e.eui.euiColorLightShade)),v=r()(n.EuiPanel).withConfig({displayName:"StyledPanel",componentId:"sc-1wox91s-3"})(["border:0;box-shadow:none;"]),j=r()(n.EuiFlexGroup).withConfig({displayName:"StyledEuiFlexGroup",componentId:"sc-1wox91s-4"})(["flex:0;"]),I=r()(n.EuiText).withConfig({displayName:"Username",componentId:"sc-1wox91s-5"})(["font-weight:bold;"]),O=({username:e})=>o.a.createElement(j,{gutterSize:"s",responsive:!1,alignItems:"center"},o.a.createElement(n.EuiFlexItem,{grow:!1},o.a.createElement(n.EuiAvatar,{"data-test-subj":"avatar",name:e,size:"l"})),o.a.createElement(n.EuiFlexItem,null,o.a.createElement(I,null,e))),F=o.a.memo(O),V=({users:e})=>{const a=Object(l.useMemo)((()=>e.map((e=>o.a.createElement(l.Fragment,{key:null===e.updatedBy?void 0:e.updatedBy},o.a.createElement(F,{key:null===e.updatedBy?void 0:e.updatedBy,username:String(e.updatedBy)}),o.a.createElement(n.EuiSpacer,{size:"s"}))))),[e]);return e.length?o.a.createElement(o.a.Fragment,null,o.a.createElement(n.EuiTitle,{size:"xs"},o.a.createElement("h4",null,f)),o.a.createElement(n.EuiHorizontalRule,{margin:"s"}),a):null};V.displayName="ParticipantsComponent";const T=o.a.memo(V),D=({timelineId:e})=>{const a=Object(i.useDispatch)(),t=Object(l.useMemo)((()=>Object(C.f)()),[]),c=Object(p.b)((a=>t(a,e)));((e,a=!0)=>{Object(l.useEffect)((()=>{const t=e?document.querySelector(e):window;a&&t&&(t.scroll?t.scroll(0,0):t.scrollTo(0,0))}))})("#scrollableNotes",!!c);const r=Object(l.useMemo)((()=>Object(N.createSelector)(m.b.selectTimeline,(e=>{var a,t;return{createdBy:e.createdBy,expandedDetail:null!==(a=e.expandedDetail)&&void 0!==a?a:{},eventIdToNoteIds:null!==(t=null==e?void 0:e.eventIdToNoteIds)&&void 0!==t?t:{},noteIds:e.noteIds,status:e.status}}))),[]),{createdBy:E,expandedDetail:f,eventIdToNoteIds:j,noteIds:I,status:O}=Object(p.a)((a=>r(a,e))),{browserFields:V,docValueFields:D}=Object(u.c)(d.SourcererScopeName.timeline),B=Object(l.useMemo)((()=>b.c.selectNotesAsCommentsListSelector()),[]),[A,z]=Object(l.useState)(""),P=O===g.u.immutable,R=Object(p.a)(B),q=Object(l.useMemo)((()=>{const e=Object.values(j).reduce(((e,a)=>[...e,...a]),[]);return[...I,...e]}),[I,j]),L=Object(l.useMemo)((()=>R.filter((e=>{var a;return q.includes(null!==(a=null==e?void 0:e.noteId)&&void 0!==a?a:"-1")}))),[R,q]),G=Object(l.useMemo)((()=>Object(s.uniqBy)("updatedBy",Object(s.filter)("savedObjectId",L))),[L]),H=Object(l.useCallback)((t=>a(m.a.addNote({id:e,noteId:t}))),[a,e]),K=Object(l.useCallback)((()=>{a(m.a.toggleDetailPanel({tabType:g.w.notes,timelineId:e}))}),[a,e]),_=Object(l.useMemo)((()=>{var a;return null!==(a=f[g.w.notes])&&void 0!==a&&a.panelView?o.a.createElement(S.a,{browserFields:V,docValueFields:D,handleOnPanelClosed:K,tabType:g.w.notes,timelineId:e}):null}),[V,D,f,K,e]),U=Object(l.useMemo)((()=>o.a.createElement(o.a.Fragment,null,E&&o.a.createElement(o.a.Fragment,null,o.a.createElement(n.EuiSpacer,{size:"m"}),o.a.createElement(n.EuiTitle,{size:"xs"},o.a.createElement("h4",null,y.c)),o.a.createElement(n.EuiHorizontalRule,{margin:"s"}),o.a.createElement(F,{username:E}),o.a.createElement(n.EuiSpacer,{size:"xxl"})),o.a.createElement(T,{users:G}))),[E,G]);return o.a.createElement(k,null,o.a.createElement(M,{grow:2,id:"scrollableNotes"},o.a.createElement(v,{paddingSize:"s"},o.a.createElement(n.EuiTitle,null,o.a.createElement("h3",null,y.e)),o.a.createElement(n.EuiSpacer,null),o.a.createElement(x.a,{eventIdToNoteIds:j,notes:L,timelineId:e,showTimelineDescription:!0}),o.a.createElement(n.EuiSpacer,{size:"s"}),!P&&o.a.createElement(w.a,{associateNote:H,newNote:A,updateNewNote:z,autoFocusDisabled:!!c}))),o.a.createElement(h,null),o.a.createElement(M,{grow:1},null!=_?_:U))};D.displayName="NotesTabContentComponent";const B=o.a.memo(D)},545:function(e,a,t){"use strict";t.d(a,"a",(function(){return E}));var s=t(55),n=t(9),l=t.n(n),o=t(56),i=t.n(o),c=t(91),r=t(164),u=t(440),d=t(262),m=t(354);const p=i()(s.EuiFlexItem).withConfig({displayName:"NewNoteTabs",componentId:"sc-co6fvn-0"})(["width:100%;"]);p.displayName="NewNoteTabs";const g=l.a.memo((({note:e,noteInputHeight:a,updateNewNote:t,autoFocusDisabled:s=!1})=>l.a.createElement(p,{"data-test-subj":"new-note-tabs"},l.a.createElement(m.a,{ariaLabel:d.d,onChange:t,value:e,dataTestSubj:"add-a-note",height:a,autoFocusDisabled:s}))));g.displayName="NewNote";const b=i.a.div.withConfig({displayName:"AddNotesContainer",componentId:"sc-1csl9ju-0"})(["margin-bottom:5px;user-select:none;"]);b.displayName="AddNotesContainer";const w=i()(s.EuiFlexGroup).withConfig({displayName:"ButtonsContainer",componentId:"sc-1csl9ju-1"})(["margin-top:5px;"]);w.displayName="ButtonsContainer";const y=l.a.memo((({onCancelAddNote:e})=>l.a.createElement(s.EuiButtonEmpty,{"data-test-subj":"cancel",onClick:e},d.b)));y.displayName="CancelButton";const E=l.a.memo((({associateNote:e,newNote:a,onCancelAddNote:t,updateNewNote:o,autoFocusDisabled:i=!1})=>{const m=Object(c.useDispatch)(),p=Object(n.useCallback)((e=>m(r.a.updateNote({note:e}))),[m]),E=Object(n.useCallback)((()=>Object(u.b)({associateNote:e,newNote:a,updateNewNote:o,updateNote:p})),[e,a,o,p]),f=Object(n.useCallback)((e=>{e.stopPropagation(),"Escape"===e.key&&null!=t&&t()}),[t]);return l.a.createElement(b,{onKeyDown:f,role:"dialog"},l.a.createElement("div",{style:{width:"100%"}},l.a.createElement(s.EuiScreenReaderOnly,{"data-test-subj":"screenReaderOnly"},l.a.createElement("p",null,d.g)),l.a.createElement(g,{note:a,noteInputHeight:200,updateNewNote:o,autoFocusDisabled:i}),l.a.createElement(w,{gutterSize:"none"},null!=t?l.a.createElement(s.EuiFlexItem,{grow:!1},l.a.createElement(y,{onCancelAddNote:t})):null,l.a.createElement(s.EuiFlexItem,{grow:!1},l.a.createElement(s.EuiButton,{"data-test-subj":"add-note",isDisabled:0===a.trim().length,fill:!0,onClick:E},d.a)))))}));E.displayName="AddNote"}}]);