/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.securitySolution_bundle_jsonpfunction=window.securitySolution_bundle_jsonpfunction||[]).push([[23],{1354:function(e,t,n){"use strict";n.r(t),n.d(t,"PinnedTabContentComponent",(function(){return B})),n.d(t,"default",(function(){return M}));var i=n(55),o=n(19),l=n(9),a=n.n(l),d=n(56),s=n.n(d),r=n(91),u=n(95),m=n.n(u),c=n(94),p=n(524),g=n(537),h=n(177),b=n(526),y=n(546),w=n(244),E=n(349),f=n(135),P=n(104),C=n(105),v=n(109),F=n(128),I=n(117),O=n(20),j=n(309),S=n(93),x=n(388),N=n(311);const k=s()(i.EuiFlyoutBody).withConfig({displayName:"StyledEuiFlyoutBody",componentId:"sc-1kqzlqh-0"})(["overflow-y:hidden;flex:1;.euiFlyoutBody__overflow{overflow:hidden;mask-image:none;}.euiFlyoutBody__overflowContent{padding:0;height:100%;display:flex;}"]),q=s()(i.EuiFlyoutFooter).withConfig({displayName:"StyledEuiFlyoutFooter",componentId:"sc-1kqzlqh-1"})(["background:none;padding:0;&.euiFlyoutFooter{","}"],(({theme:e})=>`padding: ${e.eui.euiSizeS} 0 0 0;`)),_=s.a.div.withConfig({displayName:"ExitFullScreenContainer",componentId:"sc-1kqzlqh-2"})(["width:180px;"]),D=s()(i.EuiFlexGroup).withConfig({displayName:"FullWidthFlexGroup",componentId:"sc-1kqzlqh-3"})(["margin:0;width:100%;overflow:hidden;"]),V=s()(i.EuiFlexItem).withConfig({displayName:"ScrollableFlexItem",componentId:"sc-1kqzlqh-4"})(["overflow:hidden;"]),z=s.a.div.withConfig({displayName:"VerticalRule",componentId:"sc-1kqzlqh-5"})(["width:2px;height:100%;background:",";"],(({theme:e})=>e.eui.euiColorLightShade));z.displayName="VerticalRule";const T=[],B=({columns:e,timelineId:t,itemsPerPage:n,itemsPerPageOptions:i,pinnedEventIds:d,onEventClosed:s,renderCellValue:r,rowRenderers:u,showExpandedDetails:m,sort:c})=>{const{browserFields:C,docValueFields:B,loading:M}=Object(v.c)(P.SourcererScopeName.timeline),{setTimelineFullScreen:R,timelineFullScreen:$}=Object(F.b)(),A=Object(l.useMemo)((()=>f.d.getAllExistingIndexNamesSelector()),[]),L=Object(S.a)(A),G=Object(l.useMemo)((()=>{if(Object(o.isEmpty)(d))return"";const e=Object.entries(d).reduce(((e,[t,n])=>n?{...e,bool:{...e.bool,should:[...e.bool.should,{match_phrase:{_id:t}}]}}:e),{bool:{should:[],minimum_should_match:1}});try{return JSON.stringify(e)}catch{return""}}),[d]),J=Object(l.useMemo)((()=>[...(Object(o.isEmpty)(e)?h.b:e).map((e=>e.id)),...w.k]),[e]),K=Object(l.useMemo)((()=>c.map((({columnId:e,columnType:t,sortDirection:n})=>({field:e,type:t,direction:n})))),[c]),[Q,{events:W,totalCount:H,pageInfo:U,loadPage:X,updatedAt:Y,refetch:Z}]=Object(g.a)({docValueFields:B,endDate:"",id:`pinned-${t}`,indexNames:L,fields:J,limit:n,filterQuery:G,skip:""===G,startDate:"",sort:K,timerangeKind:void 0}),ee=Object(l.useCallback)((()=>{s({tabType:O.w.pinned,timelineId:t})}),[t,s]),te=Object(l.useMemo)((()=>Object(N.a)(5).map((e=>({...e,headerCellRender:p.a})))),[]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(D,{"data-test-subj":`${O.w.pinned}-tab`},a.a.createElement(V,{grow:2},$&&null!=R&&a.a.createElement(_,null,a.a.createElement(x.b,{fullScreen:$,setFullScreen:R})),a.a.createElement(E.a,null,a.a.createElement(k,{"data-test-subj":`${O.w.pinned}-tab-flyout-body`,className:"timeline-flyout-body"},a.a.createElement(b.a,{activePage:U.activePage,browserFields:C,data:W,id:t,refetch:Z,renderCellValue:r,rowRenderers:u,sort:c,tabType:O.w.pinned,totalPages:Object(I.h)({itemsCount:H,itemsPerPage:n}),leadingControlColumns:te,trailingControlColumns:T})),a.a.createElement(q,{"data-test-subj":`${O.w.pinned}-tab-flyout-footer`,className:"timeline-flyout-footer"},a.a.createElement(y.a,{activePage:U.activePage,"data-test-subj":"timeline-footer",updatedAt:Y,height:y.b,id:t,isLive:!1,isLoading:Q||M,itemsCount:W.length,itemsPerPage:n,itemsPerPageOptions:i,onChangePage:X,totalCount:H})))),m&&a.a.createElement(a.a.Fragment,null,a.a.createElement(z,null),a.a.createElement(V,{grow:1},a.a.createElement(j.a,{browserFields:C,docValueFields:B,handleOnPanelClosed:ee,tabType:O.w.pinned,timelineId:t})))))},M=Object(r.connect)((()=>{const e=c.b.getTimelineByIdSelector();return(t,{timelineId:n})=>{var i,o;const l=null!==(i=e(t,n))&&void 0!==i?i:C.a,{columns:a,expandedDetail:d,itemsPerPage:s,itemsPerPageOptions:r,pinnedEventIds:u,sort:m}=l;return{columns:a,timelineId:n,itemsPerPage:s,itemsPerPageOptions:r,pinnedEventIds:u,showExpandedDetails:!!d[O.w.pinned]&&!(null===(o=d[O.w.pinned])||void 0===o||!o.panelView),sort:m}}}),((e,{timelineId:t})=>({onEventClosed:t=>{e(c.a.toggleDetailPanel(t))}})))(a.a.memo(B,((e,t)=>e.itemsPerPage===t.itemsPerPage&&e.onEventClosed===t.onEventClosed&&e.showExpandedDetails===t.showExpandedDetails&&e.timelineId===t.timelineId&&m()(e.columns,t.columns)&&m()(e.itemsPerPageOptions,t.itemsPerPageOptions)&&m()(e.pinnedEventIds,t.pinnedEventIds)&&m()(e.sort,t.sort))))}}]);