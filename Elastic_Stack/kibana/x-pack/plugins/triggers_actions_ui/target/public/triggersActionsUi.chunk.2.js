/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.triggersActionsUi_bundle_jsonpfunction=window.triggersActionsUi_bundle_jsonpfunction||[]).push([[2],{100:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var r=a(1),n=a.n(r),s=a(82),i=a(85),l=a(36),o=a(13),c=a(0),u=(a(126),a(86)),d=a(59),p=a(22);var g=a(83),b=a(5);const j=({children:e,waitForCheck:t,inFlyout:a=!1})=>{const{http:r,docLinks:l}=Object(d.b)().services,{setLoadingHealthCheck:c}=Object(u.b)(),[j,y]=n.a.useState(s.none);n.a.useEffect((()=>{!async function(){c(!0);const e={...await async function({http:e}){return await e.get("/api/triggers_actions_ui/_health")}({http:r}),isSufficientlySecure:!1,hasPermanentEncryptionKey:!1};if(e.isAlertsAvailable){const t=await Object(g.a)({http:r});e.isSufficientlySecure=t.isSufficientlySecure,e.hasPermanentEncryptionKey=t.hasPermanentEncryptionKey}y(Object(s.some)(e)),c(!1)}()}),[r,c]);const O=a?"alertingFlyoutHealthCheck":"alertingHealthCheck";return Object(i.pipe)(j,Object(s.fold)((()=>t?Object(b.jsx)(n.a.Fragment,null,Object(b.jsx)(o.EuiSpacer,{size:"m"}),Object(b.jsx)(p.a,null)):Object(b.jsx)(n.a.Fragment,null,e)),(t=>null!=t&&t.isSufficientlySecure&&null!=t&&t.hasPermanentEncryptionKey?Object(b.jsx)(n.a.Fragment,null,e):t.isAlertsAvailable?t.isSufficientlySecure||t.hasPermanentEncryptionKey?t.hasPermanentEncryptionKey?Object(b.jsx)(m,{docLinks:l,className:O}):Object(b.jsx)(h,{docLinks:l,className:O}):Object(b.jsx)(f,{docLinks:l,className:O}):Object(b.jsx)(x,{docLinks:l,className:O}))))},h=({docLinks:e,className:t})=>Object(b.jsx)(o.EuiEmptyPrompt,{iconType:"watchesApp","data-test-subj":"actionNeededEmptyPrompt",className:t,titleSize:"xs",title:Object(b.jsx)("h2",null,Object(b.jsx)(l.FormattedMessage,{id:"xpack.triggersActionsUI.components.healthCheck.encryptionErrorTitle",defaultMessage:"Additional setup required"})),body:Object(b.jsx)("div",{className:`${t}__body`},Object(b.jsx)("p",{role:"banner"},c.i18n.translate("xpack.triggersActionsUI.components.healthCheck.encryptionErrorBeforeKey",{defaultMessage:"You must configure an encryption key to use Alerting. "}),Object(b.jsx)(o.EuiLink,{href:e.links.alerting.generalSettings,external:!0,target:"_blank"},c.i18n.translate("xpack.triggersActionsUI.components.healthCheck.encryptionErrorAction",{defaultMessage:"Learn more."}))))}),m=({docLinks:e,className:t})=>Object(b.jsx)(o.EuiEmptyPrompt,{iconType:"watchesApp","data-test-subj":"actionNeededEmptyPrompt",className:t,titleSize:"xs",title:Object(b.jsx)("h2",null,Object(b.jsx)(l.FormattedMessage,{id:"xpack.triggersActionsUI.components.healthCheck.apiKeysDisabledErrorTitle",defaultMessage:"Additional setup required"})),body:Object(b.jsx)("div",{className:`${t}__body`},Object(b.jsx)("p",{role:"banner"},c.i18n.translate("xpack.triggersActionsUI.components.healthCheck.apiKeysDisabledError",{defaultMessage:"You must enable API keys to use Alerting. "}),Object(b.jsx)(o.EuiLink,{href:e.links.security.elasticsearchEnableApiKeys,external:!0,target:"_blank"},c.i18n.translate("xpack.triggersActionsUI.components.healthCheck.apiKeysDisabledErrorAction",{defaultMessage:"Learn more."}))))}),x=({docLinks:e,className:t})=>Object(b.jsx)(o.EuiEmptyPrompt,{iconType:"watchesApp","data-test-subj":"alertsNeededEmptyPrompt",className:t,titleSize:"xs",title:Object(b.jsx)("h2",null,Object(b.jsx)(l.FormattedMessage,{id:"xpack.triggersActionsUI.components.healthCheck.alertsErrorTitle",defaultMessage:"You must enable Alerting and Actions"})),body:Object(b.jsx)("div",{className:`${t}__body`},Object(b.jsx)("p",{role:"banner"},c.i18n.translate("xpack.triggersActionsUI.components.healthCheck.alertsError",{defaultMessage:"To create a rule, you must enable the alerting and actions plugins. "}),Object(b.jsx)(o.EuiLink,{href:e.links.alerting.generalSettings,external:!0,target:"_blank"},c.i18n.translate("xpack.triggersActionsUI.components.healthCheck.alertsErrorAction",{defaultMessage:"Learn how."}))))}),f=({docLinks:e,className:t})=>Object(b.jsx)(o.EuiEmptyPrompt,{iconType:"watchesApp","data-test-subj":"actionNeededEmptyPrompt",className:t,titleSize:"xs",title:Object(b.jsx)("h2",null,Object(b.jsx)(l.FormattedMessage,{id:"xpack.triggersActionsUI.components.healthCheck.apiKeysAndEncryptionErrorTitle",defaultMessage:"Additional setup required"})),body:Object(b.jsx)("div",{className:`${t}__body`},Object(b.jsx)("p",{role:"banner"},c.i18n.translate("xpack.triggersActionsUI.components.healthCheck.apiKeysAndEncryptionError",{defaultMessage:"You must enable API keys and configure an encryption key to use Alerting. "}),Object(b.jsx)(o.EuiLink,{href:e.links.alerting.setupPrerequisites,external:!0,target:"_blank"},c.i18n.translate("xpack.triggersActionsUI.components.healthCheck.apiKeysAndEncryptionErrorAction",{defaultMessage:"Learn more."}))))})},124:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return s}));var r=a(0);function n(e){const t=function(){const e=[];return e.push({name:s.ruleId,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.ruleIdLabel",{defaultMessage:"The ID of the rule."})}),e.push({name:s.ruleName,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.ruleNameLabel",{defaultMessage:"The name of the rule."})}),e.push({name:s.ruleSpaceId,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.ruleSpaceIdLabel",{defaultMessage:"The space ID of the rule."})}),e.push({name:s.ruleTags,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.ruleTagsLabel",{defaultMessage:"The tags of the rule."})}),e.push({name:s.ruleType,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.ruleTypeLabel",{defaultMessage:"The type of rule."})}),e.push({name:s.date,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.dateLabel",{defaultMessage:"The date the rule scheduled the action."})}),e.push({name:s.alertId,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.alertIdLabel",{defaultMessage:"The ID of the alert that scheduled actions for the rule."})}),e.push({name:s.alertActionGroup,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.alertActionGroupLabel",{defaultMessage:"The action group of the alert that scheduled actions for the rule."})}),e.push({name:s.alertActionSubgroup,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.alertActionSubgroupLabel",{defaultMessage:"The action subgroup of the alert that scheduled actions for the rule."})}),e.push({name:s.alertActionGroupName,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.alertActionGroupNameLabel",{defaultMessage:"The human readable name of the action group of the alert that scheduled actions for the rule."})}),e.push({name:"kibanaBaseUrl",description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.kibanaBaseUrlLabel",{defaultMessage:"The configured server.publicBaseUrl value or empty string if not configured."})}),e.push({name:i.alertId,deprecated:!0,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.legacyAlertIdLabel",{defaultMessage:"This has been deprecated in favor of {variable}.",values:{variable:s.ruleId}})}),e.push({name:i.alertName,deprecated:!0,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.legacyAlertNameLabel",{defaultMessage:"This has been deprecated in favor of {variable}.",values:{variable:s.ruleName}})}),e.push({name:i.alertInstanceId,deprecated:!0,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.legacyAlertInstanceIdLabel",{defaultMessage:"This has been deprecated in favor of {variable}.",values:{variable:s.alertId}})}),e.push({name:i.alertActionGroup,deprecated:!0,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.legacyAlertActionGroupLabel",{defaultMessage:"This has been deprecated in favor of {variable}.",values:{variable:s.alertActionGroup}})}),e.push({name:i.alertActionGroupName,deprecated:!0,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.legacyAlertActionGroupNameLabel",{defaultMessage:"This has been deprecated in favor of {variable}.",values:{variable:s.alertActionGroupName}})}),e.push({name:i.alertActionSubgroup,deprecated:!0,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.legacyAlertActionSubGroupLabel",{defaultMessage:"This has been deprecated in favor of {variable}.",values:{variable:s.alertActionSubgroup}})}),e.push({name:i.spaceId,deprecated:!0,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.legacySpaceIdLabel",{defaultMessage:"This has been deprecated in favor of {variable}.",values:{variable:s.ruleSpaceId}})}),e.push({name:i.tags,deprecated:!0,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.legacyTagsLabel",{defaultMessage:"This has been deprecated in favor of {variable}.",values:{variable:s.ruleTags}})}),e}(),a=e.context?l(e.context,"context."):[],n=l(e.params,"params."),o=l(e.state,"state.");return t.concat(a,n,o)}let s,i;function l(e,t){return e.map((e=>({...e,name:`${t}${e.name}`})))}!function(e){e.ruleId="rule.id",e.ruleName="rule.name",e.ruleSpaceId="rule.spaceId",e.ruleTags="rule.tags",e.ruleType="rule.type",e.date="date",e.alertId="alert.id",e.alertActionGroup="alert.actionGroup",e.alertActionGroupName="alert.actionGroupName",e.alertActionSubgroup="alert.actionSubgroup"}(s||(s={})),function(e){e.alertId="alertId",e.alertName="alertName",e.alertInstanceId="alertInstanceId",e.alertActionGroup="alertActionGroup",e.alertActionGroupName="alertActionGroupName",e.alertActionSubgroup="alertActionSubgroup",e.tags="tags",e.spaceId="spaceId"}(i||(i={}))},125:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a(2),n=a(0);function s(e){return!1===(null==e?void 0:e.enabledInLicense)?(e=>({isEnabled:!1,message:n.i18n.translate("xpack.triggersActionsUI.checkAlertTypeEnabled.ruleTypeDisabledByLicenseMessage",{defaultMessage:"This rule type requires a {minimumLicenseRequired} license.",values:{minimumLicenseRequired:Object(r.upperFirst)(e.minimumLicenseRequired)}})}))(e):{isEnabled:!0}}},126:function(e,t,a){switch(window.__kbnThemeTag__){case"v7dark":return a(127);case"v7light":return a(129);case"v8dark":return a(131);case"v8light":return a(133)}},127:function(e,t,a){var r=a(57),n=a(128);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1};r(n,s);e.exports=n.locals||{}},128:function(e,t,a){(t=a(58)(!1)).push([e.i,".alertingHealthCheck__body{padding-left:32px;padding-right:32px}.alertingFlyoutHealthCheck__body{padding-left:32px;padding-right:32px;margin-top:16px}\n",""]),e.exports=t},129:function(e,t,a){var r=a(57),n=a(130);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1};r(n,s);e.exports=n.locals||{}},130:function(e,t,a){(t=a(58)(!1)).push([e.i,".alertingHealthCheck__body{padding-left:32px;padding-right:32px}.alertingFlyoutHealthCheck__body{padding-left:32px;padding-right:32px;margin-top:16px}\n",""]),e.exports=t},131:function(e,t,a){var r=a(57),n=a(132);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1};r(n,s);e.exports=n.locals||{}},132:function(e,t,a){(t=a(58)(!1)).push([e.i,".alertingHealthCheck__body{padding-left:32px;padding-right:32px}.alertingFlyoutHealthCheck__body{padding-left:32px;padding-right:32px;margin-top:16px}\n",""]),e.exports=t},133:function(e,t,a){var r=a(57),n=a(134);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1};r(n,s);e.exports=n.locals||{}},134:function(e,t,a){(t=a(58)(!1)).push([e.i,".alertingHealthCheck__body{padding-left:32px;padding-right:32px}.alertingFlyoutHealthCheck__body{padding-left:32px;padding-right:32px;margin-top:16px}\n",""]),e.exports=t},144:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return c}));var r=a(2),n=a(0),s=a(41);function i(e,t,a){const r=t?t.validate(e.params).errors:[],i=function(e,t){const a={errors:{}},r={name:new Array,interval:new Array,alertTypeId:new Array,actionConnectors:new Array};a.errors=r,e.name||r.name.push(n.i18n.translate("xpack.triggersActionsUI.sections.alertForm.error.requiredNameText",{defaultMessage:"Name is required."})),e.schedule.interval.length<2?r.interval.push(n.i18n.translate("xpack.triggersActionsUI.sections.alertForm.error.requiredIntervalText",{defaultMessage:"Check interval is required."})):null!=t&&t.minimumScheduleInterval&&Object(s.parseDuration)(e.schedule.interval)<Object(s.parseDuration)(t.minimumScheduleInterval)&&r.interval.push(n.i18n.translate("xpack.triggersActionsUI.sections.alertForm.error.belowMinimumText",{defaultMessage:"Interval is below minimum ({minimum}) for this rule type",values:{minimum:t.minimumScheduleInterval}}));e.alertTypeId||r.alertTypeId.push(n.i18n.translate("xpack.triggersActionsUI.sections.alertForm.error.requiredRuleTypeIdText",{defaultMessage:"Rule type is required."}));const i=e.actions.find((e=>/^\d+$/.test(e.id)&&Object.keys(e.params).length>0));return void 0!==i&&r.actionConnectors.push(n.i18n.translate("xpack.triggersActionsUI.sections.alertForm.error.requiredActionConnector",{defaultMessage:"Action for {actionTypeId} connector is required.",values:{actionTypeId:i.actionTypeId}})),a}(e,a).errors;return{alertParamsErrors:r,alertBaseErrors:i,alertErrors:{...r,...i}}}async function l(e,t){return await Promise.all(e.actions.map((async e=>{var a;return(await(null===(a=t.get(e.actionTypeId))||void 0===a?void 0:a.validateParams(e.params))).errors})))}const o=e=>!!Object.values(e).find((e=>Object(r.isObject)(e)?o(e):e.length>=1));function c(e,t,a){return!o(t)&&a.every((e=>!o(e)))}},145:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));a(1);var r=a(13),n=a(36),s=a(0),i=a(5);const l=({onConfirm:e,onCancel:t})=>Object(i.jsx)(r.EuiConfirmModal,{title:s.i18n.translate("xpack.triggersActionsUI.sections.confirmAlertClose.confirmAlertCloseTitle",{defaultMessage:"Discard unsaved changes to rule?"}),onCancel:t,onConfirm:e,confirmButtonText:s.i18n.translate("xpack.triggersActionsUI.sections.confirmAlertClose.confirmAlertCloseConfirmButtonText",{defaultMessage:"Discard changes"}),cancelButtonText:s.i18n.translate("xpack.triggersActionsUI.sections.confirmAlertClose.confirmAlertCloseCancelButtonText",{defaultMessage:"Cancel"}),defaultFocusedButton:"confirm","data-test-subj":"confirmAlertCloseModal"},Object(i.jsx)("p",null,Object(i.jsx)(n.FormattedMessage,{id:"xpack.triggersActionsUI.sections.confirmAlertClose.confirmAlertCloseMessage",defaultMessage:"You can't recover unsaved changes."})))},146:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return c}));var r=a(180),n=a.n(r),s=a(2);const i=["tags","schedule","actions","notifyWhen"];function l(e){const{name:t,alertTypeId:a,throttle:r}=e;return{...t&&t.length>0?{name:t}:{},...a&&a.length>0?{alertTypeId:a}:{},...r&&r.length>0?{throttle:r}:{}}}function o(e,t,a){let r=n()(Object(s.pick)(e,i),Object(s.pick)(t,i));a&&(r=r&&n()(e.params,t.params));const o=n()(l(e),l(t));return!r||!o}function c(e,t){return!n()(e,t)}},147:function(e,t,a){"use strict";a.d(t,"a",(function(){return S}));var r=a(1),n=a.n(r),s=a(0),i=a(36),l=a(13),o=a(2),c=a(41),u=a(83),d=a(19),p=a(8),g=a(17),b=a(63),j=a(5);const h=({solutions:e,onChange:t})=>{const[a,n]=Object(r.useState)([]),[s,o]=Object(r.useState)(!1);return Object(r.useEffect)((()=>{t&&t(a)}),[a]),Object(j.jsx)(l.EuiFilterGroup,null,Object(j.jsx)(l.EuiPopover,{isOpen:s,closePopover:()=>o(!1),button:Object(j.jsx)(l.EuiFilterButton,{iconType:"arrowDown",hasActiveFilters:a.length>0,numActiveFilters:a.length,numFilters:a.length,onClick:()=>o(!s),"data-test-subj":"solutionsFilterButton"},Object(j.jsx)(i.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertForm.solutionFilterLabel",defaultMessage:"Filter by use case"}))},Object(j.jsx)("div",{className:"euiFilterSelect__items"},[...e.entries()].map((([e,t])=>Object(j.jsx)(l.EuiFilterSelectItem,{key:e,onClick:()=>{const t=a.includes(e);n(t?a.filter((t=>t!==e)):[...a,e])},checked:a.includes(e)?"on":void 0,"data-test-subj":`solution${e}FilterOption`},t))))))};a(171);var m=a(59),x=a(6),f=a(26),y=a(124);var O=a(82),v=a(85);const A=[{value:"onActionGroupChange",inputDisplay:s.i18n.translate("xpack.triggersActionsUI.sections.alertForm.alertNotifyWhen.onActionGroupChange.display",{defaultMessage:"Only on status change"}),"data-test-subj":"onActionGroupChange",dropdownDisplay:Object(j.jsx)(n.a.Fragment,null,Object(j.jsx)("strong",null,Object(j.jsx)(i.FormattedMessage,{defaultMessage:"Only on status change",id:"xpack.triggersActionsUI.sections.alertForm.alertNotifyWhen.onActionGroupChange.label"})),Object(j.jsx)(l.EuiText,{size:"s",color:"subdued"},Object(j.jsx)("p",null,Object(j.jsx)(i.FormattedMessage,{defaultMessage:"Actions run when the alert status changes.",id:"xpack.triggersActionsUI.sections.alertForm.alertNotifyWhen.onActionGroupChange.description"}))))},{value:"onActiveAlert",inputDisplay:s.i18n.translate("xpack.triggersActionsUI.sections.alertForm.alertNotifyWhen.onActiveAlert.display",{defaultMessage:"Every time alert is active"}),"data-test-subj":"onActiveAlert",dropdownDisplay:Object(j.jsx)(n.a.Fragment,null,Object(j.jsx)("strong",null,Object(j.jsx)(i.FormattedMessage,{defaultMessage:"Every time alert is active",id:"xpack.triggersActionsUI.sections.alertForm.alertNotifyWhen.onActiveAlert.label"})),Object(j.jsx)(l.EuiText,{size:"s",color:"subdued"},Object(j.jsx)("p",null,Object(j.jsx)(i.FormattedMessage,{defaultMessage:"Actions repeat at the rule interval when the alert is active.",id:"xpack.triggersActionsUI.sections.alertForm.alertNotifyWhen.onActiveAlert.description"}))))},{value:"onThrottleInterval",inputDisplay:s.i18n.translate("xpack.triggersActionsUI.sections.alertForm.alertNotifyWhen.onThrottleInterval.display",{defaultMessage:"On a custom action interval"}),"data-test-subj":"onThrottleInterval",dropdownDisplay:Object(j.jsx)(n.a.Fragment,null,Object(j.jsx)("strong",null,Object(j.jsx)(i.FormattedMessage,{defaultMessage:"On a custom action interval",id:"xpack.triggersActionsUI.sections.alertForm.alertNotifyWhen.onThrottleInterval.label"})),Object(j.jsx)(l.EuiText,{size:"s",color:"subdued"},Object(j.jsx)("p",null,Object(j.jsx)(i.FormattedMessage,{defaultMessage:"Actions run using the interval you set.",id:"xpack.triggersActionsUI.sections.alertForm.alertNotifyWhen.onThrottleInterval.description"}))))}],I=({alert:e,throttle:t,throttleUnit:a,onNotifyWhenChange:o,onThrottleChange:c})=>{const[u,p]=Object(r.useState)(t||1),[g,b]=Object(r.useState)(!1),[h,m]=Object(r.useState)("onActionGroupChange");Object(r.useEffect)((()=>{e.notifyWhen?m(e.notifyWhen):m(e.throttle?"onThrottleInterval":"onActiveAlert")}),[e]),Object(r.useEffect)((()=>{b("onThrottleInterval"===h)}),[h]);const x=Object(r.useCallback)((e=>{c("onThrottleInterval"===e?u:null,a),o(e),m(e)}),[]),f=Object(j.jsx)(n.a.Fragment,null,Object(j.jsx)(i.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertForm.renotifyFieldLabel",defaultMessage:"Notify"})," ",Object(j.jsx)(l.EuiIconTip,{position:"right",type:"questionInCircle",content:s.i18n.translate("xpack.triggersActionsUI.sections.alertForm.renotifyWithTooltip",{defaultMessage:"Define how often to repeat the action while the rule is active."})}));return Object(j.jsx)(n.a.Fragment,null,Object(j.jsx)(l.EuiFormRow,{fullWidth:!0,label:f},Object(j.jsx)(l.EuiFlexGroup,{gutterSize:"s"},Object(j.jsx)(l.EuiFlexItem,null,Object(j.jsx)(l.EuiSuperSelect,{"data-test-subj":"notifyWhenSelect",options:A,valueOfSelected:h,onChange:x}),g&&Object(j.jsx)(n.a.Fragment,null,Object(j.jsx)(l.EuiSpacer,null),Object(j.jsx)(l.EuiFormRow,{fullWidth:!0},Object(j.jsx)(l.EuiFlexGroup,{gutterSize:"s"},Object(j.jsx)(l.EuiFlexItem,null,Object(j.jsx)(l.EuiFieldNumber,{fullWidth:!0,min:1,value:u,name:"throttle","data-test-subj":"throttleInput",prepend:s.i18n.translate("xpack.triggersActionsUI.sections.alertForm.alertNotifyWhen.label",{defaultMessage:"Every"}),onChange:e=>{Object(v.pipe)(Object(O.some)(e.target.value.trim()),Object(O.filter)((e=>""!==e)),Object(O.map)((e=>parseInt(e,10))),Object(O.filter)((e=>!isNaN(e))),Object(O.map)((e=>{p(e),c(e,a)})))}})),Object(j.jsx)(l.EuiFlexItem,{grow:!1},Object(j.jsx)(l.EuiSelect,{"data-test-subj":"throttleUnitInput",value:a,options:Object(d.b)(null!=t?t:1),onChange:e=>{c(t,e.target.value)}})))))))))};var k=a(125);var E=a(18),T=a(80);function F(e,t){var a;return null===(a=t.find((t=>t.id===e)))||void 0===a?void 0:a.name}const M=Object(c.getDurationNumberInItsUnit)(x.c),C=Object(c.getDurationUnitValue)(x.c),S=({alert:e,canChangeTrigger:t=!0,dispatch:a,errors:O,setHasActionsDisabled:v,setHasActionsWithBrokenConnector:A,operation:S,ruleTypeRegistry:_,actionTypeRegistry:N,metadata:L})=>{var w,G;const{http:P,notifications:{toasts:R},docLinks:z,application:{capabilities:D},kibanaFeatures:W,charts:H,data:V}=Object(m.b)().services,q=Object(b.e)(D),[B,$]=Object(r.useState)(null),[K,Y]=Object(r.useState)(e.schedule.interval?Object(c.getDurationNumberInItsUnit)(e.schedule.interval):M),[J,Q]=Object(r.useState)(e.schedule.interval?Object(c.getDurationUnitValue)(e.schedule.interval):C),[X,Z]=Object(r.useState)(e.throttle?Object(c.getDurationNumberInItsUnit)(e.throttle):null),[ee,te]=Object(r.useState)(e.throttle?Object(c.getDurationUnitValue)(e.throttle):"h"),[ae,re]=Object(r.useState)(void 0),[ne,se]=Object(r.useState)(null),[ie,le]=Object(r.useState)([]),[oe,ce]=Object(r.useState)([]),[ue,de]=Object(r.useState)(),[pe,ge]=Object(r.useState)(),[be,je]=Object(r.useState)(void 0),[he,me]=Object(r.useState)([]);let xe=!1;Object(r.useEffect)((()=>{(async()=>{try{const t=await Object(u.l)({http:P}),a=new Map;for(const e of t)a.set(e.id,e);e.alertTypeId&&a.has(e.alertTypeId)&&re(a.get(e.alertTypeId).defaultActionGroupId),se(a);const r=Ie(t);le(r);const n=r.reduce(((e,t)=>{var a;e.has(t.alertType.producer)||e.set(t.alertType.producer,null!==(a=W?F(t.alertType.producer,W):Object(o.capitalize)(t.alertType.producer))&&void 0!==a?a:Object(o.capitalize)(t.alertType.producer));return e}),new Map);je(new Map([...n.entries()].sort((([,e],[,t])=>e.localeCompare(t)))))}catch(e){R.addDanger({title:s.i18n.translate("xpack.triggersActionsUI.sections.alertForm.unableToLoadRuleTypesMessage",{defaultMessage:"Unable to load rule types"})})}})()}),[]),Object(r.useEffect)((()=>{$(e.alertTypeId?_.get(e.alertTypeId):null),e.alertTypeId&&ne&&ne.has(e.alertTypeId)&&re(ne.get(e.alertTypeId).defaultActionGroupId)}),[e,e.alertTypeId,ne,_]),Object(r.useEffect)((()=>{if(e.schedule.interval){const t=Object(c.getDurationNumberInItsUnit)(e.schedule.interval),a=Object(c.getDurationUnitValue)(e.schedule.interval);t!==M&&Y(t),a!==C&&Q(a)}}),[e.schedule.interval]);const fe=Object(r.useCallback)(((e,t)=>{a({command:{type:"setProperty"},payload:{key:e,value:t}})}),[a]),ye=Object(r.useCallback)((e=>fe("actions",e)),[fe]),Oe=(e,t)=>{a({command:{type:"setScheduleProperty"},payload:{key:e,value:t}})},ve=(e,t,r)=>{a({command:{type:"setAlertActionProperty"},payload:{key:e,value:t,index:r}})},Ae=Object(r.useCallback)(((e,t,r)=>{a({command:{type:"setAlertActionParams"},payload:{key:e,value:t,index:r}})}),[a]);Object(r.useEffect)((()=>{const e=ue?ue.trim().toLocaleLowerCase():null;ce(ie.filter((e=>he.length>0?he.find((t=>e.alertType.producer===t)):e)).filter((t=>e?t.alertType.name.toString().toLocaleLowerCase().includes(e)||t.alertType.producer.toLocaleLowerCase().includes(e)||t.alertTypeModel.description.toLocaleLowerCase().includes(e):t)))}),[_,ie,ue,JSON.stringify(he)]);const Ie=t=>_.list().reduce(((e,a)=>{const r=t.find((e=>a.id===e.id));return r&&e.push({alertType:r,alertTypeModel:a}),e}),[]).filter((t=>t.alertType&&Object(b.a)(e,t.alertType))).filter((t=>e.consumer===g.ALERTS_FEATURE_ID?!t.alertTypeModel.requiresAppContext:t.alertType.producer===e.consumer)),ke=null!=e&&e.alertTypeId?null==ne?void 0:ne.get(null==e?void 0:e.alertTypeId):void 0,Ee=null==ke||null===(w=ke.recoveryActionGroup)||void 0===w?void 0:w.id,Te=Object(r.useCallback)(((e,t)=>((e,t,a)=>{switch(e){case".pagerduty":const e={dedupKey:`{{${y.a.ruleId}}}:{{${y.a.alertId}}}`,eventAction:f.a.TRIGGER};return a&&(e.eventAction=f.a.RESOLVE),e}})(e,0,t===Ee)),[Ee]),Fe=e.tags?e.tags.map((e=>({label:e}))):[],Me=Object(r.useCallback)(((e,t,a)=>{var r;return Object(g.isActionGroupDisabledForActionTypeId)(t===(null==e||null===(r=e.recoveryActionGroup)||void 0===r?void 0:r.id)?g.RecoveredActionGroup.id:t,a)}),[]),Ce=B?B.alertParamsExpression:null,Se=oe.reduce(((e,t)=>{const a=t.alertType.producer;if(a){const r=Object(k.a)(t.alertType);r.isEnabled||(xe=!0),(e[a]=e[a]||[]).push({name:t.alertType.name,id:t.alertTypeModel.id,checkEnabledResult:r,alertTypeItem:t.alertTypeModel})}return e}),{}),Ue=Object.entries(Se).sort(((e,t)=>function(e,t,a){const r=e[0],n=t[0],s=e[1],i=t[1],l=void 0!==s.find((e=>e.checkEnabledResult.isEnabled)),o=void 0!==i.find((e=>e.checkEnabledResult.isEnabled));return l&&!o?-1:!l&&o?1:a?a.get(r).localeCompare(a.get(n)):r.localeCompare(n)}(e,t,be))).map((([e,t],a)=>{var n;return Object(j.jsx)(r.Fragment,{key:`group${a}`},Object(j.jsx)(l.EuiFlexGroup,{gutterSize:"none",alignItems:"center",className:"triggersActionsUI__alertTypeNodeHeading"},Object(j.jsx)(l.EuiFlexItem,null,Object(j.jsx)(l.EuiTitle,{"data-test-subj":`alertType${a}Group`,size:"xxxs",textTransform:"uppercase"},Object(j.jsx)(l.EuiTextColor,{color:"subdued"},null!==(n=W?F(e,W):Object(o.capitalize)(e))&&void 0!==n?n:Object(o.capitalize)(e)))),Object(j.jsx)(l.EuiFlexItem,{grow:!1},Object(j.jsx)(l.EuiNotificationBadge,{color:"subdued"},t.length))),Object(j.jsx)(l.EuiHorizontalRule,{size:"full",margin:"xs"}),Object(j.jsx)(l.EuiListGroup,{flush:!0,gutterSize:"m",size:"l",maxWidth:!1},t.sort(((e,t)=>function(e,t){return!0===e.checkEnabledResult.isEnabled&&!1===t.checkEnabledResult.isEnabled?-1:!1===e.checkEnabledResult.isEnabled&&!0===t.checkEnabledResult.isEnabled?1:e.name.localeCompare(t.name)}(e,t))).map(((e,t)=>{const a=Object(j.jsx)("span",null,Object(j.jsx)("strong",null,e.name),Object(j.jsx)(l.EuiText,{color:"subdued",size:"s"},Object(j.jsx)("p",null,e.alertTypeItem.description)));return Object(j.jsx)(l.EuiListGroupItem,{wrapText:!0,key:t,"data-test-subj":`${e.id}-SelectOption`,color:"primary",label:e.checkEnabledResult.isEnabled?a:Object(j.jsx)(l.EuiToolTip,{position:"top","data-test-subj":`${e.id}-disabledTooltip`,content:e.checkEnabledResult.message},a),isDisabled:!e.checkEnabledResult.isEnabled,onClick:()=>{fe("alertTypeId",e.id),ye([]),$(e.alertTypeItem),fe("params",{}),ne&&ne.has(e.id)&&re(ne.get(e.id).defaultActionGroupId)}})}))),Object(j.jsx)(l.EuiSpacer,null))})),_e=Object(j.jsx)(n.a.Fragment,null,Object(j.jsx)(l.EuiHorizontalRule,null),Object(j.jsx)(l.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},Object(j.jsx)(l.EuiFlexItem,null,Object(j.jsx)(l.EuiTitle,{size:"s","data-test-subj":"selectedAlertTypeTitle"},Object(j.jsx)("h5",{id:"selectedAlertTypeTitle"},e.alertTypeId&&ne&&ne.has(e.alertTypeId)?ne.get(e.alertTypeId).name:""))),t?Object(j.jsx)(l.EuiFlexItem,{grow:!1},Object(j.jsx)(l.EuiButtonIcon,{iconType:"cross",color:"danger","aria-label":s.i18n.translate("xpack.triggersActionsUI.sections.alertForm.changeAlertTypeAriaLabel",{defaultMessage:"Delete"}),onClick:()=>{fe("alertTypeId",null),$(null),fe("params",{})}})):null),(null==B?void 0:B.description)&&Object(j.jsx)(l.EuiFlexGroup,null,Object(j.jsx)(l.EuiFlexItem,null,Object(j.jsx)(l.EuiText,{color:"subdued",size:"s","data-test-subj":"alertDescription"},B.description," ",(null==B?void 0:B.documentationUrl)&&Object(j.jsx)(l.EuiLink,{external:!0,target:"_blank","data-test-subj":"alertDocumentationLink",href:"function"==typeof B.documentationUrl?B.documentationUrl(z):B.documentationUrl},Object(j.jsx)(i.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertForm.documentationLabel",defaultMessage:"Documentation"}))))),Object(j.jsx)(l.EuiHorizontalRule,null),Ce&&ae&&e.alertTypeId&&ke?Object(j.jsx)(l.EuiErrorBoundary,null,Object(j.jsx)(r.Suspense,{fallback:Object(j.jsx)(T.a,null,Object(j.jsx)(i.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertForm.loadingRuleTypeParamsDescription",defaultMessage:"Loading rule type params…"}))},Object(j.jsx)(Ce,{alertParams:e.params,alertInterval:`${null!=K?K:1}${J}`,alertThrottle:`${null!=X?X:1}${ee}`,alertNotifyWhen:null!==(G=e.notifyWhen)&&void 0!==G?G:"onActionGroupChange",errors:O,setAlertParams:(e,t)=>{a({command:{type:"setAlertParams"},payload:{key:e,value:t}})},setAlertProperty:fe,defaultActionGroupId:ae,actionGroups:ke.actionGroups,metadata:L,charts:H,data:V}))):null,q&&ae&&B&&e.alertTypeId&&ke?Object(j.jsx)(n.a.Fragment,null,O.actionConnectors.length>=1?Object(j.jsx)(n.a.Fragment,null,Object(j.jsx)(l.EuiSpacer,null),Object(j.jsx)(l.EuiCallOut,{color:"danger",size:"s",title:O.actionConnectors}),Object(j.jsx)(l.EuiSpacer,null)):null,Object(j.jsx)(p.a,{actions:e.actions,setHasActionsDisabled:v,setHasActionsWithBrokenConnector:A,messageVariables:ke.actionVariables,defaultActionGroupId:ae,isActionGroupDisabledForActionType:(e,t)=>Me(ke,e,t),actionGroups:ke.actionGroups.map((e=>e.id===ke.recoveryActionGroup.id?{...e,omitOptionalMessageVariables:!0,defaultActionMessage:x.i}:{...e,defaultActionMessage:null==B?void 0:B.defaultActionMessage})),getDefaultActionParams:Te,setActionIdByIndex:(e,t)=>ve("id",e,t),setActionGroupIdByIndex:(e,t)=>ve("group",e,t),setActions:ye,setActionParamsProperty:Ae,actionTypeRegistry:N})):null),Ne=Object(j.jsx)(n.a.Fragment,null,Object(j.jsx)(i.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertForm.checkFieldLabel",defaultMessage:"Check every"})," ",Object(j.jsx)(l.EuiIconTip,{position:"right",type:"questionInCircle",content:s.i18n.translate("xpack.triggersActionsUI.sections.alertForm.checkWithTooltip",{defaultMessage:"Define how often to evaluate the condition."})}));return Object(j.jsx)(l.EuiForm,null,Object(j.jsx)(l.EuiFlexGrid,{columns:2},Object(j.jsx)(l.EuiFlexItem,null,Object(j.jsx)(l.EuiFormRow,{fullWidth:!0,id:"alertName",label:Object(j.jsx)(i.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertForm.alertNameLabel",defaultMessage:"Name"}),isInvalid:O.name.length>0&&void 0!==e.name,error:O.name},Object(j.jsx)(l.EuiFieldText,{fullWidth:!0,autoFocus:!0,isInvalid:O.name.length>0&&void 0!==e.name,name:"name","data-test-subj":"alertNameInput",value:e.name||"",onChange:e=>{fe("name",e.target.value)},onBlur:()=>{e.name||fe("name","")}}))),Object(j.jsx)(l.EuiFlexItem,null,Object(j.jsx)(l.EuiFormRow,{fullWidth:!0,label:s.i18n.translate("xpack.triggersActionsUI.sections.alertForm.tagsFieldLabel",{defaultMessage:"Tags (optional)"})},Object(j.jsx)(l.EuiComboBox,{noSuggestions:!0,fullWidth:!0,"data-test-subj":"tagsComboBox",selectedOptions:Fe,onCreateOption:e=>{const t=[...Fe,{label:e}];fe("tags",t.map((e=>e.label)))},onChange:e=>{fe("tags",e.map((e=>e.label)))},onBlur:()=>{e.tags||fe("tags",[])}})))),Object(j.jsx)(l.EuiSpacer,{size:"m"}),Object(j.jsx)(l.EuiFlexGrid,{columns:2},Object(j.jsx)(l.EuiFlexItem,null,Object(j.jsx)(l.EuiFormRow,{fullWidth:!0,display:"rowCompressed",label:Ne,isInvalid:O.interval.length>0,error:O.interval},Object(j.jsx)(l.EuiFlexGroup,{gutterSize:"s"},Object(j.jsx)(l.EuiFlexItem,null,Object(j.jsx)(l.EuiFieldNumber,{fullWidth:!0,min:1,isInvalid:O.interval.length>0,value:K||"",name:"interval","data-test-subj":"intervalInput",onChange:e=>{const t=""!==e.target.value?parseInt(e.target.value,10):void 0;Y(t),Oe("interval",`${e.target.value}${J}`)}})),Object(j.jsx)(l.EuiFlexItem,{grow:!1},Object(j.jsx)(l.EuiSelect,{fullWidth:!0,value:J,options:Object(d.b)(null!=K?K:1),onChange:e=>{Q(e.target.value),Oe("interval",`${K}${e.target.value}`)},"data-test-subj":"intervalInputUnit"}))))),Object(j.jsx)(l.EuiFlexItem,null,Object(j.jsx)(I,{alert:e,throttle:X,throttleUnit:ee,onNotifyWhenChange:Object(r.useCallback)((e=>{fe("notifyWhen",e)}),[fe]),onThrottleChange:Object(r.useCallback)(((e,t)=>{Z(e),te(t),fe("throttle",e?`${e}${t}`:null)}),[fe])}))),Object(j.jsx)(l.EuiSpacer,{size:"m"}),B?Object(j.jsx)(n.a.Fragment,null,_e):ie.length?Object(j.jsx)(n.a.Fragment,null,Object(j.jsx)(l.EuiHorizontalRule,null),Object(j.jsx)(l.EuiFormRow,{fullWidth:!0,labelAppend:xe&&Object(j.jsx)(l.EuiTitle,{size:"xxs"},Object(j.jsx)(l.EuiLink,{href:E.VIEW_LICENSE_OPTIONS_LINK,target:"_blank",external:!0,className:"actActionForm__getMoreActionsLink"},Object(j.jsx)(i.FormattedMessage,{defaultMessage:"Get more rule types",id:"xpack.triggersActionsUI.sections.actionForm.getMoreRuleTypesTitle"}))),label:Object(j.jsx)(l.EuiTitle,{size:"xxs"},Object(j.jsx)("h5",null,Object(j.jsx)(i.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertForm.ruleTypeSelectLabel",defaultMessage:"Select rule type"})))},Object(j.jsx)(l.EuiFlexGroup,{gutterSize:"s"},Object(j.jsx)(l.EuiFlexItem,null,Object(j.jsx)(l.EuiFieldSearch,{fullWidth:!0,"data-test-subj":"alertSearchField",onChange:e=>{ge(e.target.value),""===e.target.value&&de("")},onKeyUp:e=>{13===e.keyCode&&de(pe)},placeholder:s.i18n.translate("xpack.triggersActionsUI.sections.alertForm.searchPlaceholderTitle",{defaultMessage:"Search"})})),be?Object(j.jsx)(l.EuiFlexItem,{grow:!1},Object(j.jsx)(h,{key:"solution-filter",solutions:be,onChange:e=>me(e)})):null)),Object(j.jsx)(l.EuiSpacer,null),O.alertTypeId.length>=1&&void 0!==e.alertTypeId?Object(j.jsx)(n.a.Fragment,null,Object(j.jsx)(l.EuiSpacer,null),Object(j.jsx)(l.EuiCallOut,{color:"danger",size:"s",title:O.alertTypeId}),Object(j.jsx)(l.EuiSpacer,null)):null,Ue):ne?Object(j.jsx)(U,{operation:S}):Object(j.jsx)(T.a,null,Object(j.jsx)(i.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertForm.loadingRuleTypesDescription",defaultMessage:"Loading rule types…"})))},U=({operation:e})=>Object(j.jsx)(l.EuiEmptyPrompt,{iconType:"lock","data-test-subj":"noAuthorizedAlertTypesPrompt",titleSize:"xs",title:Object(j.jsx)("h2",null,Object(j.jsx)(i.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertForm.error.noAuthorizedRuleTypesTitle",defaultMessage:"You have not been authorized to {operation} any Rule types",values:{operation:e}})),body:Object(j.jsx)("div",null,Object(j.jsx)("p",{role:"banner"},Object(j.jsx)(i.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertForm.error.noAuthorizedRuleTypes",defaultMessage:"In order to {operation} a Rule you need to have been granted the appropriate privileges.",values:{operation:e}})))})},171:function(e,t,a){switch(window.__kbnThemeTag__){case"v7dark":return a(172);case"v7light":return a(174);case"v8dark":return a(176);case"v8light":return a(178)}},172:function(e,t,a){var r=a(57),n=a(173);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1};r(n,s);e.exports=n.locals||{}},173:function(e,t,a){(t=a(58)(!1)).push([e.i,".triggersActionsUI__alertTypeNodeHeading{margin-left:8px;margin-right:8px}\n",""]),e.exports=t},174:function(e,t,a){var r=a(57),n=a(175);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1};r(n,s);e.exports=n.locals||{}},175:function(e,t,a){(t=a(58)(!1)).push([e.i,".triggersActionsUI__alertTypeNodeHeading{margin-left:8px;margin-right:8px}\n",""]),e.exports=t},176:function(e,t,a){var r=a(57),n=a(177);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1};r(n,s);e.exports=n.locals||{}},177:function(e,t,a){(t=a(58)(!1)).push([e.i,".triggersActionsUI__alertTypeNodeHeading{margin-left:8px;margin-right:8px}\n",""]),e.exports=t},178:function(e,t,a){var r=a(57),n=a(179);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var s={insert:"head",singleton:!1};r(n,s);e.exports=n.locals||{}},179:function(e,t,a){(t=a(58)(!1)).push([e.i,".triggersActionsUI__alertTypeNodeHeading{margin-left:8px;margin-right:8px}\n",""]),e.exports=t},180:function(e,t,a){"use strict";e.exports=function e(t,a){if(t===a)return!0;if(t&&a&&"object"==typeof t&&"object"==typeof a){if(t.constructor!==a.constructor)return!1;var r,n,s;if(Array.isArray(t)){if((r=t.length)!=a.length)return!1;for(n=r;0!=n--;)if(!e(t[n],a[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===a.source&&t.flags===a.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===a.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===a.toString();if((r=(s=Object.keys(t)).length)!==Object.keys(a).length)return!1;for(n=r;0!=n--;)if(!Object.prototype.hasOwnProperty.call(a,s[n]))return!1;for(n=r;0!=n--;){var i=s[n];if(!e(t[i],a[i]))return!1}return!0}return t!=t&&a!=a}},59:function(e,t,a){"use strict";a.d(t,"a",(function(){return r.KibanaContextProvider})),a.d(t,"b",(function(){return n}));var r=a(35);const n=()=>Object(r.useKibana)()},80:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a(1);var r=a(13),n=a(5);const s=({children:e})=>Object(n.jsx)(r.EuiEmptyPrompt,{title:Object(n.jsx)(r.EuiLoadingSpinner,{size:"xl"}),body:Object(n.jsx)(r.EuiText,{color:"subdued"},e),"data-test-subj":"sectionLoading"})},86:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return o}));var r=a(1),n=a(5);const s={loadingHealthCheck:!1,setLoadingHealthCheck:e=>{throw new Error("setLoadingHealthCheck was not initialized, set it when you invoke the context")}},i=Object(r.createContext)(s),l=({children:e})=>{const[t,a]=Object(r.useState)(!1),s=Object(r.useCallback)((e=>{a(e)}),[]),l=Object(r.useMemo)((()=>({loadingHealthCheck:t,setLoadingHealthCheck:s})),[t,s]);return Object(n.jsx)(i.Provider,{value:l},e)},o=()=>{const e=Object(r.useContext)(i);if(!e)throw new Error("HealthContext has not been set.");return e}},98:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a(2);const n=(e,t)=>{const{alert:a}=e;switch(t.command.type){case"setAlert":{const{key:a,value:r}=t.payload;return"alert"===a?{...e,alert:r}:e}case"setProperty":{const{key:n,value:s}=t.payload;return Object(r.isEqual)(a[n],s)?e:{...e,alert:{...a,[n]:s}}}case"setScheduleProperty":{const{key:n,value:s}=t.payload;return a.schedule&&Object(r.isEqual)(a.schedule[n],s)?e:{...e,alert:{...a,schedule:{...a.schedule,[n]:s}}}}case"setAlertParams":{const{key:n,value:s}=t.payload;return Object(r.isEqual)(a.params[n],s)?e:{...e,alert:{...a,params:{...a.params,[n]:s}}}}case"setAlertActionParams":{const{key:n,value:s,index:i}=t.payload;if(void 0===i||null==a.actions[i]||a.actions[i][n]&&Object(r.isEqual)(a.actions[i][n],s))return e;{const t=a.actions.splice(i,1)[0],r={...t,params:{...t.params,[n]:s}};return a.actions.splice(i,0,r),{...e,alert:{...a,actions:[...a.actions]}}}}case"setAlertActionProperty":{const{key:n,value:s,index:i}=t.payload;if(void 0===i||Object(r.isEqual)(a.actions[i][n],s))return e;{const t={...a.actions.splice(i,1)[0],[n]:s};return a.actions.splice(i,0,t),{...e,alert:{...a,actions:[...a.actions]}}}}}}}}]);