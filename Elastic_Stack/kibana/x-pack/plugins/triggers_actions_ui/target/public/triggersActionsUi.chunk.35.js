/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.triggersActionsUi_bundle_jsonpfunction=window.triggersActionsUi_bundle_jsonpfunction||[]).push([[35],{100:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var s=n(1),a=n.n(s),i=n(82),r=n(85),c=n(36),o=n(13),l=n(0),u=(n(126),n(86)),d=n(59),p=n(22);var g=n(83),h=n(5);const b=({children:e,waitForCheck:t,inFlyout:n=!1})=>{const{http:s,docLinks:c}=Object(d.b)().services,{setLoadingHealthCheck:l}=Object(u.b)(),[b,k]=a.a.useState(i.none);a.a.useEffect((()=>{!async function(){l(!0);const e={...await async function({http:e}){return await e.get("/api/triggers_actions_ui/_health")}({http:s}),isSufficientlySecure:!1,hasPermanentEncryptionKey:!1};if(e.isAlertsAvailable){const t=await Object(g.a)({http:s});e.isSufficientlySecure=t.isSufficientlySecure,e.hasPermanentEncryptionKey=t.hasPermanentEncryptionKey}k(Object(i.some)(e)),l(!1)}()}),[s,l]);const y=n?"alertingFlyoutHealthCheck":"alertingHealthCheck";return Object(r.pipe)(b,Object(i.fold)((()=>t?Object(h.jsx)(a.a.Fragment,null,Object(h.jsx)(o.EuiSpacer,{size:"m"}),Object(h.jsx)(p.a,null)):Object(h.jsx)(a.a.Fragment,null,e)),(t=>null!=t&&t.isSufficientlySecure&&null!=t&&t.hasPermanentEncryptionKey?Object(h.jsx)(a.a.Fragment,null,e):t.isAlertsAvailable?t.isSufficientlySecure||t.hasPermanentEncryptionKey?t.hasPermanentEncryptionKey?Object(h.jsx)(x,{docLinks:c,className:y}):Object(h.jsx)(j,{docLinks:c,className:y}):Object(h.jsx)(f,{docLinks:c,className:y}):Object(h.jsx)(m,{docLinks:c,className:y}))))},j=({docLinks:e,className:t})=>Object(h.jsx)(o.EuiEmptyPrompt,{iconType:"watchesApp","data-test-subj":"actionNeededEmptyPrompt",className:t,titleSize:"xs",title:Object(h.jsx)("h2",null,Object(h.jsx)(c.FormattedMessage,{id:"xpack.triggersActionsUI.components.healthCheck.encryptionErrorTitle",defaultMessage:"Additional setup required"})),body:Object(h.jsx)("div",{className:`${t}__body`},Object(h.jsx)("p",{role:"banner"},l.i18n.translate("xpack.triggersActionsUI.components.healthCheck.encryptionErrorBeforeKey",{defaultMessage:"You must configure an encryption key to use Alerting. "}),Object(h.jsx)(o.EuiLink,{href:e.links.alerting.generalSettings,external:!0,target:"_blank"},l.i18n.translate("xpack.triggersActionsUI.components.healthCheck.encryptionErrorAction",{defaultMessage:"Learn more."}))))}),x=({docLinks:e,className:t})=>Object(h.jsx)(o.EuiEmptyPrompt,{iconType:"watchesApp","data-test-subj":"actionNeededEmptyPrompt",className:t,titleSize:"xs",title:Object(h.jsx)("h2",null,Object(h.jsx)(c.FormattedMessage,{id:"xpack.triggersActionsUI.components.healthCheck.apiKeysDisabledErrorTitle",defaultMessage:"Additional setup required"})),body:Object(h.jsx)("div",{className:`${t}__body`},Object(h.jsx)("p",{role:"banner"},l.i18n.translate("xpack.triggersActionsUI.components.healthCheck.apiKeysDisabledError",{defaultMessage:"You must enable API keys to use Alerting. "}),Object(h.jsx)(o.EuiLink,{href:e.links.security.elasticsearchEnableApiKeys,external:!0,target:"_blank"},l.i18n.translate("xpack.triggersActionsUI.components.healthCheck.apiKeysDisabledErrorAction",{defaultMessage:"Learn more."}))))}),m=({docLinks:e,className:t})=>Object(h.jsx)(o.EuiEmptyPrompt,{iconType:"watchesApp","data-test-subj":"alertsNeededEmptyPrompt",className:t,titleSize:"xs",title:Object(h.jsx)("h2",null,Object(h.jsx)(c.FormattedMessage,{id:"xpack.triggersActionsUI.components.healthCheck.alertsErrorTitle",defaultMessage:"You must enable Alerting and Actions"})),body:Object(h.jsx)("div",{className:`${t}__body`},Object(h.jsx)("p",{role:"banner"},l.i18n.translate("xpack.triggersActionsUI.components.healthCheck.alertsError",{defaultMessage:"To create a rule, you must enable the alerting and actions plugins. "}),Object(h.jsx)(o.EuiLink,{href:e.links.alerting.generalSettings,external:!0,target:"_blank"},l.i18n.translate("xpack.triggersActionsUI.components.healthCheck.alertsErrorAction",{defaultMessage:"Learn how."}))))}),f=({docLinks:e,className:t})=>Object(h.jsx)(o.EuiEmptyPrompt,{iconType:"watchesApp","data-test-subj":"actionNeededEmptyPrompt",className:t,titleSize:"xs",title:Object(h.jsx)("h2",null,Object(h.jsx)(c.FormattedMessage,{id:"xpack.triggersActionsUI.components.healthCheck.apiKeysAndEncryptionErrorTitle",defaultMessage:"Additional setup required"})),body:Object(h.jsx)("div",{className:`${t}__body`},Object(h.jsx)("p",{role:"banner"},l.i18n.translate("xpack.triggersActionsUI.components.healthCheck.apiKeysAndEncryptionError",{defaultMessage:"You must enable API keys and configure an encryption key to use Alerting. "}),Object(h.jsx)(o.EuiLink,{href:e.links.alerting.setupPrerequisites,external:!0,target:"_blank"},l.i18n.translate("xpack.triggersActionsUI.components.healthCheck.apiKeysAndEncryptionErrorAction",{defaultMessage:"Learn more."}))))})},126:function(e,t,n){switch(window.__kbnThemeTag__){case"v7dark":return n(127);case"v7light":return n(129);case"v8dark":return n(131);case"v8light":return n(133)}},127:function(e,t,n){var s=n(57),a=n(128);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1};s(a,i);e.exports=a.locals||{}},128:function(e,t,n){(t=n(58)(!1)).push([e.i,".alertingHealthCheck__body{padding-left:32px;padding-right:32px}.alertingFlyoutHealthCheck__body{padding-left:32px;padding-right:32px;margin-top:16px}\n",""]),e.exports=t},129:function(e,t,n){var s=n(57),a=n(130);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1};s(a,i);e.exports=a.locals||{}},130:function(e,t,n){(t=n(58)(!1)).push([e.i,".alertingHealthCheck__body{padding-left:32px;padding-right:32px}.alertingFlyoutHealthCheck__body{padding-left:32px;padding-right:32px;margin-top:16px}\n",""]),e.exports=t},131:function(e,t,n){var s=n(57),a=n(132);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1};s(a,i);e.exports=a.locals||{}},132:function(e,t,n){(t=n(58)(!1)).push([e.i,".alertingHealthCheck__body{padding-left:32px;padding-right:32px}.alertingFlyoutHealthCheck__body{padding-left:32px;padding-right:32px;margin-top:16px}\n",""]),e.exports=t},133:function(e,t,n){var s=n(57),a=n(134);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1};s(a,i);e.exports=a.locals||{}},134:function(e,t,n){(t=n(58)(!1)).push([e.i,".alertingHealthCheck__body{padding-left:32px;padding-right:32px}.alertingFlyoutHealthCheck__body{padding-left:32px;padding-right:32px;margin-top:16px}\n",""]),e.exports=t},135:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var s=n(0),a=n(6);const i=e=>{switch(e){case"connectors":return{text:s.i18n.translate("xpack.triggersActionsUI.connectors.breadcrumbTitle",{defaultMessage:"Connectors"}),href:`${a.j}`};case"rules":return{text:s.i18n.translate("xpack.triggersActionsUI.rules.breadcrumbTitle",{defaultMessage:"Rules"}),href:`${a.m}`};default:return{text:s.i18n.translate("xpack.triggersActionsUI.home.breadcrumbTitle",{defaultMessage:"Rules and Connectors"}),href:`${a.k}`}}},r=(e,t)=>({text:t,href:`${a.l.replace(":ruleId",e)}`})},136:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var s=n(0);const a=e=>{let t;switch(e){case"connectors":t=s.i18n.translate("xpack.triggersActionsUI.connectors.breadcrumbTitle",{defaultMessage:"Connectors"});break;case"rules":t=s.i18n.translate("xpack.triggersActionsUI.rules.breadcrumbTitle",{defaultMessage:"Rules"});break;default:t=s.i18n.translate("xpack.triggersActionsUI.home.breadcrumbTitle",{defaultMessage:"Rules and Connectors"})}return t}},190:function(e,t,n){"use strict";n.r(t),n.d(t,"TriggersActionsUIHome",(function(){return f})),n.d(t,"default",(function(){return f}));var s=n(1),a=n.n(s),i=n(37),r=n(36),c=n(13),o=n(6),l=n(135),u=n(136),d=n(63),p=n(100),g=n(86),h=n(59),b=n(3),j=n(5);const x=Object(s.lazy)((()=>Promise.all([n.e(5),n.e(24)]).then(n.bind(null,247)))),m=Object(s.lazy)((()=>n.e(23).then(n.bind(null,245)))),f=({match:{params:{section:e}},history:t})=>{const{chrome:n,application:{capabilities:f},setBreadcrumbs:k,docLinks:y}=Object(h.b)().services,O=Object(d.e)(f),A=[];A.push({id:"rules",name:Object(j.jsx)(r.FormattedMessage,{id:"xpack.triggersActionsUI.home.rulesTabTitle",defaultMessage:"Rules"})}),O&&A.push({id:"connectors",name:Object(j.jsx)(r.FormattedMessage,{id:"xpack.triggersActionsUI.home.connectorsTabTitle",defaultMessage:"Connectors"})});return Object(s.useEffect)((()=>{k([Object(l.b)(e||"home")]),n.docTitle.change(Object(u.a)(e||"home"))}),[e,n,k]),Object(j.jsx)(a.a.Fragment,null,Object(j.jsx)(c.EuiPageHeader,{bottomBorder:!0,pageTitle:Object(j.jsx)("span",{"data-test-subj":"appTitle"},Object(j.jsx)(r.FormattedMessage,{id:"xpack.triggersActionsUI.home.appTitle",defaultMessage:"Rules and Connectors"})),rightSideItems:[Object(j.jsx)(c.EuiButtonEmpty,{href:y.links.alerting.guide,target:"_blank",iconType:"help","data-test-subj":"documentationLink"},Object(j.jsx)(r.FormattedMessage,{id:"xpack.triggersActionsUI.home.docsLinkText",defaultMessage:"Documentation"}))],description:Object(j.jsx)(r.FormattedMessage,{id:"xpack.triggersActionsUI.home.sectionDescription",defaultMessage:"Detect conditions using rules, and take actions using connectors."}),tabs:A.map((n=>({label:n.name,onClick:()=>{return e=n.id,void t.push(`/${e}`);var e},isSelected:n.id===e,key:n.id,"data-test-subj":`${n.id}Tab`})))}),Object(j.jsx)(c.EuiSpacer,{size:"l"}),Object(j.jsx)(g.a,null,Object(j.jsx)(p.a,{waitForCheck:!0},Object(j.jsx)(i.Switch,null,O&&Object(j.jsx)(i.Route,{exact:!0,path:o.j,component:Object(b.a)(x,"xl")}),Object(j.jsx)(i.Route,{exact:!0,path:o.m,component:Object(b.a)(m,"xl")})))))}},86:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o}));var s=n(1),a=n(5);const i={loadingHealthCheck:!1,setLoadingHealthCheck:e=>{throw new Error("setLoadingHealthCheck was not initialized, set it when you invoke the context")}},r=Object(s.createContext)(i),c=({children:e})=>{const[t,n]=Object(s.useState)(!1),i=Object(s.useCallback)((e=>{n(e)}),[]),c=Object(s.useMemo)((()=>({loadingHealthCheck:t,setLoadingHealthCheck:i})),[t,i]);return Object(a.jsx)(r.Provider,{value:c},e)},o=()=>{const e=Object(s.useContext)(r);if(!e)throw new Error("HealthContext has not been set.");return e}}}]);