/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.uptime_bundle_jsonpfunction=window.uptime_bundle_jsonpfunction||[]).push([[4],{101:function(e,t,a){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},102:function(e,t,a){"use strict";var r="%[a-f0-9]{2}",n=new RegExp(r,"gi"),i=new RegExp("("+r+")+","gi");function s(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var a=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],s(a),s(r))}function o(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(n),a=1;a<t.length;a++)t=(e=s(t,a).join("")).match(n);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},a=i.exec(e);a;){try{t[a[0]]=decodeURIComponent(a[0])}catch(e){var r=o(a[0]);r!==a[0]&&(t[a[0]]=r)}a=i.exec(e)}t["%C2"]="�";for(var n=Object.keys(t),s=0;s<n.length;s++){var l=n[s];e=e.replace(new RegExp(l,"g"),t[l])}return e}(e)}}},103:function(e,t,a){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const a=e.indexOf(t);return-1===a?[e]:[e.slice(0,a),e.slice(a+t.length)]}},141:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a(1),n=a(43),i=a(49);n.c.HTTP,i.p,i.o,i.t,n.c.TCP,i.s,i.r,i.t,n.c.ICMP,i.q,n.c.BROWSER,i.n,i.m,i.t;const s=e=>{const{isTLSEnabled:t,isZipUrlTLSEnabled:a}=Object(i.z)(),{fields:s}=Object(i.x)(),{fields:o}=Object(i.B)(),{fields:l}=Object(i.y)(),{fields:c}=Object(i.v)(),{fields:u}=Object(i.w)(),{fields:d}=Object(i.A)(),{fields:E}=Object(i.u)(),{fields:p}=Object(i.C)(),g=Object(r.useMemo)((()=>({is_tls_enabled:t,is_zip_url_tls_enabled:a})),[t,a]);return Object(r.useMemo)((()=>({[n.c.HTTP]:{...s,...u,...p,[n.a.METADATA]:{...s[n.a.METADATA],...g},[n.a.NAME]:e},[n.c.TCP]:{...o,...d,...p,[n.a.METADATA]:{...o[n.a.METADATA],...g},[n.a.NAME]:e},[n.c.ICMP]:{...l,[n.a.NAME]:e},[n.c.BROWSER]:{...c,...E,[n.a.METADATA]:{...c[n.a.METADATA],...g},[n.a.NAME]:e}})),[g,s,u,o,d,l,c,E,p,e])}},142:function(e,t,a){"use strict";a.d(t,"a",(function(){return E}));var r=a(43);const n=/^[0-9]*$/g,i=/[^\:]+:[0-9]{1,5}$/g;function s(e){return Object.keys(e).some((e=>{if(e){return/[\s]/g.test(e)}return!1}))}const o={[r.a.SCHEDULE]:({[r.a.SCHEDULE]:e})=>{const{number:t,unit:a}=e,n=parseFloat(t);return!n||!a||n<1},[r.a.TIMEOUT]:({[r.a.TIMEOUT]:e,[r.a.SCHEDULE]:t})=>{const{number:a,unit:n}=t;return!e||parseFloat(e)<0||(({scheduleNumber:e,scheduleUnit:t,timeout:a})=>{let n;switch(t){case r.h.SECONDS:n=parseFloat(e);break;case r.h.MINUTES:n=60*parseFloat(e);break;default:n=parseFloat(e)}return parseFloat(a)>n})({timeout:e,scheduleNumber:a,scheduleUnit:n})}},l={[r.a.RESPONSE_STATUS_CHECK]:({[r.a.RESPONSE_STATUS_CHECK]:e})=>{const t=e;return!!t.length&&t.some((e=>!`${e}`.match(n)))},[r.a.RESPONSE_HEADERS_CHECK]:({[r.a.RESPONSE_HEADERS_CHECK]:e})=>s(e),[r.a.REQUEST_HEADERS_CHECK]:({[r.a.REQUEST_HEADERS_CHECK]:e})=>s(e),[r.a.MAX_REDIRECTS]:({[r.a.MAX_REDIRECTS]:e})=>!!e&&!`${e}`.match(n)||parseFloat(e)<0,[r.a.URLS]:({[r.a.URLS]:e})=>!e,...o},c={[r.a.HOSTS]:({[r.a.HOSTS]:e})=>!e||!`${e}`.match(i),...o},u={[r.a.HOSTS]:({[r.a.HOSTS]:e})=>!e,[r.a.WAIT]:({[r.a.WAIT]:e})=>!!e&&!n.test(`${e}`)&&parseFloat(e)<0,...o},d={...o,[r.a.SOURCE_ZIP_URL]:({[r.a.SOURCE_ZIP_URL]:e,[r.a.SOURCE_INLINE]:t})=>!e&&!t,[r.a.SOURCE_INLINE]:({[r.a.SOURCE_ZIP_URL]:e,[r.a.SOURCE_INLINE]:t})=>!e&&!t},E={[r.c.HTTP]:l,[r.c.TCP]:c,[r.c.ICMP]:u,[r.c.BROWSER]:d}},143:function(e,t,a){"use strict";a.d(t,"a",(function(){return Ee}));var r=a(1),n=a.n(r),i=a(0),s=a(20),o=a(19),l=a(43),c=a(49);const u=()=>n.a.createElement(o.EuiText,{size:"xs",color:"subdued"},n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.inputVarFieldOptionalLabel",defaultMessage:"Optional"})),d={certificateAuthorities:"",certificate:"",key:"",keyPassphrase:"",verificationMode:l.k.STRICT,version:[]},E=Object(r.memo)((({onChange:e,defaultValues:t=d,tlsRole:a})=>{const[c,E]=Object(r.useState)(null),[m,C]=Object(r.useState)(void 0),[T,h]=Object(r.useState)(t);Object(r.useEffect)((()=>{e(T)}),[T,e]);return n.a.createElement(o.EuiFormFieldset,{legend:{children:n.a.createElement(o.EuiScreenReaderOnly,null,n.a.createElement("span",null,n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.certsField.legend",defaultMessage:"Certificate settings"})))}},n.a.createElement(o.EuiFormRow,{label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.certsField.verificationMode.label",defaultMessage:"Verification mode"}),helpText:T.verificationMode?g[T.verificationMode]:""},n.a.createElement(o.EuiSelect,{options:S,value:T.verificationMode,onChange:e=>{const t=e.target.value;h((e=>({...e,verificationMode:t})))},"data-test-subj":"syntheticsTLSVerificationMode"})),T.verificationMode===l.k.NONE&&n.a.createElement(n.a.Fragment,null,n.a.createElement(o.EuiSpacer,{size:"s"}),n.a.createElement(o.EuiCallOut,{title:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.certsField.verificationMode.warning.title",defaultMessage:"Disabling TLS"}),color:"warning",size:"s"},n.a.createElement("p",null,n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.certsField.verificationMode.warning.description",defaultMessage:"This mode disables many of the security benefits of SSL/TLS and should only be used after cautious consideration."}))),n.a.createElement(o.EuiSpacer,{size:"s"})),n.a.createElement(o.EuiFormRow,{label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.certsField.version.label",defaultMessage:"Supported TLS protocols"}),error:m,isInvalid:void 0!==m},n.a.createElement(o.EuiComboBox,{placeholder:i.i18n.translate("xpack.uptime.createPackagePolicy.stepConfigure.certsField.version.placeholder",{defaultMessage:"Select one or more TLS protocols."}),options:f,selectedOptions:(T.version||[]).map((e=>({label:e}))),inputRef:E,onChange:e=>{h((t=>({...t,version:e.map((e=>e.label))}))),C(void 0)},onSearchChange:(e,t)=>{C(0===e.length||t?void 0:`"${e}" is not a valid option`)},onBlur:()=>{if(c){const{value:e}=c;C(0===e.length?void 0:`"${e}" is not a valid option`)}}})),n.a.createElement(o.EuiFormRow,{label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.certsField.certificateAuthorities.label",defaultMessage:"Certificate authorities"}),helpText:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.certsField.certificateAuthorities.helpText",defaultMessage:"PEM formatted custom certificate authorities."}),labelAppend:n.a.createElement(u,null)},n.a.createElement(o.EuiTextArea,{value:T.certificateAuthorities,onChange:e=>{const t=e.target.value;h((e=>({...e,certificateAuthorities:t})))},onBlur:e=>{const t=e.target.value;h((e=>({...e,certificateAuthorities:t.trim()})))},"data-test-subj":"syntheticsTLSCA"})),n.a.createElement(o.EuiFormRow,{label:n.a.createElement(n.a.Fragment,null,p[a]," ",n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.certsField.certificate.label",defaultMessage:"certificate"})),helpText:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.certsField.certificate.helpText",defaultMessage:"PEM formatted certificate for TLS client authentication."}),labelAppend:n.a.createElement(u,null)},n.a.createElement(o.EuiTextArea,{value:T.certificate,onChange:e=>{const t=e.target.value;h((e=>({...e,certificate:t})))},onBlur:e=>{const t=e.target.value;h((e=>({...e,certificate:t.trim()})))},"data-test-subj":"syntheticsTLSCert"})),n.a.createElement(o.EuiFormRow,{label:n.a.createElement(n.a.Fragment,null,p[a]," ",n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.certsField.certificateKey.label",defaultMessage:"key"})),helpText:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.certsField.certificateKey.helpText",defaultMessage:"PEM formatted certificate key for TLS client authentication."}),labelAppend:n.a.createElement(u,null)},n.a.createElement(o.EuiTextArea,{value:T.key,onChange:e=>{const t=e.target.value;h((e=>({...e,key:t})))},onBlur:e=>{const t=e.target.value;h((e=>({...e,key:t.trim()})))},"data-test-subj":"syntheticsTLSCertKey"})),n.a.createElement(o.EuiFormRow,{label:n.a.createElement(n.a.Fragment,null,p[a]," ",n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.certsField.certificateKeyPassphrase.label",defaultMessage:"key passphrase"})),helpText:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.certsField.certificateKeyPassphrase.helpText",defaultMessage:"Certificate key passphrase for TLS client authentication."}),labelAppend:n.a.createElement(u,null)},n.a.createElement(o.EuiFieldPassword,{value:T.keyPassphrase,onChange:e=>{const t=e.target.value;h((e=>({...e,keyPassphrase:t})))},"data-test-subj":"syntheticsTLSCertKeyPassphrase"})))})),p={client:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.certsField.tlsRole.client",defaultMessage:"Client"}),server:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.certsField.tlsRole.server",defaultMessage:"Server"})},g={[l.k.CERTIFICATE]:i.i18n.translate("xpack.uptime.createPackagePolicy.stepConfigure.certsField.verificationMode.certificate.description",{defaultMessage:"Verifies that the provided certificate is signed by a trusted authority (CA), but does not perform any hostname verification."}),[l.k.FULL]:i.i18n.translate("xpack.uptime.createPackagePolicy.stepConfigure.certsField.verificationMode.full.description",{defaultMessage:"Verifies that the provided certificate is signed by a trusted authority (CA) and also verifies that the server’s hostname (or IP address) matches the names identified within the certificate."}),[l.k.NONE]:i.i18n.translate("xpack.uptime.createPackagePolicy.stepConfigure.certsField.verificationMode.none.description",{defaultMessage:"Performs no verification of the server’s certificate. It is primarily intended as a temporary diagnostic mechanism when attempting to resolve TLS errors; its use in production environments is strongly discouraged."}),[l.k.STRICT]:i.i18n.translate("xpack.uptime.createPackagePolicy.stepConfigure.certsField.verificationMode.strict.description",{defaultMessage:"Verifies that the provided certificate is signed by a trusted authority (CA) and also verifies that the server’s hostname (or IP address) matches the names identified within the certificate. If the Subject Alternative Name is empty, it returns an error."})},m={[l.k.CERTIFICATE]:i.i18n.translate("xpack.uptime.createPackagePolicy.stepConfigure.certsField.verificationMode.certificate.label",{defaultMessage:"Certificate"}),[l.k.FULL]:i.i18n.translate("xpack.uptime.createPackagePolicy.stepConfigure.certsField.verificationMode.full.label",{defaultMessage:"Full"}),[l.k.NONE]:i.i18n.translate("xpack.uptime.createPackagePolicy.stepConfigure.certsField.verificationMode.none.label",{defaultMessage:"None"}),[l.k.STRICT]:i.i18n.translate("xpack.uptime.createPackagePolicy.stepConfigure.certsField.verificationMode.strict.label",{defaultMessage:"Strict"})},S=[{value:l.k.CERTIFICATE,text:m[l.k.CERTIFICATE]},{value:l.k.FULL,text:m[l.k.FULL]},{value:l.k.NONE,text:m[l.k.NONE]},{value:l.k.STRICT,text:m[l.k.STRICT]}],f=Object.values(l.j).map((e=>({label:e}))),C=()=>{const{defaultValues:e,setFields:t}=Object(c.C)(),{isTLSEnabled:a}=Object(c.z)(),i=Object(r.useCallback)((e=>{t({[l.a.TLS_CERTIFICATE_AUTHORITIES]:e.certificateAuthorities,[l.a.TLS_CERTIFICATE]:e.certificate,[l.a.TLS_KEY]:e.key,[l.a.TLS_KEY_PASSPHRASE]:e.keyPassphrase,[l.a.TLS_VERIFICATION_MODE]:e.verificationMode,[l.a.TLS_VERSION]:e.version})}),[t]);return Object(r.useEffect)((()=>{a||t({[l.a.TLS_CERTIFICATE_AUTHORITIES]:void 0,[l.a.TLS_CERTIFICATE]:void 0,[l.a.TLS_KEY]:void 0,[l.a.TLS_KEY_PASSPHRASE]:void 0,[l.a.TLS_VERIFICATION_MODE]:void 0,[l.a.TLS_VERSION]:void 0})}),[t,a]),a?n.a.createElement(E,{defaultValues:{certificateAuthorities:e[l.a.TLS_CERTIFICATE_AUTHORITIES],certificate:e[l.a.TLS_CERTIFICATE],key:e[l.a.TLS_KEY],keyPassphrase:e[l.a.TLS_KEY_PASSPHRASE],verificationMode:e[l.a.TLS_VERIFICATION_MODE],version:e[l.a.TLS_VERSION]},onChange:i,tlsRole:"client"}):null},T=({number:e,onChange:t,unit:a})=>n.a.createElement(o.EuiFlexGroup,{gutterSize:"s"},n.a.createElement(o.EuiFlexItem,null,n.a.createElement(o.EuiFieldNumber,{"aria-label":i.i18n.translate("xpack.uptime.createPackagePolicy.stepConfigure.scheduleField.number",{defaultMessage:"Number"}),id:"syntheticsFleetScheduleField--number","data-test-subj":"scheduleFieldInput",step:"any",min:1,value:e,onChange:e=>{const r=e.target.value;t({number:r,unit:a})}})),n.a.createElement(o.EuiFlexItem,null,n.a.createElement(o.EuiSelect,{"aria-label":i.i18n.translate("xpack.uptime.createPackagePolicy.stepConfigure.scheduleField.unit",{defaultMessage:"Unit"}),id:"syntheticsFleetScheduleField--unit","data-test-subj":"scheduleFieldSelect",options:h,value:a,onChange:a=>{const r=a.target.value;t({number:e,unit:r})}}))),h=[{text:i.i18n.translate("xpack.uptime.createPackagePolicy.stepConfigure.scheduleField.seconds",{defaultMessage:"Seconds"}),value:l.h.SECONDS},{text:i.i18n.translate("xpack.uptime.createPackagePolicy.stepConfigure.scheduleField.minutes",{defaultMessage:"Minutes"}),value:l.h.MINUTES}];var P=a(50),R=a.n(P);const b=({onChange:e,selectedOptions:t,...a})=>{const[i,s]=Object(r.useState)(t.map((e=>({label:e,key:e})))),[l,c]=Object(r.useState)(!1),u=Object(r.useCallback)((t=>{s(t);const a=t.map((e=>e.label));e(a),c(!1)}),[e,s,c]),d=Object(r.useCallback)((a=>{const r=a.trim(),n={label:r};e([...t,r]),s([...i,n])}),[e,i,t,s]),E=Object(r.useCallback)((e=>{c(!!e&&!y(e))}),[c]);return n.a.createElement(o.EuiComboBox,R()({"data-test-subj":"syntheticsFleetComboBox",noSuggestions:!0,selectedOptions:i,onCreateOption:d,onChange:u,onSearchChange:E,isInvalid:l},a))},y=e=>null!==e.match(/\S+/);function _({fields:e,onChange:t,validate:a}){var r;return n.a.createElement(n.a.Fragment,null,n.a.createElement(o.EuiFormRow,{label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.APMServiceName.label",defaultMessage:"APM service name"}),labelAppend:n.a.createElement(u,null),helpText:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.APMServiceName.helpText",defaultMessage:"APM service name for this monitor. Corresponds to the service.name ECS field. Set this when monitoring an app that is also using APM to enable integrations between Uptime and APM data in Kibana."})},n.a.createElement(o.EuiFieldText,{value:e[l.a.APM_SERVICE_NAME],onChange:e=>t({value:e.target.value,configKey:l.a.APM_SERVICE_NAME}),"data-test-subj":"syntheticsAPMServiceName"})),n.a.createElement(o.EuiFormRow,{label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.timeout.label",defaultMessage:"Timeout in seconds"}),isInvalid:!(null===(r=a[l.a.TIMEOUT])||void 0===r||!r.call(a,e)),error:parseInt(e[l.a.TIMEOUT],10)<0?n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.timeout.moreThanZeroError",defaultMessage:"Timeout must be greater than or equal to 0"}):n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.timeout.lessThanIntervalError",defaultMessage:"Timeout must be less than the monitor interval"}),helpText:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.timeout.helpText",defaultMessage:"The total time allowed for testing the connection and exchanging data."})},n.a.createElement(o.EuiFieldNumber,{min:0,value:e[l.a.TIMEOUT],onChange:e=>t({value:e.target.value,configKey:l.a.TIMEOUT}),step:"any"})),n.a.createElement(o.EuiFormRow,{label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.tags.label",defaultMessage:"Tags"}),labelAppend:n.a.createElement(u,null),helpText:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.tags.helpText",defaultMessage:"A list of tags that will be sent with the monitor event. Press enter to add a new tag. Displayed in Uptime and enables searching by tag."})},n.a.createElement(b,{selectedOptions:e[l.a.TAGS],onChange:e=>t({value:e,configKey:l.a.TAGS}),"data-test-subj":"syntheticsTags"})))}const O=Object(r.memo)((({validate:e})=>{var t,a,r;const{fields:i,setFields:d}=Object(c.x)(),E=({value:e,configKey:t})=>{d((a=>({...a,[t]:e})))};return n.a.createElement(n.a.Fragment,null,n.a.createElement(o.EuiFormRow,{label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.URL",defaultMessage:"URL"}),isInvalid:!(null===(t=e[l.a.URLS])||void 0===t||!t.call(e,i)),error:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.URL.error",defaultMessage:"URL is required"})},n.a.createElement(o.EuiFieldText,{value:i[l.a.URLS],onChange:e=>E({value:e.target.value,configKey:l.a.URLS}),"data-test-subj":"syntheticsUrlField"})),n.a.createElement(o.EuiFormRow,{id:"syntheticsFleetScheduleField",label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.monitorInterval",defaultMessage:"Monitor interval"}),isInvalid:!(null===(a=e[l.a.SCHEDULE])||void 0===a||!a.call(e,i)),error:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.monitorInterval.error",defaultMessage:"Monitor interval is required"})},n.a.createElement(T,{onChange:e=>E({value:e,configKey:l.a.SCHEDULE}),number:i[l.a.SCHEDULE].number,unit:i[l.a.SCHEDULE].unit})),n.a.createElement(o.EuiFormRow,{label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.maxRedirects",defaultMessage:"Max redirects"}),isInvalid:!(null===(r=e[l.a.MAX_REDIRECTS])||void 0===r||!r.call(e,i)),error:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.maxRedirects.error",defaultMessage:"Max redirects must be 0 or greater"}),labelAppend:n.a.createElement(u,null),helpText:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.maxRedirects.helpText",defaultMessage:"The total number of redirections to follow."})},n.a.createElement(o.EuiFieldNumber,{min:0,value:i[l.a.MAX_REDIRECTS],onChange:e=>E({value:e.target.value,configKey:l.a.MAX_REDIRECTS})})),n.a.createElement(_,{fields:i,onChange:E,validate:e}))}));var I=a(21),k=a.n(I);const M=k()(o.EuiFormFieldset).withConfig({displayName:"StyledFieldset",componentId:"sc-y9reqw-0"})(["&&&{legend{width:calc(100% - 52px);margin-right:40px;}.euiFlexGroup{margin-left:0;}.euiFlexItem{margin-left:0;padding-left:12px;}}"]),v=k()(o.EuiFieldText).withConfig({displayName:"StyledField",componentId:"sc-y9reqw-1"})(["text-align:left;"]),F=({addPairControlLabel:e,defaultPairs:t,onChange:a,"data-test-subj":l})=>{const[c,u]=Object(r.useState)(t),d=Object(r.useCallback)(((e,t,a)=>{const r=e.target.value;u((e=>{const n=[...e],[i,s]=e[t];return n[t]=a?[r,s]:[i,r],n}))}),[u]),E=Object(r.useCallback)((()=>{u((e=>[["",""],...e]))}),[u]),p=Object(r.useCallback)((e=>{u((t=>{const a=[...t];return a.splice(e,1),[...a]}))}),[u]);return Object(r.useEffect)((()=>{a(c)}),[a,c]),n.a.createElement("div",{"data-test-subj":l},n.a.createElement(o.EuiSpacer,{size:"s"}),n.a.createElement(o.EuiFlexGroup,{justifyContent:"flexEnd"},n.a.createElement(o.EuiFlexItem,{grow:!1},n.a.createElement(o.EuiButton,{iconType:"plus",onClick:E,"data-test-subj":`${l}__button`},e))),n.a.createElement(o.EuiSpacer,{size:"s"}),n.a.createElement(M,{legend:c.length?{children:n.a.createElement(o.EuiFlexGroup,{responsive:!1},n.a.createElement(o.EuiFlexItem,null,n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.keyValuePairsField.key.label",defaultMessage:"Key"})),n.a.createElement(o.EuiFlexItem,null,n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.keyValuePairsField.value.label",defaultMessage:"Value"})))}:void 0},c.map(((e,t)=>{const[a,s]=e;return n.a.createElement(r.Fragment,{key:t},n.a.createElement(o.EuiSpacer,{size:"xs"}),n.a.createElement(o.EuiFormControlLayoutDelimited,{fullWidth:!0,append:n.a.createElement(o.EuiFormLabel,null,n.a.createElement(o.EuiButtonIcon,{iconType:"trash","aria-label":i.i18n.translate("xpack.uptime.keyValuePairsField.deleteItem.label",{defaultMessage:"Delete item number {index}, {key}:{value}",values:{index:t+1,key:a,value:s}}),onClick:()=>p(t)})),startControl:n.a.createElement(v,{"aria-label":i.i18n.translate("xpack.uptime.keyValuePairsField.key.ariaLabel",{defaultMessage:"Key"}),"data-test-subj":`keyValuePairsKey${t}`,value:a,onChange:e=>d(e,t,!0)}),endControl:n.a.createElement(v,{"aria-label":i.i18n.translate("xpack.uptime.keyValuePairsField.value.ariaLabel",{defaultMessage:"Value"}),"data-test-subj":`keyValuePairsValue${t}`,value:s,onChange:e=>d(e,t,!1)}),delimiter:":"}),n.a.createElement(o.EuiSpacer,{size:"xs"}))}))))},x=({contentMode:e,defaultValue:t,onChange:a,"data-test-subj":i})=>{const o=[...Object.keys(t).filter((e=>"Content-Type"!==e)).map((e=>[e||"",t[e]||""]))],[l,c]=Object(r.useState)(o);return Object(r.useEffect)((()=>{const t=l.reduce(((e,t)=>{const[a,r]=t;return a?{...e,[a]:r}:e}),{});a(e?{"Content-Type":A[e],...t}:t)}),[e,l,a]),n.a.createElement(F,{addPairControlLabel:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.headerField.addHeader.label",defaultMessage:"Add header"}),defaultPairs:l,onChange:c,"data-test-subj":i})},A={[l.e.JSON]:l.b.JSON,[l.e.PLAINTEXT]:l.b.TEXT,[l.e.XML]:l.b.XML,[l.e.FORM]:l.b.FORM};var L=a(87),U=a(23);const N=k()(o.EuiPanel).withConfig({displayName:"CodeEditorContainer",componentId:"sc-15tbru3-0"})(["padding:0;"]),w=({ariaLabel:e,id:t,languageId:a,onChange:r,value:i})=>n.a.createElement(N,{borderRadius:"none",hasShadow:!1,hasBorder:!0},n.a.createElement("div",{id:`${t}-editor`,"aria-label":e,"data-test-subj":"codeEditorContainer"},n.a.createElement(U.CodeEditor,{languageId:a,width:"100%",height:"250px",value:i,onChange:r,options:{renderValidationDecorations:i?"on":"off"}})));var j;!function(e){e.CODE="code",e.FORM="form"}(j||(j={}));const H=({onChange:e,type:t,value:a})=>{const[c,u]=Object(r.useState)({[j.FORM]:t===l.e.FORM?a:"",[j.CODE]:t!==l.e.FORM?a:""});Object(r.useEffect)((()=>{e({type:t,value:t===l.e.FORM?c[j.FORM]:c[j.CODE]})}),[e,t,c]);const d=Object(r.useCallback)((t=>{e({type:t,value:t===l.e.FORM?c[j.FORM]:c[j.CODE]})}),[e,c]),E=Object(r.useCallback)((e=>{const t=e.reduce(((e,t)=>{const[a,r]=t;return a?{...e,[a]:r}:e}),{});return u((e=>({...e,[l.e.FORM]:Object(L.stringify)(t)})))}),[u]),p=Object(r.useMemo)((()=>{const e=Object(L.parse)(c[l.e.FORM]);return Object.keys(e).map((t=>[t,`${e[t]}`]))}),[c]),g=[{id:l.e.PLAINTEXT,name:D[l.e.PLAINTEXT],"data-test-subj":`syntheticsRequestBodyTab__${l.e.PLAINTEXT}`,content:n.a.createElement(w,{ariaLabel:i.i18n.translate("xpack.uptime.createPackagePolicy.stepConfigure.requestBody.codeEditor.text.ariaLabel",{defaultMessage:"Text code editor"}),id:l.e.PLAINTEXT,languageId:l.f.PLAINTEXT,onChange:e=>u((t=>({...t,[j.CODE]:e}))),value:c[j.CODE]})},{id:l.e.JSON,name:D[l.e.JSON],"data-test-subj":`syntheticsRequestBodyTab__${l.e.JSON}`,content:n.a.createElement(w,{ariaLabel:i.i18n.translate("xpack.uptime.createPackagePolicy.stepConfigure.requestBody.codeEditor.json.ariaLabel",{defaultMessage:"JSON code editor"}),id:l.e.JSON,languageId:l.f.JSON,onChange:e=>u((t=>({...t,[j.CODE]:e}))),value:c[j.CODE]})},{id:l.e.XML,name:D[l.e.XML],"data-test-subj":`syntheticsRequestBodyTab__${l.e.XML}`,content:n.a.createElement(w,{ariaLabel:i.i18n.translate("xpack.uptime.createPackagePolicy.stepConfigure.requestBody.codeEditor.xml.ariaLabel",{defaultMessage:"XML code editor"}),id:l.e.XML,languageId:l.f.XML,onChange:e=>u((t=>({...t,[j.CODE]:e}))),value:c[j.CODE]})},{id:l.e.FORM,name:D[l.e.FORM],"data-test-subj":`syntheticsRequestBodyTab__${l.e.FORM}`,content:n.a.createElement(F,{addPairControlLabel:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.requestBody.formField.addFormField.label",defaultMessage:"Add form field"}),defaultPairs:p,onChange:E})}];return n.a.createElement(o.EuiTabbedContent,{tabs:g,initialSelectedTab:g.find((e=>e.id===t)),autoFocus:"selected",onTabClick:e=>{d(e.id)}})},D={[l.e.FORM]:i.i18n.translate("xpack.uptime.createPackagePolicy.stepConfigure.requestBodyType.form",{defaultMessage:"Form"}),[l.e.PLAINTEXT]:i.i18n.translate("xpack.uptime.createPackagePolicy.stepConfigure.requestBodyType.text",{defaultMessage:"Text"}),[l.e.JSON]:i.i18n.translate("xpack.uptime.createPackagePolicy.stepConfigure.requestBodyType.JSON",{defaultMessage:"JSON"}),[l.e.XML]:i.i18n.translate("xpack.uptime.createPackagePolicy.stepConfigure.requestBodyType.XML",{defaultMessage:"XML"})},K=({defaultValue:e,onChange:t})=>{const[a,c]=Object(r.useState)(e!==l.g.NEVER?e:l.g.ON_ERROR),[u,d]=Object(r.useState)(e!==l.g.NEVER);return Object(r.useEffect)((()=>{u?(c(a),t(a)):t(l.g.NEVER)}),[u,a,c,t]),Object(r.useEffect)((()=>{t(a)}),[t,a]),n.a.createElement(o.EuiFlexGroup,null,n.a.createElement(o.EuiFlexItem,{"data-test-subj":"syntheticsIndexResponseBody"},n.a.createElement(o.EuiCheckbox,{id:"uptimeFleetIndexResponseBody",checked:u,label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.httpAdvancedOptions.responseConfig.indexResponseBody",defaultMessage:"Index response body"}),onChange:e=>{const t=e.target.checked;d(t)}})),u&&n.a.createElement(o.EuiFlexItem,null,n.a.createElement(o.EuiSelect,{"aria-label":i.i18n.translate("xpack.uptime.createPackagePolicy.stepConfigure.httpAdvancedOptions.responseConfig.responseBodyIndexPolicy",{defaultMessage:"Response body index policy"}),"data-test-subj":"indexResponseBodyFieldSelect",options:B,value:a,onChange:e=>{c(e.target.value)}})))},B=[{value:l.g.ALWAYS,text:i.i18n.translate("xpack.uptime.createPackagePolicy.stepConfigure.responseBodyIndex.always",{defaultMessage:"Always"})},{value:l.g.ON_ERROR,text:i.i18n.translate("xpack.uptime.createPackagePolicy.stepConfigure.responseBodyIndex.onError",{defaultMessage:"On error"})}],V=Object(r.memo)((({validate:e})=>{var t,a,d;const{fields:E,setFields:p}=Object(c.w)(),g=Object(r.useCallback)((({value:e,configKey:t})=>{p((a=>({...a,[t]:e})))}),[p]);return n.a.createElement(o.EuiAccordion,{id:"uptimeFleetHttpAdvancedOptions",buttonContent:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.httpAdvancedOptions",defaultMessage:"Advanced HTTP options"}),"data-test-subj":"syntheticsHTTPAdvancedFieldsAccordion"},n.a.createElement(o.EuiSpacer,{size:"xl"}),n.a.createElement(o.EuiDescribedFormGroup,{title:n.a.createElement("h4",null,n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.httpAdvancedOptions.requestConfiguration.title",defaultMessage:"Request configuration"})),description:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.httpAdvancedOptions.requestConfiguration.description",defaultMessage:"Configure an optional request to send to the remote host including method, body, and headers."}),"data-test-subj":"httpAdvancedFieldsSection"},n.a.createElement(o.EuiSpacer,{size:"s"}),n.a.createElement(o.EuiFormRow,{label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.username.label",defaultMessage:"Username"}),labelAppend:n.a.createElement(u,null),helpText:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.username.helpText",defaultMessage:"Username for authenticating with the server."})},n.a.createElement(o.EuiFieldText,{value:E[l.a.USERNAME],onChange:e=>g({value:e.target.value,configKey:l.a.USERNAME}),"data-test-subj":"syntheticsUsername"})),n.a.createElement(o.EuiFormRow,{label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.password.label",defaultMessage:"Password"}),labelAppend:n.a.createElement(u,null),helpText:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.password.helpText",defaultMessage:"Password for authenticating with the server."})},n.a.createElement(o.EuiFieldPassword,{value:E[l.a.PASSWORD],onChange:e=>g({value:e.target.value,configKey:l.a.PASSWORD}),"data-test-subj":"syntheticsPassword"})),n.a.createElement(o.EuiFormRow,{label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.proxyURL.http.label",defaultMessage:"Proxy URL"}),labelAppend:n.a.createElement(u,null),helpText:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.proxyUrl.http.helpText",defaultMessage:"HTTP proxy URL."})},n.a.createElement(o.EuiFieldText,{value:E[l.a.PROXY_URL],onChange:e=>g({value:e.target.value,configKey:l.a.PROXY_URL}),"data-test-subj":"syntheticsProxyUrl"})),n.a.createElement(o.EuiFormRow,{label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.httpAdvancedOptions.requestConfiguration.requestMethod.label",defaultMessage:"Request method"}),helpText:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.httpAdvancedOptions.requestMethod.helpText",defaultMessage:"The HTTP method to use."})},n.a.createElement(o.EuiSelect,{options:Y,value:E[l.a.REQUEST_METHOD_CHECK],onChange:e=>g({value:e.target.value,configKey:l.a.REQUEST_METHOD_CHECK}),"data-test-subj":"syntheticsRequestMethod"})),n.a.createElement(o.EuiFormRow,{fullWidth:!0,label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.httpAdvancedOptions.requestConfiguration.requestHeaders",defaultMessage:"Request headers"}),labelAppend:n.a.createElement(u,null),isInvalid:!(null===(t=e[l.a.REQUEST_HEADERS_CHECK])||void 0===t||!t.call(e,E)),error:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.httpAdvancedOptions.requestHeadersField.error",defaultMessage:"Header key must be a valid HTTP token."}),helpText:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.httpAdvancedOptions.requestHeadersField.helpText",defaultMessage:"A dictionary of additional HTTP headers to send. By default the client will set the User-Agent header to identify itself."})},n.a.createElement(x,{contentMode:E[l.a.REQUEST_BODY_CHECK].value?E[l.a.REQUEST_BODY_CHECK].type:void 0,defaultValue:E[l.a.REQUEST_HEADERS_CHECK],onChange:Object(r.useCallback)((e=>g({value:e,configKey:l.a.REQUEST_HEADERS_CHECK})),[g]),"data-test-subj":"syntheticsRequestHeaders"})),n.a.createElement(o.EuiFormRow,{label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.httpAdvancedOptions.requestConfiguration.requestBody",defaultMessage:"Request body"}),labelAppend:n.a.createElement(u,null),helpText:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.httpAdvancedOptions.requestBody.helpText",defaultMessage:"Request body content."}),fullWidth:!0},n.a.createElement(H,{value:E[l.a.REQUEST_BODY_CHECK].value,type:E[l.a.REQUEST_BODY_CHECK].type,onChange:Object(r.useCallback)((e=>g({value:e,configKey:l.a.REQUEST_BODY_CHECK})),[g])}))),n.a.createElement(o.EuiSpacer,{size:"xl"}),n.a.createElement(o.EuiDescribedFormGroup,{title:n.a.createElement("h4",null,n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.httpAdvancedOptions.responseConfiguration.title",defaultMessage:"Response configuration"})),description:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.httpAdvancedOptions.responseConfiguration.description",defaultMessage:"Control the indexing of the HTTP response contents."})},n.a.createElement(o.EuiSpacer,{size:"s"}),n.a.createElement(o.EuiFormRow,{helpText:n.a.createElement(n.a.Fragment,null,n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.httpAdvancedOptions.indexResponseHeaders.helpText",defaultMessage:"Controls the indexing of the HTTP response headers to "}),n.a.createElement(o.EuiCode,null,"http.response.body.headers")),"data-test-subj":"syntheticsIndexResponseHeaders"},n.a.createElement(o.EuiCheckbox,{id:"uptimeFleetIndexResponseHeaders",checked:E[l.a.RESPONSE_HEADERS_INDEX],label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.httpAdvancedOptions.responseConfig.indexResponseHeaders",defaultMessage:"Index response headers"}),onChange:e=>g({value:e.target.checked,configKey:l.a.RESPONSE_HEADERS_INDEX})})),n.a.createElement(o.EuiFormRow,{helpText:n.a.createElement(n.a.Fragment,null,n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.httpAdvancedOptions.indexResponseBody.helpText",defaultMessage:"Controls the indexing of the HTTP response body contents to "}),n.a.createElement(o.EuiCode,null,"http.response.body.contents"))},n.a.createElement(K,{defaultValue:E[l.a.RESPONSE_BODY_INDEX],onChange:Object(r.useCallback)((e=>g({value:e,configKey:l.a.RESPONSE_BODY_INDEX})),[g])}))),n.a.createElement(o.EuiDescribedFormGroup,{title:n.a.createElement("h4",null,n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.httpAdvancedOptions.responseChecks.title",defaultMessage:"Response checks"})),description:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.httpAdvancedOptions.responseChecks.description",defaultMessage:"Configure the expected HTTP response."})},n.a.createElement(o.EuiFormRow,{label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.httpAdvancedOptions.responseChecks.responseStatusCheck.label",defaultMessage:"Check response status equals"}),labelAppend:n.a.createElement(u,null),isInvalid:!(null===(a=e[l.a.RESPONSE_STATUS_CHECK])||void 0===a||!a.call(e,E)),error:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.httpAdvancedOptions.responseChecks.responseStatusCheck.error",defaultMessage:"Status code must contain digits only."}),helpText:i.i18n.translate("xpack.uptime.createPackagePolicy.stepConfigure.httpAdvancedOptions.responseChecks.responseStatusCheck.helpText",{defaultMessage:"A list of expected status codes. Press enter to add a new code. 4xx and 5xx codes are considered down by default. Other codes are considered up."})},n.a.createElement(b,{selectedOptions:E[l.a.RESPONSE_STATUS_CHECK],onChange:e=>g({value:e,configKey:l.a.RESPONSE_STATUS_CHECK}),"data-test-subj":"syntheticsResponseStatusCheck"})),n.a.createElement(o.EuiFormRow,{fullWidth:!0,label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.httpAdvancedOptions.responseChecks.checkResponseHeadersContain",defaultMessage:"Check response headers contain"}),labelAppend:n.a.createElement(u,null),isInvalid:!(null===(d=e[l.a.RESPONSE_HEADERS_CHECK])||void 0===d||!d.call(e,E)),error:[n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.httpAdvancedOptions.responseHeadersField.error",defaultMessage:"Header key must be a valid HTTP token."})],helpText:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.httpAdvancedOptions.responseHeadersField.helpText",defaultMessage:"A list of expected response headers."})},n.a.createElement(x,{defaultValue:E[l.a.RESPONSE_HEADERS_CHECK],onChange:Object(r.useCallback)((e=>g({value:e,configKey:l.a.RESPONSE_HEADERS_CHECK})),[g]),"data-test-subj":"syntheticsResponseHeaders"})),n.a.createElement(o.EuiFormRow,{label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.httpAdvancedOptions.responseCheckPositive.label",defaultMessage:"Check response body contains"}),labelAppend:n.a.createElement(u,null),helpText:i.i18n.translate("xpack.uptime.createPackagePolicy.stepConfigure.httpAdvancedOptions.responseBodyCheckPositive.helpText",{defaultMessage:"A list of regular expressions to match the body output. Press enter to add a new expression. Only a single expression needs to match."})},n.a.createElement(b,{selectedOptions:E[l.a.RESPONSE_BODY_CHECK_POSITIVE],onChange:Object(r.useCallback)((e=>g({value:e,configKey:l.a.RESPONSE_BODY_CHECK_POSITIVE})),[g]),"data-test-subj":"syntheticsResponseBodyCheckPositive"})),n.a.createElement(o.EuiFormRow,{label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.httpAdvancedOptions.responseCheckNegative.label",defaultMessage:"Check response body does not contain"}),labelAppend:n.a.createElement(u,null),helpText:i.i18n.translate("xpack.uptime.createPackagePolicy.stepConfigure.httpAdvancedOptions.responseBodyCheckNegative.helpText",{defaultMessage:"A list of regular expressions to match the the body output negatively. Press enter to add a new expression. Return match failed if single expression matches."})},n.a.createElement(b,{selectedOptions:E[l.a.RESPONSE_BODY_CHECK_NEGATIVE],onChange:Object(r.useCallback)((e=>g({value:e,configKey:l.a.RESPONSE_BODY_CHECK_NEGATIVE})),[g]),"data-test-subj":"syntheticsResponseBodyCheckNegative"}))))})),Y=Object.values(l.d).map((e=>({value:e,text:e}))),Z=Object(r.memo)((({validate:e})=>{var t,a;const{fields:r,setFields:i}=Object(c.B)(),u=({value:e,configKey:t})=>{i((a=>({...a,[t]:e})))};return n.a.createElement(n.a.Fragment,null,n.a.createElement(o.EuiFormRow,{label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.tcp.hosts",defaultMessage:"Host:Port"}),isInvalid:!(null===(t=e[l.a.HOSTS])||void 0===t||!t.call(e,r)),error:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.tcp.hosts.error",defaultMessage:"Host and port are required"})},n.a.createElement(o.EuiFieldText,{value:r[l.a.HOSTS],onChange:e=>u({value:e.target.value,configKey:l.a.HOSTS}),"data-test-subj":"syntheticsTCPHostField"})),n.a.createElement(o.EuiFormRow,{id:"syntheticsFleetScheduleField--number syntheticsFleetScheduleField--unit",label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.monitorInterval",defaultMessage:"Monitor interval"}),isInvalid:!(null===(a=e[l.a.SCHEDULE])||void 0===a||!a.call(e,r)),error:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.monitorInterval.error",defaultMessage:"Monitor interval is required"})},n.a.createElement(T,{onChange:e=>u({value:e,configKey:l.a.SCHEDULE}),number:r[l.a.SCHEDULE].number,unit:r[l.a.SCHEDULE].unit})),n.a.createElement(_,{fields:r,onChange:u,validate:e}))})),z=()=>{const{fields:e,setFields:t}=Object(c.A)(),a=Object(r.useCallback)((({value:e,configKey:a})=>{t((t=>({...t,[a]:e})))}),[t]);return n.a.createElement(o.EuiAccordion,{id:"uptimeFleetTCPAdvancedOptions",buttonContent:"Advanced TCP options","data-test-subj":"syntheticsTCPAdvancedFieldsAccordion"},n.a.createElement(o.EuiSpacer,{size:"m"}),n.a.createElement(o.EuiDescribedFormGroup,{title:n.a.createElement("h4",null,n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.tcpAdvacnedSettings.requestConfiguration.title",defaultMessage:"Request configuration"})),description:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.tcpAdvacnedSettings.requestConfiguration.description",defaultMessage:"Configure the payload sent to the remote host."})},n.a.createElement(o.EuiSpacer,{size:"s"}),n.a.createElement(o.EuiFormRow,{label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.proxyURL.label",defaultMessage:"Proxy URL"}),labelAppend:n.a.createElement(u,null),helpText:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.proxyUrl.tcp.helpText",defaultMessage:"The URL of the SOCKS5 proxy to use when connecting to the server. The value must be a URL with a scheme of socks5://."})},n.a.createElement(o.EuiFieldText,{value:e[l.a.PROXY_URL],onChange:e=>a({value:e.target.value,configKey:l.a.PROXY_URL}),"data-test-subj":"syntheticsProxyUrl"})),!!e[l.a.PROXY_URL]&&n.a.createElement(o.EuiFormRow,{"data-test-subj":"syntheticsUseLocalResolver"},n.a.createElement(o.EuiCheckbox,{id:"uptimeFleetUseLocalResolverCheckbox",checked:e[l.a.PROXY_USE_LOCAL_RESOLVER],label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.resolveHostnamesLocally",defaultMessage:"Resolve hostnames locally"}),onChange:e=>a({value:e.target.checked,configKey:l.a.PROXY_USE_LOCAL_RESOLVER})})),n.a.createElement(o.EuiFormRow,{label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.tcpAdvacnedSettings.requestConfiguration.requestPayload.label",defaultMessage:"Request payload"}),labelAppend:n.a.createElement(u,null),helpText:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.tcpAdvacnedSettings.requestConfiguration.requestPayload.helpText",defaultMessage:"A payload string to send to the remote host."})},n.a.createElement(o.EuiFieldText,{value:e[l.a.REQUEST_SEND_CHECK],onChange:Object(r.useCallback)((e=>a({value:e.target.value,configKey:l.a.REQUEST_SEND_CHECK})),[a]),"data-test-subj":"syntheticsTCPRequestSendCheck"}))),n.a.createElement(o.EuiDescribedFormGroup,{title:n.a.createElement("h4",null,n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.tcpAdvancedOptions.responseConfiguration.title",defaultMessage:"Response checks"})),description:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.tcpAdvancedOptions.responseConfiguration.description",defaultMessage:"Configure the expected response from the remote host."})},n.a.createElement(o.EuiFormRow,{label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.tcpAdvacnedSettings.responseConfiguration.responseContains.label",defaultMessage:"Check response contains"}),labelAppend:n.a.createElement(u,null),helpText:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.tcpAdvacnedSettings.responseConfiguration.responseContains.helpText",defaultMessage:"The expected remote host response."})},n.a.createElement(o.EuiFieldText,{value:e[l.a.RESPONSE_RECEIVE_CHECK],onChange:Object(r.useCallback)((e=>a({value:e.target.value,configKey:l.a.RESPONSE_RECEIVE_CHECK})),[a]),"data-test-subj":"syntheticsTCPResponseReceiveCheck"}))))},q=Object(r.memo)((({validate:e})=>{var t,a,r;const{fields:i,setFields:d}=Object(c.y)(),E=({value:e,configKey:t})=>{d((a=>({...a,[t]:e})))};return n.a.createElement(n.a.Fragment,null,n.a.createElement(o.EuiFormRow,{label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.icmp.hosts",defaultMessage:"Host"}),isInvalid:!(null===(t=e[l.a.HOSTS])||void 0===t||!t.call(e,i)),error:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.icmp.hosts.error",defaultMessage:"Host is required"})},n.a.createElement(o.EuiFieldText,{value:i[l.a.HOSTS],onChange:e=>E({value:e.target.value,configKey:l.a.HOSTS}),"data-test-subj":"syntheticsICMPHostField"})),n.a.createElement(o.EuiFormRow,{id:"syntheticsFleetScheduleField--number syntheticsFleetScheduleField--unit",label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.monitorInterval",defaultMessage:"Monitor interval"}),isInvalid:!(null===(a=e[l.a.SCHEDULE])||void 0===a||!a.call(e,i)),error:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.monitorInterval.error",defaultMessage:"Monitor interval is required"})},n.a.createElement(T,{onChange:e=>E({value:e,configKey:l.a.SCHEDULE}),number:i[l.a.SCHEDULE].number,unit:i[l.a.SCHEDULE].unit})),n.a.createElement(o.EuiFormRow,{label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.wait.label",defaultMessage:"Wait in seconds"}),isInvalid:!(null===(r=e[l.a.WAIT])||void 0===r||!r.call(e,i)),error:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.wait.error",defaultMessage:"Wait must be 0 or greater"}),labelAppend:n.a.createElement(u,null),helpText:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.wait.helpText",defaultMessage:"The duration to wait before emitting another ICMP Echo Request if no response is received."})},n.a.createElement(o.EuiFieldNumber,{min:0,value:i[l.a.WAIT],onChange:e=>E({value:e.target.value,configKey:l.a.WAIT}),step:"any"})),n.a.createElement(_,{fields:i,onChange:E,validate:e}))}));var X=a(70);function G({onUpload:e}){const t=Object(r.useRef)(null),[a,i]=Object(r.useState)(null),s=Object(r.useRef)(null);return n.a.createElement(o.EuiFormRow,{isInvalid:Boolean(a),error:a,label:J},n.a.createElement(o.EuiFilePicker,{id:"syntheticsFleetScriptRecorderUploader","data-test-subj":"syntheticsFleetScriptRecorderUploader",ref:s,initialPromptText:W,onChange:a=>{if(a&&a.length){var r;if(a.length&&"text/javascript"!==a[0].type)return i($),void(null===(r=s.current)||void 0===r||r.removeFiles());t.current=new FileReader,t.current.onloadend=()=>(a=>{var r;const n=null==t||null===(r=t.current)||void 0===r?void 0:r.result;var o;if("step"!==(null==n?void 0:n.trim().slice(0,4)))return i(Q),void(null===(o=s.current)||void 0===o||o.removeFiles());e({scriptText:n,fileName:a}),i(null)})(a[0].name),t.current.readAsText(a[0])}else e({scriptText:"",fileName:""})},display:"large"}))}const J=i.i18n.translate("xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.uploader.fieldLabel",{defaultMessage:"Testing script"}),W=i.i18n.translate("xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.uploader.label",{defaultMessage:"Select recorder-generated .js file"}),$=i.i18n.translate("xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.uploader.invalidFileError",{defaultMessage:"Invalid file type. Please upload a .js file generated by the Elastic Synthetics Recorder."}),Q=i.i18n.translate("xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.uploader.parsingError",{defaultMessage:"Error uploading file. Please upload a .js file generated by the Elastic Synthetics Recorder in inline script format."});function ee({onChange:e,script:t,fileName:a}){const[i,l]=Object(r.useState)(!1),{isEditable:c}=Object(X.b)(),u=Object(r.useCallback)((({scriptText:t,fileName:a})=>{e({scriptText:t,fileName:a})}),[e]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(o.EuiSpacer,{size:"m"}),n.a.createElement(o.EuiLink,{href:"https://github.com/elastic/synthetics-recorder/releases/",target:"_blank"},n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.zipUrl.recorderLink",defaultMessage:"Download the Elastic Synthetics Recorder"})),n.a.createElement(o.EuiSpacer,{size:"m"}),c&&t?n.a.createElement(o.EuiFormRow,{label:"Testing script"},n.a.createElement(o.EuiText,{size:"s"},n.a.createElement("strong",null,a))):n.a.createElement(G,{onUpload:u}),t&&n.a.createElement(n.a.Fragment,null,n.a.createElement(o.EuiSpacer,{size:"m"}),n.a.createElement(o.EuiFlexGroup,{gutterSize:"s"},n.a.createElement(o.EuiFlexItem,{grow:!1},n.a.createElement(o.EuiButton,{onClick:()=>l(!0),iconType:"editorCodeBlock",iconSide:"right"},n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.zipUrl.showScriptLabel",defaultMessage:"Show script"}))),n.a.createElement(o.EuiFlexItem,{grow:!1},c&&n.a.createElement(o.EuiButton,{onClick:()=>e({scriptText:"",fileName:""}),iconType:"trash",iconSide:"right",color:"danger"},n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.zipUrl.removeScriptLabel",defaultMessage:"Remove script"}))))),i&&n.a.createElement(o.EuiFlyout,{ownFocus:!0,onClose:()=>l(!1),"aria-labelledby":"syntheticsBrowserScriptBlockHeader",closeButtonAriaLabel:ae},n.a.createElement(o.EuiFlyoutHeader,{hasBorder:!0},n.a.createElement(o.EuiTitle,{size:"m"},n.a.createElement("span",{id:"syntheticsBrowserScriptBlockHeader"},a||te))),n.a.createElement("div",{style:{height:"100%"}},n.a.createElement(o.EuiCodeBlock,{language:"js",overflowHeight:"100%",fontSize:"m",isCopyable:!0},t))))}const te=i.i18n.translate("xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.scriptRecorder.mockFileName",{defaultMessage:"test_script.js"}),ae=i.i18n.translate("xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.scriptRecorder.closeButtonLabel",{defaultMessage:"Close script flyout"}),re=()=>{const{defaultValues:e,setFields:t}=Object(c.v)(),{isZipUrlTLSEnabled:a,setIsZipUrlTLSEnabled:i}=Object(c.z)(),u=Object(r.useCallback)((e=>{t((t=>({...t,[l.a.ZIP_URL_TLS_CERTIFICATE_AUTHORITIES]:e.certificateAuthorities,[l.a.ZIP_URL_TLS_CERTIFICATE]:e.certificate,[l.a.ZIP_URL_TLS_KEY]:e.key,[l.a.ZIP_URL_TLS_KEY_PASSPHRASE]:e.keyPassphrase,[l.a.ZIP_URL_TLS_VERIFICATION_MODE]:e.verificationMode,[l.a.ZIP_URL_TLS_VERSION]:e.version})))}),[t]);return Object(r.useEffect)((()=>{a||t((e=>({...e,[l.a.ZIP_URL_TLS_CERTIFICATE_AUTHORITIES]:void 0,[l.a.ZIP_URL_TLS_CERTIFICATE]:void 0,[l.a.ZIP_URL_TLS_KEY]:void 0,[l.a.ZIP_URL_TLS_KEY_PASSPHRASE]:void 0,[l.a.ZIP_URL_TLS_VERIFICATION_MODE]:void 0,[l.a.ZIP_URL_TLS_VERSION]:void 0})))}),[t,a]),n.a.createElement(o.EuiFormRow,null,n.a.createElement(n.a.Fragment,null,n.a.createElement(o.EuiSwitch,{id:"syntheticsBrowserIsZipUrlTLSEnabled","data-test-subj":"syntheticsBrowserIsZipUrlTLSEnabled",checked:!!a,label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.certificateSettings.enableZipUrlSSLSettings.label",defaultMessage:"Enable TLS configuration for Zip URL"}),onChange:e=>i(e.target.checked)}),a?n.a.createElement(E,{defaultValues:{certificateAuthorities:e[l.a.ZIP_URL_TLS_CERTIFICATE_AUTHORITIES]||c.t[l.a.TLS_CERTIFICATE_AUTHORITIES],certificate:e[l.a.ZIP_URL_TLS_CERTIFICATE]||c.t[l.a.TLS_CERTIFICATE],key:e[l.a.ZIP_URL_TLS_KEY]||c.t[l.a.TLS_KEY],keyPassphrase:e[l.a.ZIP_URL_TLS_KEY_PASSPHRASE]||c.t[l.a.TLS_KEY_PASSPHRASE],verificationMode:e[l.a.ZIP_URL_TLS_VERIFICATION_MODE]||c.t[l.a.TLS_VERIFICATION_MODE],version:e[l.a.ZIP_URL_TLS_VERSION]||c.t[l.a.TLS_VERSION]},onChange:u,tlsRole:"client"}):null))};var ne;!function(e){e.INLINE="syntheticsBrowserInlineConfig",e.SCRIPT_RECORDER="syntheticsBrowserScriptRecorderConfig",e.ZIP="syntheticsBrowserZipURLConfig"}(ne||(ne={}));const ie={zipUrl:"",proxyUrl:"",folder:"",username:"",password:"",inlineScript:"",params:"",isGeneratedScript:!1,fileName:""},se=({onChange:e,defaultConfig:t=ie})=>{const[a,c]=Object(r.useState)((e=>e.inlineScript&&e.isGeneratedScript?ne.SCRIPT_RECORDER:e.inlineScript?ne.INLINE:ne.ZIP)(t)),[d,E]=Object(r.useState)(t);Object(r.useEffect)((()=>{e(d)}),[d,e]);const p=n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.zipUrl.label",defaultMessage:"Zip URL"}),g=[{id:"syntheticsBrowserZipURLConfig",name:p,"data-test-subj":"syntheticsSourceTab__zipUrl",content:n.a.createElement(n.a.Fragment,null,n.a.createElement(o.EuiSpacer,{size:"m"}),n.a.createElement(o.EuiFormRow,{label:p,isInvalid:!d.zipUrl,error:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.zipUrl.error",defaultMessage:"Zip URL is required"}),helpText:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.zipUrl.helpText",defaultMessage:"Location of the synthetics project repository zip file."})},n.a.createElement(o.EuiFieldText,{onChange:({target:{value:e}})=>E((t=>({...t,zipUrl:e}))),value:d.zipUrl,"data-test-subj":"syntheticsBrowserZipUrl"})),n.a.createElement(re,null),n.a.createElement(o.EuiFormRow,{label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.brower.proxyURL.label",defaultMessage:"Proxy Zip URL"}),labelAppend:n.a.createElement(u,null),helpText:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.http.helpText",defaultMessage:"HTTP proxy for Zip URL."})},n.a.createElement(o.EuiFieldText,{onChange:({target:{value:e}})=>E((t=>({...t,proxyUrl:e}))),value:d.proxyUrl,"data-test-subj":"syntheticsBrowserZipUrlProxy"})),n.a.createElement(o.EuiFormRow,{label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.zipUrlFolder.label",defaultMessage:"Folder"}),labelAppend:n.a.createElement(u,null),helpText:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.zipUrlFolder.helpText",defaultMessage:"Relative directory path where the synthetic journey files are located in the repository."})},n.a.createElement(o.EuiFieldText,{onChange:({target:{value:e}})=>E((t=>({...t,folder:e}))),value:d.folder,"data-test-subj":"syntheticsBrowserZipUrlFolder"})),n.a.createElement(o.EuiFormRow,{label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.params.label",defaultMessage:"Params"}),labelAppend:n.a.createElement(u,null),helpText:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.params.helpText",defaultMessage:"A JSON object that defines any variables your tests require."})},n.a.createElement(w,{ariaLabel:i.i18n.translate("xpack.uptime.createPackagePolicy.stepConfigure.requestBody.codeEditor.json.ariaLabel",{defaultMessage:"JSON code editor"}),id:"jsonParamsEditor",languageId:l.f.JSON,onChange:e=>E((t=>({...t,params:e}))),value:d.params,"data-test-subj":"syntheticsBrowserZipUrlParams"})),n.a.createElement(o.EuiFormRow,{label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.zipUrlUsername.label",defaultMessage:"Zip URL Username"}),labelAppend:n.a.createElement(u,null),helpText:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.zipUrlUsername.helpText",defaultMessage:"The username for authenticating with the zip endpoint."})},n.a.createElement(o.EuiFieldText,{onChange:({target:{value:e}})=>E((t=>({...t,username:e}))),value:d.username,"data-test-subj":"syntheticsBrowserZipUrlUsername"})),n.a.createElement(o.EuiFormRow,{label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.zipUrlPassword.abel",defaultMessage:"Zip URL Password"}),labelAppend:n.a.createElement(u,null),helpText:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.zipUrlPassword.helpText",defaultMessage:"The password for authenticating with the zip endpoint."})},n.a.createElement(o.EuiFieldPassword,{onChange:({target:{value:e}})=>E((t=>({...t,password:e}))),value:d.password,"data-test-subj":"syntheticsBrowserZipUrlPassword"})))},{id:"syntheticsBrowserInlineConfig",name:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.inlineScript.label",defaultMessage:"Inline script"}),"data-test-subj":"syntheticsSourceTab__inline",content:n.a.createElement(o.EuiFormRow,{isInvalid:!d.inlineScript,error:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.inlineScript.error",defaultMessage:"Script is required"}),helpText:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.inlineScript.helpText",defaultMessage:"Runs Synthetic test scripts that are defined inline."})},n.a.createElement(w,{ariaLabel:i.i18n.translate("xpack.uptime.createPackagePolicy.stepConfigure.requestBody.codeEditor.javascript.ariaLabel",{defaultMessage:"JavaScript code editor"}),id:"javascript",languageId:l.f.JAVASCRIPT,onChange:e=>E((t=>({...t,inlineScript:e}))),value:d.inlineScript}))},{id:"syntheticsBrowserScriptRecorderConfig",name:n.a.createElement(o.EuiFlexGroup,{responsive:!1,alignItems:"center",gutterSize:"xs"},n.a.createElement(o.EuiFlexItem,{grow:!1},n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.browser.scriptRecorder.label",defaultMessage:"Script recorder"})),n.a.createElement(oe,{grow:!1},n.a.createElement(o.EuiBetaBadge,{label:i.i18n.translate("xpack.uptime.createPackagePolicy.stepConfigure.browser.scriptRecorder.experimentalLabel",{defaultMessage:"Tech preview"}),iconType:"beaker",tooltipContent:i.i18n.translate("xpack.uptime.createPackagePolicy.stepConfigure.browser.scriptRecorder.experimentalTooltip",{defaultMessage:"Preview the quickest way to create Elastic Synthetics monitoring scripts with our Elastic Synthetics Recorder"})}))),"data-test-subj":"syntheticsSourceTab__scriptRecorder",content:n.a.createElement(ee,{onChange:({scriptText:e,fileName:t})=>E((a=>({...a,inlineScript:e,isGeneratedScript:!0,fileName:t}))),script:d.inlineScript,fileName:d.fileName})}];return n.a.createElement(o.EuiTabbedContent,{tabs:g,initialSelectedTab:g.find((e=>e.id===a)),autoFocus:"selected",onTabClick:e=>{e.id!==a&&E(ie),c(e.id)}})},oe=k()(o.EuiFlexItem).withConfig({displayName:"StyledBetaBadgeWrapper",componentId:"sc-mp5n2k-0"})([".euiToolTipAnchor{display:flex;}"]),le=Object(r.memo)((({validate:e})=>{var t;const{fields:a,setFields:i,defaultValues:u}=Object(c.v)(),d=({value:e,configKey:t})=>{i((a=>({...a,[t]:e})))},E=Object(r.useCallback)((({zipUrl:e,folder:t,username:a,password:r,inlineScript:n,params:s,proxyUrl:o,isGeneratedScript:c,fileName:u})=>{i((i=>({...i,[l.a.SOURCE_ZIP_URL]:e,[l.a.SOURCE_ZIP_PROXY_URL]:o,[l.a.SOURCE_ZIP_FOLDER]:t,[l.a.SOURCE_ZIP_USERNAME]:a,[l.a.SOURCE_ZIP_PASSWORD]:r,[l.a.SOURCE_INLINE]:n,[l.a.PARAMS]:s,[l.a.METADATA]:{...i[l.a.METADATA],script_source:{is_generated_script:c,file_name:u}}})))}),[i]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(o.EuiFormRow,{id:"syntheticsFleetScheduleField--number syntheticsFleetScheduleField--unit",label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.monitorInterval",defaultMessage:"Monitor interval"}),isInvalid:!(null===(t=e[l.a.SCHEDULE])||void 0===t||!t.call(e,a)),error:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.monitorInterval.error",defaultMessage:"Monitor interval is required"})},n.a.createElement(T,{onChange:e=>d({value:e,configKey:l.a.SCHEDULE}),number:a[l.a.SCHEDULE].number,unit:a[l.a.SCHEDULE].unit})),n.a.createElement(o.EuiFormRow,{label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.sourceType.label",defaultMessage:"Source Type"})},n.a.createElement(se,{onChange:E,defaultConfig:Object(r.useMemo)((()=>{var e,t;return{zipUrl:u[l.a.SOURCE_ZIP_URL],proxyUrl:u[l.a.SOURCE_ZIP_PROXY_URL],folder:u[l.a.SOURCE_ZIP_FOLDER],username:u[l.a.SOURCE_ZIP_USERNAME],password:u[l.a.SOURCE_ZIP_PASSWORD],inlineScript:u[l.a.SOURCE_INLINE],params:u[l.a.PARAMS],isGeneratedScript:null===(e=u[l.a.METADATA].script_source)||void 0===e?void 0:e.is_generated_script,fileName:null===(t=u[l.a.METADATA].script_source)||void 0===t?void 0:t.file_name}}),[u])})),n.a.createElement(_,{fields:a,onChange:d,validate:e}))})),ce=()=>{const{fields:e,setFields:t}=Object(c.u)(),{fields:a}=Object(c.v)(),i=Object(r.useCallback)((({value:e,configKey:a})=>{t((t=>({...t,[a]:e})))}),[t]);return n.a.createElement(o.EuiAccordion,{id:"syntheticsIntegrationBrowserAdvancedOptions",buttonContent:"Advanced Browser options","data-test-subj":"syntheticsBrowserAdvancedFieldsAccordion"},n.a.createElement(o.EuiSpacer,{size:"m"}),a[l.a.SOURCE_ZIP_URL]&&n.a.createElement(o.EuiDescribedFormGroup,{title:n.a.createElement("h4",null,n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.browserAdvancedSettings.filtering.title",defaultMessage:"Selective tests"})),description:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.browserAdvancedSettings.filtering.description",defaultMessage:"Use these options to apply the selected monitor settings to a subset of the tests in your suite. Only the configured subset will be run by this monitor."})},n.a.createElement(o.EuiSpacer,{size:"s"}),n.a.createElement(o.EuiFormRow,{label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.browserAdvancedSettings.journeyFiltersMatch.label",defaultMessage:"Filter match"}),labelAppend:n.a.createElement(u,null),helpText:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.browserAdvancedSettings.journeyFiltersMatch.helpText",defaultMessage:"Run only journeys with a name that matches the provided glob with this monitor."})},n.a.createElement(o.EuiFieldText,{value:e[l.a.JOURNEY_FILTERS_MATCH],onChange:e=>i({value:e.target.value,configKey:l.a.JOURNEY_FILTERS_MATCH}),"data-test-subj":"syntheticsBrowserJourneyFiltersMatch"})),n.a.createElement(o.EuiFormRow,{label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.browserAdvancedSettings.journeyFiltersTags.label",defaultMessage:"Filter tags"}),labelAppend:n.a.createElement(u,null),helpText:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.browserAdvancedSettings.journeyFiltersTags.helpText",defaultMessage:"Run only journeys with the given tags with this monitor."})},n.a.createElement(b,{selectedOptions:e[l.a.JOURNEY_FILTERS_TAGS],onChange:e=>i({value:e,configKey:l.a.JOURNEY_FILTERS_TAGS}),"data-test-subj":"syntheticsBrowserJourneyFiltersTags"}))),n.a.createElement(o.EuiDescribedFormGroup,{title:n.a.createElement("h4",null,n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.browserAdvancedSettings.title",defaultMessage:"Synthetics agent options"})),description:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.browserAdvancedSettings.description",defaultMessage:"Provide fine-tuned configuration for the synthetics agent."})},n.a.createElement(o.EuiSpacer,{size:"s"}),n.a.createElement(o.EuiFormRow,{helpText:n.a.createElement(n.a.Fragment,null,n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.browserAdvancedSettings.ignoreHttpsErrors.helpText",defaultMessage:"Set this option to true to disable TLS/SSL validation in the synthetics browser. This is useful for testing sites that use self-signed certs."})),"data-test-subj":"syntheticsBrowserIgnoreHttpsErrors"},n.a.createElement(o.EuiCheckbox,{id:"syntheticsBrowserIgnoreHttpsErrorsCheckbox",checked:e[l.a.IGNORE_HTTPS_ERRORS],label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.browserAdvancedSettings.ignoreHttpsErrors.label",defaultMessage:"Ignore HTTPS errors"}),onChange:e=>i({value:e.target.checked,configKey:l.a.IGNORE_HTTPS_ERRORS})})),n.a.createElement(o.EuiFormRow,{label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.browserAdvancedSettings.screenshots.label",defaultMessage:"Screenshot options"}),labelAppend:n.a.createElement(u,null),helpText:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.browserAdvancedSettings.screenshots.helpText",defaultMessage:"Set this option to manage the screenshots captured by the synthetics agent."})},n.a.createElement(o.EuiSelect,{options:ue,value:e[l.a.SCREENSHOTS],onChange:e=>i({value:e.target.value,configKey:l.a.SCREENSHOTS}),"data-test-subj":"syntheticsBrowserScreenshots"})),n.a.createElement(o.EuiFormRow,{label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.browserAdvancedSettings.syntheticsArgs.label",defaultMessage:"Synthetics args"}),labelAppend:n.a.createElement(u,null),helpText:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.browserAdvancedSettings.syntheticsArgs.helpText",defaultMessage:"Extra arguments to pass to the synthetics agent package. Takes a list of strings. This is useful in rare scenarios, and should not ordinarily need to be set."})},n.a.createElement(b,{selectedOptions:e[l.a.SYNTHETICS_ARGS],onChange:e=>i({value:e,configKey:l.a.SYNTHETICS_ARGS}),"data-test-subj":"syntheticsBrowserSyntheticsArgs"}))))},ue=Object.values(l.i).map((e=>({value:e,text:e.replace(/-/g," ")}))),de=[{value:l.c.HTTP,text:"HTTP"},{value:l.c.TCP,text:"TCP"},{value:l.c.ICMP,text:"ICMP"},{value:l.c.BROWSER,text:i.i18n.translate("xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browserLabel",{defaultMessage:"Browser (Beta)"})}],Ee=Object(r.memo)((({validate:e,dataStreams:t=[]})=>{var a;const{monitorType:i,setMonitorType:u,isTLSEnabled:d,setIsTLSEnabled:E,isEditable:p}=Object(c.z)(),g=i===l.c.HTTP,m=i===l.c.TCP,S=i===l.c.BROWSER,f=Object(r.useMemo)((()=>de.filter((e=>t.includes(e.value)))),[t]);return n.a.createElement(o.EuiForm,{component:"form"},n.a.createElement(o.EuiDescribedFormGroup,{title:n.a.createElement("h4",null,n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSectionTitle",defaultMessage:"Monitor settings"})),description:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSectionDescription",defaultMessage:"Configure your monitor with the following options."}),"data-test-subj":"monitorSettingsSection"},n.a.createElement(o.EuiFlexGroup,null,n.a.createElement(o.EuiFlexItem,null,!p&&n.a.createElement(o.EuiFormRow,{label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.monitorType",defaultMessage:"Monitor Type"}),isInvalid:!(null===(a=e[l.a.MONITOR_TYPE])||void 0===a||!a.call(e,{[l.a.MONITOR_TYPE]:i})),error:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.monitorType.error",defaultMessage:"Monitor type is required"})},n.a.createElement(o.EuiSelect,{options:f,value:i,onChange:e=>u(e.target.value),"data-test-subj":"syntheticsMonitorTypeField"})),n.a.createElement(o.EuiSpacer,{size:"s"}),S&&n.a.createElement(o.EuiCallOut,{title:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.monitorType.browser.warning.description",defaultMessage:'To create a "Browser" monitor, please ensure you are using the elastic-agent-complete Docker container, which contains the dependencies to run these monitors. For more information, please visit our {link}.',values:{link:n.a.createElement(o.EuiLink,{target:"_blank",href:"https://www.elastic.co/guide/en/observability/current/synthetics-quickstart-fleet.html",external:!0},n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.monitorType.browser.warning.link",defaultMessage:"synthetics documentation"}))}}),iconType:"help",size:"s"}),n.a.createElement(o.EuiSpacer,{size:"s"}),(t=>{switch(t){case l.c.HTTP:return n.a.createElement(O,{validate:e});case l.c.ICMP:return n.a.createElement(q,{validate:e});case l.c.TCP:return n.a.createElement(Z,{validate:e});case l.c.BROWSER:return n.a.createElement(le,{validate:e});default:return null}})(i)))),(g||m)&&n.a.createElement(o.EuiDescribedFormGroup,{title:n.a.createElement("h4",null,n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.tlsSettings.label",defaultMessage:"TLS settings"})),description:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.tlsSettings.description",defaultMessage:"Configure TLS options, including verification mode, certificate authorities, and client certificates."})},n.a.createElement(o.EuiSwitch,{id:"uptimeFleetIsTLSEnabled","data-test-subj":"syntheticsIsTLSEnabled",checked:!!d,label:n.a.createElement(s.FormattedMessage,{id:"xpack.uptime.createPackagePolicy.stepConfigure.certificateSettings.enableSSLSettings.label",defaultMessage:"Enable TLS configuration"}),onChange:e=>E(e.target.checked)}),n.a.createElement(C,null)),n.a.createElement(o.EuiSpacer,{size:"m"}),g&&n.a.createElement(V,{validate:e}),m&&n.a.createElement(z,null),S&&n.a.createElement(ce,null))}))},144:function(e,t,a){"use strict";a.d(t,"a",(function(){return T}));var r=a(1),n=a(43);const i={[n.a.NAME]:null,[n.a.MONITOR_TYPE]:null,[n.a.SCHEDULE]:e=>{var t,a;return JSON.stringify(`@every ${null===(t=e[n.a.SCHEDULE])||void 0===t?void 0:t.number}${null===(a=e[n.a.SCHEDULE])||void 0===a?void 0:a.unit}`)},[n.a.APM_SERVICE_NAME]:null,[n.a.TAGS]:e=>s(e[n.a.TAGS]),[n.a.TIMEOUT]:e=>o(e[n.a.TIMEOUT])},s=(e=[])=>e.length?JSON.stringify(e):null,o=(e="")=>e?`${e}s`:null,l=(e={})=>Object.keys(e).length?JSON.stringify(e):null,c=(e="")=>e?JSON.stringify(e):null,u={[n.a.TLS_CERTIFICATE_AUTHORITIES]:e=>d(e[n.a.TLS_CERTIFICATE_AUTHORITIES]),[n.a.TLS_CERTIFICATE]:e=>d(e[n.a.TLS_CERTIFICATE]),[n.a.TLS_KEY]:e=>d(e[n.a.TLS_KEY]),[n.a.TLS_KEY_PASSPHRASE]:e=>E(e[n.a.TLS_KEY_PASSPHRASE]),[n.a.TLS_VERIFICATION_MODE]:e=>E(e[n.a.TLS_VERIFICATION_MODE]),[n.a.TLS_VERSION]:e=>p(e[n.a.TLS_VERSION])},d=(e="")=>e?JSON.stringify(e):null,E=(e="")=>e||null,p=(e=[])=>e.length?JSON.stringify(e):null,g={[n.a.METADATA]:e=>l(e[n.a.METADATA]),[n.a.URLS]:null,[n.a.MAX_REDIRECTS]:null,[n.a.USERNAME]:null,[n.a.PASSWORD]:null,[n.a.PROXY_URL]:null,[n.a.RESPONSE_BODY_CHECK_NEGATIVE]:e=>s(e[n.a.RESPONSE_BODY_CHECK_NEGATIVE]),[n.a.RESPONSE_BODY_CHECK_POSITIVE]:e=>s(e[n.a.RESPONSE_BODY_CHECK_POSITIVE]),[n.a.RESPONSE_BODY_INDEX]:null,[n.a.RESPONSE_HEADERS_CHECK]:e=>l(e[n.a.RESPONSE_HEADERS_CHECK]),[n.a.RESPONSE_HEADERS_INDEX]:null,[n.a.RESPONSE_STATUS_CHECK]:e=>s(e[n.a.RESPONSE_STATUS_CHECK]),[n.a.REQUEST_BODY_CHECK]:e=>{var t,a;return null!==(t=e[n.a.REQUEST_BODY_CHECK])&&void 0!==t&&t.value?JSON.stringify(null===(a=e[n.a.REQUEST_BODY_CHECK])||void 0===a?void 0:a.value):null},[n.a.REQUEST_HEADERS_CHECK]:e=>l(e[n.a.REQUEST_HEADERS_CHECK]),[n.a.REQUEST_METHOD_CHECK]:null,...u,...i},m={[n.a.METADATA]:e=>l(e[n.a.METADATA]),[n.a.HOSTS]:null,[n.a.PROXY_URL]:null,[n.a.PROXY_USE_LOCAL_RESOLVER]:null,[n.a.RESPONSE_RECEIVE_CHECK]:null,[n.a.REQUEST_SEND_CHECK]:null,...u,...i},S={[n.a.HOSTS]:null,[n.a.WAIT]:e=>o(e[n.a.WAIT]),...i},f={[n.a.METADATA]:e=>l(e[n.a.METADATA]),[n.a.SOURCE_ZIP_URL]:null,[n.a.SOURCE_ZIP_USERNAME]:null,[n.a.SOURCE_ZIP_PASSWORD]:null,[n.a.SOURCE_ZIP_FOLDER]:null,[n.a.SOURCE_ZIP_PROXY_URL]:null,[n.a.SOURCE_INLINE]:e=>c(e[n.a.SOURCE_INLINE]),[n.a.PARAMS]:null,[n.a.SCREENSHOTS]:null,[n.a.SYNTHETICS_ARGS]:e=>s(e[n.a.SYNTHETICS_ARGS]),[n.a.ZIP_URL_TLS_CERTIFICATE_AUTHORITIES]:e=>d(e[n.a.ZIP_URL_TLS_CERTIFICATE_AUTHORITIES]),[n.a.ZIP_URL_TLS_CERTIFICATE]:e=>d(e[n.a.ZIP_URL_TLS_CERTIFICATE]),[n.a.ZIP_URL_TLS_KEY]:e=>d(e[n.a.ZIP_URL_TLS_KEY]),[n.a.ZIP_URL_TLS_KEY_PASSPHRASE]:e=>E(e[n.a.ZIP_URL_TLS_KEY_PASSPHRASE]),[n.a.ZIP_URL_TLS_VERIFICATION_MODE]:e=>E(e[n.a.ZIP_URL_TLS_VERIFICATION_MODE]),[n.a.ZIP_URL_TLS_VERSION]:e=>p(e[n.a.ZIP_URL_TLS_VERSION]),[n.a.JOURNEY_FILTERS_MATCH]:e=>c(e[n.a.JOURNEY_FILTERS_MATCH]),[n.a.JOURNEY_FILTERS_TAGS]:e=>s(e[n.a.JOURNEY_FILTERS_TAGS]),[n.a.IGNORE_HTTPS_ERRORS]:null,...i},C=(n.c.HTTP,n.c.ICMP,n.c.TCP,n.c.BROWSER,{...g,...S,...m,...f,...i}),T=({monitorType:e,defaultConfig:t,config:a,newPolicy:n,onChange:i,validate:s})=>{const[o,l]=Object(r.useState)(n),c=Object(r.useRef)(t);return Object(r.useEffect)((()=>{const t=Object.keys(a),r=Object.keys(s[e]),o=t.some((e=>a[e]!==c.current[e])),u=!!n.name&&!r.find((t=>{var r,n;return null===(r=s[e])||void 0===r||null===(n=r[t])||void 0===n?void 0:n.call(r,a)})),d={...n},E=d.inputs.find((t=>t.type===`synthetics/${e}`)),p=null==E?void 0:E.streams.find((t=>t.data_stream.dataset===e));d.inputs.forEach((e=>e.enabled=!1)),E&&p&&(d.inputs.forEach((e=>e.enabled=!1)),E.enabled=!0,p.enabled=!0),E&&p&&o&&(t.forEach((e=>{var t;const r=null===(t=p.vars)||void 0===t?void 0:t[e];var n;r&&C[e]?r.value=null===(n=C[e])||void 0===n?void 0:n.call(C,a):r&&(r.value=void 0===a[e]||null===a[e]?null:a[e])})),c.current=a,l(d),i({isValid:u,updatedPolicy:d}))}),[a,c,n,i,s,e]),{config:a,updatedPolicy:o}}},43:function(e,t,a){"use strict";let r,n,i,s,o,l,c,u,d,E,p;a.d(t,"c",(function(){return r})),a.d(t,"d",(function(){return n})),a.d(t,"g",(function(){return i})),a.d(t,"f",(function(){return s})),a.d(t,"e",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"h",(function(){return c})),a.d(t,"k",(function(){return u})),a.d(t,"j",(function(){return d})),a.d(t,"i",(function(){return E})),a.d(t,"a",(function(){return p})),a.d(t,"l",(function(){return g})),function(e){e.HTTP="http",e.TCP="tcp",e.ICMP="icmp",e.BROWSER="browser"}(r||(r={})),function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE",e.HEAD="HEAD"}(n||(n={})),function(e){e.ALWAYS="always",e.NEVER="never",e.ON_ERROR="on_error"}(i||(i={})),function(e){e.JSON="xjson",e.PLAINTEXT="plaintext",e.XML="xml",e.JAVASCRIPT="javascript"}(s||(s={})),function(e){e.FORM="form",e.JSON="json",e.PLAINTEXT="text",e.XML="xml"}(o||(o={})),function(e){e.JSON="application/json",e.TEXT="text/plain",e.XML="application/xml",e.FORM="application/x-www-form-urlencoded"}(l||(l={})),function(e){e.MINUTES="m",e.SECONDS="s"}(c||(c={})),function(e){e.CERTIFICATE="certificate",e.FULL="full",e.NONE="none",e.STRICT="strict"}(u||(u={})),function(e){e.ONE_ZERO="TLSv1.0",e.ONE_ONE="TLSv1.1",e.ONE_TWO="TLSv1.2",e.ONE_THREE="TLSv1.3"}(d||(d={})),function(e){e.ON="on",e.OFF="off",e.ONLY_ON_FAILURE="only-on-failure"}(E||(E={})),function(e){e.APM_SERVICE_NAME="service.name",e.HOSTS="hosts",e.IGNORE_HTTPS_ERRORS="ignore_https_errors",e.JOURNEY_FILTERS_MATCH="filter_journeys.match",e.JOURNEY_FILTERS_TAGS="filter_journeys.tags",e.MAX_REDIRECTS="max_redirects",e.METADATA="__ui",e.MONITOR_TYPE="type",e.NAME="name",e.PARAMS="params",e.PASSWORD="password",e.PROXY_URL="proxy_url",e.PROXY_USE_LOCAL_RESOLVER="proxy_use_local_resolver",e.RESPONSE_BODY_CHECK_NEGATIVE="check.response.body.negative",e.RESPONSE_BODY_CHECK_POSITIVE="check.response.body.positive",e.RESPONSE_BODY_INDEX="response.include_body",e.RESPONSE_HEADERS_CHECK="check.response.headers",e.RESPONSE_HEADERS_INDEX="response.include_headers",e.RESPONSE_RECEIVE_CHECK="check.receive",e.RESPONSE_STATUS_CHECK="check.response.status",e.REQUEST_BODY_CHECK="check.request.body",e.REQUEST_HEADERS_CHECK="check.request.headers",e.REQUEST_METHOD_CHECK="check.request.method",e.REQUEST_SEND_CHECK="check.send",e.SCHEDULE="schedule",e.SCREENSHOTS="screenshots",e.SOURCE_INLINE="source.inline.script",e.SOURCE_ZIP_URL="source.zip_url.url",e.SOURCE_ZIP_USERNAME="source.zip_url.username",e.SOURCE_ZIP_PASSWORD="source.zip_url.password",e.SOURCE_ZIP_FOLDER="source.zip_url.folder",e.SOURCE_ZIP_PROXY_URL="source.zip_url.proxy_url",e.SYNTHETICS_ARGS="synthetics_args",e.TLS_CERTIFICATE_AUTHORITIES="ssl.certificate_authorities",e.TLS_CERTIFICATE="ssl.certificate",e.TLS_KEY="ssl.key",e.TLS_KEY_PASSPHRASE="ssl.key_passphrase",e.TLS_VERIFICATION_MODE="ssl.verification_mode",e.TLS_VERSION="ssl.supported_protocols",e.TAGS="tags",e.TIMEOUT="timeout",e.URLS="urls",e.USERNAME="username",e.WAIT="wait",e.ZIP_URL_TLS_CERTIFICATE_AUTHORITIES="source.zip_url.ssl.certificate_authorities",e.ZIP_URL_TLS_CERTIFICATE="source.zip_url.ssl.certificate",e.ZIP_URL_TLS_KEY="source.zip_url.ssl.key",e.ZIP_URL_TLS_KEY_PASSPHRASE="source.zip_url.ssl.key_passphrase",e.ZIP_URL_TLS_VERIFICATION_MODE="source.zip_url.ssl.verification_mode",e.ZIP_URL_TLS_VERSION="source.zip_url.ssl.supported_protocols"}(p||(p={}));const g={[l.FORM]:o.FORM,[l.JSON]:o.JSON,[l.TEXT]:o.PLAINTEXT,[l.XML]:o.XML}},49:function(e,t,a){"use strict";a.d(t,"h",(function(){return r.a})),a.d(t,"z",(function(){return r.b})),a.d(t,"f",(function(){return d})),a.d(t,"p",(function(){return l})),a.d(t,"x",(function(){return E})),a.d(t,"d",(function(){return S})),a.d(t,"o",(function(){return p})),a.d(t,"w",(function(){return f})),a.d(t,"k",(function(){return P})),a.d(t,"s",(function(){return C})),a.d(t,"B",(function(){return R})),a.d(t,"g",(function(){return O})),a.d(t,"q",(function(){return b})),a.d(t,"y",(function(){return I})),a.d(t,"i",(function(){return F})),a.d(t,"r",(function(){return k})),a.d(t,"A",(function(){return x})),a.d(t,"c",(function(){return N})),a.d(t,"n",(function(){return A})),a.d(t,"v",(function(){return w})),a.d(t,"a",(function(){return K})),a.d(t,"m",(function(){return j})),a.d(t,"u",(function(){return B})),a.d(t,"l",(function(){return z})),a.d(t,"t",(function(){return V})),a.d(t,"C",(function(){return q})),a.d(t,"e",(function(){return G})),a.d(t,"j",(function(){return J})),a.d(t,"b",(function(){return W}));var r=a(70),n=a(1),i=a.n(n),s=a(43),o=a(82);const l={...o.a,[s.a.METADATA]:{is_tls_enabled:!1},[s.a.URLS]:"",[s.a.MAX_REDIRECTS]:"0",[s.a.MONITOR_TYPE]:s.c.HTTP},c={setFields:e=>{throw new Error("setFields was not initialized for HTTP Simple Fields, set it when you invoke the context")},fields:l,defaultValues:l},u=Object(n.createContext)(c),d=({children:e,defaultValues:t=l})=>{const[a,r]=Object(n.useState)(t),s=Object(n.useMemo)((()=>({fields:a,setFields:r,defaultValues:t})),[a,t]);return i.a.createElement(u.Provider,{value:s,children:e})},E=()=>Object(n.useContext)(u),p={[s.a.PASSWORD]:"",[s.a.PROXY_URL]:"",[s.a.RESPONSE_BODY_CHECK_NEGATIVE]:[],[s.a.RESPONSE_BODY_CHECK_POSITIVE]:[],[s.a.RESPONSE_BODY_INDEX]:s.g.ON_ERROR,[s.a.RESPONSE_HEADERS_CHECK]:{},[s.a.RESPONSE_HEADERS_INDEX]:!0,[s.a.RESPONSE_STATUS_CHECK]:[],[s.a.REQUEST_BODY_CHECK]:{value:"",type:s.e.PLAINTEXT},[s.a.REQUEST_HEADERS_CHECK]:{},[s.a.REQUEST_METHOD_CHECK]:s.d.GET,[s.a.USERNAME]:""},g={setFields:e=>{throw new Error("setFields was not initialized, set it when you invoke the context")},fields:p,defaultValues:p},m=Object(n.createContext)(g),S=({children:e,defaultValues:t=p})=>{const[a,r]=Object(n.useState)(t),s=Object(n.useMemo)((()=>({fields:a,setFields:r,defaultValues:t})),[a,t]);return i.a.createElement(m.Provider,{value:s,children:e})},f=()=>Object(n.useContext)(m),C={...o.a,[s.a.METADATA]:{is_tls_enabled:!1},[s.a.HOSTS]:"",[s.a.MONITOR_TYPE]:s.c.TCP},T={setFields:e=>{throw new Error("setFields was not initialized for TCP Simple Fields, set it when you invoke the context")},fields:C,defaultValues:C},h=Object(n.createContext)(T),P=({children:e,defaultValues:t=C})=>{const[a,r]=Object(n.useState)(t),s=Object(n.useMemo)((()=>({fields:a,setFields:r,defaultValues:t})),[a,t]);return i.a.createElement(h.Provider,{value:s,children:e})},R=()=>Object(n.useContext)(h),b={...o.a,[s.a.HOSTS]:"",[s.a.MONITOR_TYPE]:s.c.ICMP,[s.a.WAIT]:"1"},y={setFields:e=>{throw new Error("setFields was not initialized for ICMP Simple Fields, set it when you invoke the context")},fields:b,defaultValues:b},_=Object(n.createContext)(y),O=({children:e,defaultValues:t=b})=>{const[a,r]=Object(n.useState)(t),s=Object(n.useMemo)((()=>({fields:a,setFields:r,defaultValues:t})),[a,t]);return i.a.createElement(_.Provider,{value:s,children:e})},I=()=>Object(n.useContext)(_),k={[s.a.PROXY_URL]:"",[s.a.PROXY_USE_LOCAL_RESOLVER]:!1,[s.a.RESPONSE_RECEIVE_CHECK]:"",[s.a.REQUEST_SEND_CHECK]:""},M={setFields:e=>{throw new Error("setFields was not initialized, set it when you invoke the context")},fields:k,defaultValues:k},v=Object(n.createContext)(M),F=({children:e,defaultValues:t=k})=>{const[a,r]=Object(n.useState)(t),s=Object(n.useMemo)((()=>({fields:a,setFields:r,defaultValues:t})),[a,t]);return i.a.createElement(v.Provider,{value:s,children:e})},x=()=>Object(n.useContext)(v),A={...o.a,[s.a.METADATA]:{script_source:{is_generated_script:!1,file_name:""},is_zip_url_tls_enabled:!1},[s.a.MONITOR_TYPE]:s.c.BROWSER,[s.a.SOURCE_ZIP_URL]:"",[s.a.SOURCE_ZIP_USERNAME]:"",[s.a.SOURCE_ZIP_PASSWORD]:"",[s.a.SOURCE_ZIP_FOLDER]:"",[s.a.SOURCE_ZIP_PROXY_URL]:"",[s.a.SOURCE_INLINE]:"",[s.a.PARAMS]:"",[s.a.ZIP_URL_TLS_CERTIFICATE_AUTHORITIES]:void 0,[s.a.ZIP_URL_TLS_CERTIFICATE]:void 0,[s.a.ZIP_URL_TLS_KEY]:void 0,[s.a.ZIP_URL_TLS_KEY_PASSPHRASE]:void 0,[s.a.ZIP_URL_TLS_VERIFICATION_MODE]:void 0,[s.a.ZIP_URL_TLS_VERSION]:void 0},L={setFields:e=>{throw new Error("setFields was not initialized for Browser Simple Fields, set it when you invoke the context")},fields:A,defaultValues:A},U=Object(n.createContext)(L),N=({children:e,defaultValues:t=A})=>{const[a,r]=Object(n.useState)(t),s=Object(n.useMemo)((()=>({fields:a,setFields:r,defaultValues:t})),[a,t]);return i.a.createElement(U.Provider,{value:s,children:e})},w=()=>Object(n.useContext)(U),j={[s.a.SCREENSHOTS]:s.i.ON,[s.a.SYNTHETICS_ARGS]:[],[s.a.JOURNEY_FILTERS_MATCH]:"",[s.a.JOURNEY_FILTERS_TAGS]:[],[s.a.IGNORE_HTTPS_ERRORS]:!1},H={setFields:e=>{throw new Error("setFields was not initialized for Browser Advanced Fields, set it when you invoke the context")},fields:j,defaultValues:j},D=Object(n.createContext)(H),K=({children:e,defaultValues:t=j})=>{const[a,r]=Object(n.useState)(t),s=Object(n.useMemo)((()=>({fields:a,setFields:r,defaultValues:t})),[a,t]);return i.a.createElement(D.Provider,{value:s,children:e})},B=()=>Object(n.useContext)(D),V={[s.a.TLS_CERTIFICATE_AUTHORITIES]:"",[s.a.TLS_CERTIFICATE]:"",[s.a.TLS_KEY]:"",[s.a.TLS_KEY_PASSPHRASE]:"",[s.a.TLS_VERIFICATION_MODE]:s.k.FULL,[s.a.TLS_VERSION]:[s.j.ONE_ONE,s.j.ONE_TWO,s.j.ONE_THREE]},Y={setFields:e=>{throw new Error("setFields was not initialized, set it when you invoke the context")},fields:V,defaultValues:V},Z=Object(n.createContext)(Y),z=({children:e,defaultValues:t=V})=>{const[a,r]=Object(n.useState)(t),s=Object(n.useMemo)((()=>({fields:a,setFields:r,defaultValues:t})),[a,t]);return i.a.createElement(Z.Provider,{value:s,children:e})},q=()=>Object(n.useContext)(Z);function X(e,t){return e.reduce(((e,a)=>{const r=a;return e[r]=null==t?void 0:t[r],e}),{})}const G=({defaultValues:e,children:t})=>{const a=Object.keys(l),r=Object.keys(p),n=X(a,e||{}),s=X(r,e||{}),o=e?s:void 0,c=e?n:void 0;return i.a.createElement(S,{defaultValues:o},i.a.createElement(d,{defaultValues:c},t))},J=({defaultValues:e,children:t})=>{const a=Object.keys(C),r=Object.keys(k),n=X(a,e||{}),s=X(r,e||{}),o=e?n:void 0,l=e?s:void 0;return i.a.createElement(F,{defaultValues:l},i.a.createElement(P,{defaultValues:o},t))},W=({defaultValues:e,children:t})=>{const a=Object.keys(A),r=Object.keys(j),n=X(a,e||{}),s=X(r,e||{}),o=e?n:void 0,l=e?s:void 0;return i.a.createElement(K,{defaultValues:l},i.a.createElement(N,{defaultValues:o},t))}},50:function(e,t,a){e.exports=a(24)(1074)},70:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return c}));var r=a(1),n=a.n(r);const i=a(43).c.HTTP,s={setMonitorType:e=>{throw new Error("setMonitorType was not initialized, set it when you invoke the context")},setIsTLSEnabled:e=>{throw new Error("setIsTLSEnabled was not initialized, set it when you invoke the context")},setIsZipUrlTLSEnabled:e=>{throw new Error("setIsZipUrlTLSEnabled was not initialized, set it when you invoke the context")},monitorType:i,defaultMonitorType:i,defaultIsTLSEnabled:!1,defaultIsZipUrlTLSEnabled:!1,isEditable:!1},o=Object(r.createContext)(s),l=({children:e,defaultMonitorType:t=i,defaultIsTLSEnabled:a=!1,defaultIsZipUrlTLSEnabled:s=!1,isEditable:l=!1})=>{const[c,u]=Object(r.useState)(t),[d,E]=Object(r.useState)(a),[p,g]=Object(r.useState)(s),m=Object(r.useMemo)((()=>({monitorType:c,setMonitorType:u,defaultMonitorType:t,isTLSEnabled:d,isZipUrlTLSEnabled:p,setIsTLSEnabled:E,setIsZipUrlTLSEnabled:g,defaultIsTLSEnabled:a,defaultIsZipUrlTLSEnabled:s,isEditable:l})),[c,t,d,p,a,s,l]);return n.a.createElement(o.Provider,{value:m,children:e})},c=()=>Object(r.useContext)(o)},82:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a(43);const n={[r.a.MONITOR_TYPE]:r.c.HTTP,[r.a.SCHEDULE]:{number:"3",unit:r.h.MINUTES},[r.a.APM_SERVICE_NAME]:"",[r.a.TAGS]:[],[r.a.TIMEOUT]:"16"}},87:function(e,t,a){"use strict";const r=a(101),n=a(102),i=a(103);function s(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function o(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function l(e,t){return t.decode?n(e):e}function c(e){return Array.isArray(e)?e.sort():"object"==typeof e?c(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function u(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function d(e){const t=(e=u(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function E(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function p(e,t){s((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const a=function(e){let t;switch(e.arrayFormat){case"index":return(e,a,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=a):r[e]=a};case"bracket":return(e,a,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],a):r[e]=[a]:r[e]=a};case"comma":case"separator":return(t,a,r)=>{const n="string"==typeof a&&a.split("").indexOf(e.arrayFormatSeparator)>-1?a.split(e.arrayFormatSeparator).map((t=>l(t,e))):null===a?a:l(a,e);r[t]=n};default:return(e,t,a)=>{void 0!==a[e]?a[e]=[].concat(a[e],t):a[e]=t}}}(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const n of e.split("&")){let[e,s]=i(t.decode?n.replace(/\+/g," "):n,"=");s=void 0===s?null:["comma","separator"].includes(t.arrayFormat)?s:l(s,t),a(l(e,t),s,r)}for(const e of Object.keys(r)){const a=r[e];if("object"==typeof a&&null!==a)for(const e of Object.keys(a))a[e]=E(a[e],t);else r[e]=E(a,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce(((e,t)=>{const a=r[t];return Boolean(a)&&"object"==typeof a&&!Array.isArray(a)?e[t]=c(a):e[t]=a,e}),Object.create(null))}t.extract=d,t.parse=p,t.stringify=(e,t)=>{if(!e)return"";s((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const a=a=>t.skipNull&&null==e[a]||t.skipEmptyString&&""===e[a],r=function(e){switch(e.arrayFormat){case"index":return t=>(a,r)=>{const n=a.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?a:null===r?[...a,[o(t,e),"[",n,"]"].join("")]:[...a,[o(t,e),"[",o(n,e),"]=",o(r,e)].join("")]};case"bracket":return t=>(a,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?a:null===r?[...a,[o(t,e),"[]"].join("")]:[...a,[o(t,e),"[]=",o(r,e)].join("")];case"comma":case"separator":return t=>(a,r)=>null==r||0===r.length?a:0===a.length?[[o(t,e),"=",o(r,e)].join("")]:[[a,o(r,e)].join(e.arrayFormatSeparator)];default:return t=>(a,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?a:null===r?[...a,o(t,e)]:[...a,[o(t,e),"=",o(r,e)].join("")]}}(t),n={};for(const t of Object.keys(e))a(t)||(n[t]=e[t]);const i=Object.keys(n);return!1!==t.sort&&i.sort(t.sort),i.map((a=>{const n=e[a];return void 0===n?"":null===n?o(a,t):Array.isArray(n)?n.reduce(r(a),[]).join("&"):o(a,t)+"="+o(n,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[a,r]=i(e,"#");return Object.assign({url:a.split("?")[0]||"",query:p(d(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:l(r,t)}:{})},t.stringifyUrl=(e,a)=>{a=Object.assign({encode:!0,strict:!0},a);const r=u(e.url).split("?")[0]||"",n=t.extract(e.url),i=t.parse(n,{sort:!1}),s=Object.assign(i,e.query);let l=t.stringify(s,a);l&&(l=`?${l}`);let c=function(e){let t="";const a=e.indexOf("#");return-1!==a&&(t=e.slice(a)),t}(e.url);return e.fragmentIdentifier&&(c=`#${o(e.fragmentIdentifier,a)}`),`${r}${l}${c}`}}}]);