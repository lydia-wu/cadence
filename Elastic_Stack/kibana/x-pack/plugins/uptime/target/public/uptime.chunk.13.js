/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.uptime_bundle_jsonpfunction=window.uptime_bundle_jsonpfunction||[]).push([[13],{215:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var a=n(50),r=n.n(a),o=n(1),s=n.n(o),i=n(42),l=n(91),c=n(23),u=n(62),d=n(67),m=n(46),f=n(110),b=n(47),O=n(58),v=n(44),j=n(22),g=n(61);var p=n(45);const{TYPE:h,TAGS:E,LOCATION:P,PORT:w}=p.j,A=({enabled:e,numTimes:t,setAlertParams:n,timerange:a,alertParams:r})=>{const l=Object(i.useDispatch)();Object(o.useEffect)((()=>{r.search&&l(Object(b.z)(r.search))}),[r,l]);const{count:c,loading:u}=(({query:e,filters:t})=>{const n=void 0===t||"string"==typeof t?"":JSON.stringify(Array.from(Object.entries(t))),a=Object(v.f)(),[r,o]=Object(v.h)(a,e,n),{data:s,loading:i}=Object(j.useFetcher)((()=>Object(g.i)({dateRangeStart:"now-24h",dateRangeEnd:"now",filters:o?void 0:r})),[r,e]);return{count:s||{total:0,up:0,down:0},loading:i}})({query:r.search,filters:r.filters}),p=s.a.useMemo((()=>Object.entries(r).length>0&&!Object(d.isRight)(O.a.decode(r))&&!Object(d.isRight)(O.e.decode(r))),[r]),A=Object(i.useSelector)(m.C);return Object(o.useEffect)((()=>{var e,t,a,o;r.filters||null===A||n("filters",{[w]:null!==(e=null==A?void 0:A.ports)&&void 0!==e?e:[],[P]:null!==(t=null==A?void 0:A.locations)&&void 0!==t?t:[],[h]:null!==(a=null==A?void 0:A.schemes)&&void 0!==a?a:[],[E]:null!==(o=null==A?void 0:A.tags)&&void 0!==o?o:[]})}),[r,n,A]),s.a.createElement(f.a,{alertParams:r,enabled:e,isOldAlert:p,numTimes:t,setAlertParams:n,snapshotCount:c.total,snapshotLoading:u,timerange:a})};var T=n(65);function y({core:e,plugins:t,params:n}){return u.a.core=e,s.a.createElement(i.Provider,{store:l.a},s.a.createElement(c.KibanaContextProvider,{services:{...e,...t}},s.a.createElement(T.a,{data:t.data},s.a.createElement(A,r()({},n,{autocomplete:t.data.autocomplete})))))}}}]);