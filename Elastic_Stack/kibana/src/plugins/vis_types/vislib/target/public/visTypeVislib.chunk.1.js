(window.visTypeVislib_bundle_jsonpfunction=window.visTypeVislib_bundle_jsonpfunction||[]).push([[1],Array(36).concat([function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(t,e){return r.call(t,e)}function a(t){return!(t>=55296&&t<=57343)&&(!(t>=64976&&t<=65007)&&(65535!=(65535&t)&&65534!=(65535&t)&&(!(t>=0&&t<=8)&&(11!==t&&(!(t>=14&&t<=31)&&(!(t>=127&&t<=159)&&!(t>1114111)))))))}function s(t){if(t>65535){var e=55296+((t-=65536)>>10),n=56320+(1023&t);return String.fromCharCode(e,n)}return String.fromCharCode(t)}var o=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,u=new RegExp(o.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),l=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,c=n(44);var h=/[&<>"]/,f=/[&<>"]/g,p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function d(t){return p[t]}var g=/[.?*+^$[\]\\(){}|-]/g;var v=n(41);e.lib={},e.lib.mdurl=n(45),e.lib.ucmicro=n(69),e.assign=function(t){var e=Array.prototype.slice.call(arguments,1);return e.forEach((function(e){if(e){if("object"!=typeof e)throw new TypeError(e+"must be object");Object.keys(e).forEach((function(n){t[n]=e[n]}))}})),t},e.isString=function(t){return"[object String]"===function(t){return Object.prototype.toString.call(t)}(t)},e.has=i,e.unescapeMd=function(t){return t.indexOf("\\")<0?t:t.replace(o,"$1")},e.unescapeAll=function(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(u,(function(t,e,n){return e||function(t,e){var n=0;return i(c,e)?c[e]:35===e.charCodeAt(0)&&l.test(e)&&a(n="x"===e[1].toLowerCase()?parseInt(e.slice(2),16):parseInt(e.slice(1),10))?s(n):t}(t,n)}))},e.isValidEntityCode=a,e.fromCodePoint=s,e.escapeHtml=function(t){return h.test(t)?t.replace(f,d):t},e.arrayReplaceAt=function(t,e,n){return[].concat(t.slice(0,e),n,t.slice(e+1))},e.isSpace=function(t){switch(t){case 9:case 32:return!0}return!1},e.isWhiteSpace=function(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1},e.isMdAsciiPunct=function(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}},e.isPunctChar=function(t){return v.test(t)},e.escapeRE=function(t){return t.replace(g,"\\$&")},e.normalizeReference=function(t){return t=t.trim().replace(/\s+/g," "),"Ṿ"==="ẞ".toLowerCase()&&(t=t.replace(/ẞ/g,"ß")),t.toLowerCase().toUpperCase()}},function(t,e,n){var r,i;!function(){var a={version:"3.5.17"},s=[].slice,o=function(t){return s.call(t)},u=this.document;function l(t){return t&&(t.ownerDocument||t.document||t).documentElement}function c(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(u)try{o(u.documentElement.childNodes)[0].nodeType}catch(t){o=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),u)try{u.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var h=this.Element.prototype,f=h.setAttribute,p=h.setAttributeNS,d=this.CSSStyleDeclaration.prototype,g=d.setProperty;h.setAttribute=function(t,e){f.call(this,t,e+"")},h.setAttributeNS=function(t,e,n){p.call(this,t,e,n+"")},d.setProperty=function(t,e,n){g.call(this,t,e+"",n)}}function v(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function m(t){return null===t?NaN:+t}function y(t){return!isNaN(t)}function x(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)<0?r=a+1:i=a}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)>0?i=a:r=a+1}return r}}}a.ascending=v,a.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},a.min=function(t,e){var n,r,i=-1,a=t.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<a;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<a;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<a;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},a.max=function(t,e){var n,r,i=-1,a=t.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<a;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<a;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<a;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},a.extent=function(t,e){var n,r,i,a=-1,s=t.length;if(1===arguments.length){for(;++a<s;)if(null!=(r=t[a])&&r>=r){n=i=r;break}for(;++a<s;)null!=(r=t[a])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++a<s;)if(null!=(r=e.call(t,t[a],a))&&r>=r){n=i=r;break}for(;++a<s;)null!=(r=e.call(t,t[a],a))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},a.sum=function(t,e){var n,r=0,i=t.length,a=-1;if(1===arguments.length)for(;++a<i;)y(n=+t[a])&&(r+=n);else for(;++a<i;)y(n=+e.call(t,t[a],a))&&(r+=n);return r},a.mean=function(t,e){var n,r=0,i=t.length,a=-1,s=i;if(1===arguments.length)for(;++a<i;)y(n=m(t[a]))?r+=n:--s;else for(;++a<i;)y(n=m(e.call(t,t[a],a)))?r+=n:--s;if(s)return r/s},a.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],a=n-r;return a?i+a*(t[r]-i):i},a.median=function(t,e){var n,r=[],i=t.length,s=-1;if(1===arguments.length)for(;++s<i;)y(n=m(t[s]))&&r.push(n);else for(;++s<i;)y(n=m(e.call(t,t[s],s)))&&r.push(n);if(r.length)return a.quantile(r.sort(v),.5)},a.variance=function(t,e){var n,r,i=t.length,a=0,s=0,o=-1,u=0;if(1===arguments.length)for(;++o<i;)y(n=m(t[o]))&&(s+=(r=n-a)*(n-(a+=r/++u)));else for(;++o<i;)y(n=m(e.call(t,t[o],o)))&&(s+=(r=n-a)*(n-(a+=r/++u)));if(u>1)return s/(u-1)},a.deviation=function(){var t=a.variance.apply(this,arguments);return t?Math.sqrt(t):t};var _=x(v);function b(t){return t.length}a.bisectLeft=_.left,a.bisect=a.bisectRight=_.right,a.bisector=function(t){return x(1===t.length?function(e,n){return v(t(e),n)}:t)},a.shuffle=function(t,e,n){(a=arguments.length)<3&&(n=t.length,a<2&&(e=0));for(var r,i,a=n-e;a;)i=Math.random()*a--|0,r=t[a+e],t[a+e]=t[i+e],t[i+e]=r;return t},a.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},a.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],i=new Array(n<0?0:n);e<n;)i[e]=[r,r=t[++e]];return i},a.transpose=function(t){if(!(i=t.length))return[];for(var e=-1,n=a.min(t,b),r=new Array(n);++e<n;)for(var i,s=-1,o=r[e]=new Array(i);++s<i;)o[s]=t[s][e];return r},a.zip=function(){return a.transpose(arguments)},a.keys=function(t){var e=[];for(var n in t)e.push(n);return e},a.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},a.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},a.merge=function(t){for(var e,n,r,i=t.length,a=-1,s=0;++a<i;)s+=t[a].length;for(n=new Array(s);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--s]=r[e];return n};var w=Math.abs;function C(t){for(var e=1;t*e%1;)e*=10;return e}function k(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function A(){this._=Object.create(null)}a.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var r,i=[],a=C(w(n)),s=-1;if(t*=a,e*=a,(n*=a)<0)for(;(r=t+n*++s)>e;)i.push(r/a);else for(;(r=t+n*++s)<e;)i.push(r/a);return i},a.map=function(t,e){var n=new A;if(t instanceof A)t.forEach((function(t,e){n.set(t,e)}));else if(Array.isArray(t)){var r,i=-1,a=t.length;if(1===arguments.length)for(;++i<a;)n.set(i,t[i]);else for(;++i<a;)n.set(e.call(t,r=t[i],i),r)}else for(var s in t)n.set(s,t[s]);return n};function M(t){return"__proto__"==(t+="")||"\0"===t[0]?"\0"+t:t}function E(t){return"\0"===(t+="")[0]?t.slice(1):t}function S(t){return M(t)in this._}function D(t){return(t=M(t))in this._&&delete this._[t]}function L(){var t=[];for(var e in this._)t.push(E(e));return t}function T(){var t=0;for(var e in this._)++t;return t}function z(){for(var t in this._)return!1;return!0}function N(){this._=Object.create(null)}function q(t){return t}function F(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function O(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=R.length;n<r;++n){var i=R[n]+e;if(i in t)return i}}k(A,{has:S,get:function(t){return this._[M(t)]},set:function(t,e){return this._[M(t)]=e},remove:D,keys:L,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:E(e),value:this._[e]});return t},size:T,empty:z,forEach:function(t){for(var e in this._)t.call(this,E(e),this._[e])}}),a.nest=function(){var t,e,n={},r=[],i=[];function s(i,a,o){if(o>=r.length)return e?e.call(n,a):t?a.sort(t):a;for(var u,l,c,h,f=-1,p=a.length,d=r[o++],g=new A;++f<p;)(h=g.get(u=d(l=a[f])))?h.push(l):g.set(u,[l]);return i?(l=i(),c=function(t,e){l.set(t,s(i,e,o))}):(l={},c=function(t,e){l[t]=s(i,e,o)}),g.forEach(c),l}function o(t,e){if(e>=r.length)return t;var n=[],a=i[e++];return t.forEach((function(t,r){n.push({key:t,values:o(r,e)})})),a?n.sort((function(t,e){return a(t.key,e.key)})):n}return n.map=function(t,e){return s(e,t,0)},n.entries=function(t){return o(s(a.map,t,0),0)},n.key=function(t){return r.push(t),n},n.sortKeys=function(t){return i[r.length-1]=t,n},n.sortValues=function(e){return t=e,n},n.rollup=function(t){return e=t,n},n},a.set=function(t){var e=new N;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},k(N,{has:S,add:function(t){return this._[M(t+="")]=!0,t},remove:D,values:L,size:T,empty:z,forEach:function(t){for(var e in this._)t.call(this,E(e))}}),a.behavior={},a.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=F(t,e,e[n]);return t};var R=["webkit","ms","moz","Moz","o","O"];function j(){}function I(){}function P(t){var e=[],n=new A;function r(){for(var n,r=e,i=-1,a=r.length;++i<a;)(n=r[i].on)&&n.apply(this,arguments);return t}return r.on=function(r,i){var a,s=n.get(r);return arguments.length<2?s&&s.on:(s&&(s.on=null,e=e.slice(0,a=e.indexOf(s)).concat(e.slice(a+1)),n.remove(r)),i&&e.push(n.set(r,{on:i})),t)},r}function B(){a.event.preventDefault()}function H(){for(var t,e=a.event;t=e.sourceEvent;)e=t;return e}function V(t){for(var e=new I,n=0,r=arguments.length;++n<r;)e[arguments[n]]=P(e);return e.of=function(n,r){return function(i){try{var s=i.sourceEvent=a.event;i.target=t,a.event=i,e[i.type].apply(n,r)}finally{a.event=s}}},e}a.dispatch=function(){for(var t=new I,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=P(t);return t},I.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},a.event=null,a.requote=function(t){return t.replace(U,"\\$&")};var U=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,$={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};function Z(t){return $(t,X),t}var G=function(t,e){return e.querySelector(t)},W=function(t,e){return e.querySelectorAll(t)},Y=function(t,e){var n=t.matches||t[O(t,"matchesSelector")];return(Y=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(G=function(t,e){return Sizzle(t,e)[0]||null},W=Sizzle,Y=Sizzle.matchesSelector),a.selection=function(){return a.select(u.documentElement)};var X=a.selection.prototype=[];function J(t){return"function"==typeof t?t:function(){return G(t,this)}}function K(t){return"function"==typeof t?t:function(){return W(t,this)}}X.select=function(t){var e,n,r,i,a=[];t=J(t);for(var s=-1,o=this.length;++s<o;){a.push(e=[]),e.parentNode=(r=this[s]).parentNode;for(var u=-1,l=r.length;++u<l;)(i=r[u])?(e.push(n=t.call(i,i.__data__,u,s)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return Z(a)},X.selectAll=function(t){var e,n,r=[];t=K(t);for(var i=-1,a=this.length;++i<a;)for(var s=this[i],u=-1,l=s.length;++u<l;)(n=s[u])&&(r.push(e=o(t.call(n,n.__data__,u,i))),e.parentNode=n);return Z(r)};var Q="http://www.w3.org/1999/xhtml",tt={svg:"http://www.w3.org/2000/svg",xhtml:Q,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function et(t,e){return t=a.ns.qualify(t),null==e?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof e?t.local?function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}:function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}:t.local?function(){this.setAttributeNS(t.space,t.local,e)}:function(){this.setAttribute(t,e)}}function nt(t){return t.trim().replace(/\s+/g," ")}function rt(t){return new RegExp("(?:^|\\s+)"+a.requote(t)+"(?:\\s+|$)","g")}function it(t){return(t+"").trim().split(/^|\s+/)}function at(t,e){var n=(t=it(t).map(st)).length;return"function"==typeof e?function(){for(var r=-1,i=e.apply(this,arguments);++r<n;)t[r](this,i)}:function(){for(var r=-1;++r<n;)t[r](this,e)}}function st(t){var e=rt(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",nt(i+" "+t))):n.setAttribute("class",nt(i.replace(e," ")))}}function ot(t,e,n){return null==e?function(){this.style.removeProperty(t)}:"function"==typeof e?function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}:function(){this.style.setProperty(t,e,n)}}function ut(t,e){return null==e?function(){delete this[t]}:"function"==typeof e?function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}:function(){this[t]=e}}function lt(t){return"function"==typeof t?t:(t=a.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Q&&e.documentElement.namespaceURI===Q?e.createElement(t):e.createElementNS(n,t)}}function ct(){var t=this.parentNode;t&&t.removeChild(this)}function ht(t){return{__data__:t}}function ft(t){return function(){return Y(this,t)}}function pt(t){return arguments.length||(t=v),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function dt(t,e){for(var n=0,r=t.length;n<r;n++)for(var i,a=t[n],s=0,o=a.length;s<o;s++)(i=a[s])&&e(i,s,n);return t}function gt(t){return $(t,vt),t}a.ns={prefix:tt,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),tt.hasOwnProperty(n)?{space:tt[n],local:t}:t}},X.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=a.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(et(e,t[e]));return this}return this.each(et(t,e))},X.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=it(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!rt(t[i]).test(e))return!1;return!0}for(e in t)this.each(at(e,t[e]));return this}return this.each(at(t,e))},X.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.each(ot(n,t[n],e));return this}if(r<2){var i=this.node();return c(i).getComputedStyle(i,null).getPropertyValue(t)}n=""}return this.each(ot(t,e,n))},X.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(ut(e,t[e]));return this}return this.each(ut(t,e))},X.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},X.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},X.append=function(t){return t=lt(t),this.select((function(){return this.appendChild(t.apply(this,arguments))}))},X.insert=function(t,e){return t=lt(t),e=J(e),this.select((function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)}))},X.remove=function(){return this.each(ct)},X.data=function(t,e){var n,r,i=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(n=this[0]).length);++i<a;)(r=n[i])&&(t[i]=r.__data__);return t}function s(t,n){var r,i,a,s=t.length,c=n.length,h=Math.min(s,c),f=new Array(c),p=new Array(c),d=new Array(s);if(e){var g,v=new A,m=new Array(s);for(r=-1;++r<s;)(i=t[r])&&(v.has(g=e.call(i,i.__data__,r))?d[r]=i:v.set(g,i),m[r]=g);for(r=-1;++r<c;)(i=v.get(g=e.call(n,a=n[r],r)))?!0!==i&&(f[r]=i,i.__data__=a):p[r]=ht(a),v.set(g,!0);for(r=-1;++r<s;)r in m&&!0!==v.get(m[r])&&(d[r]=t[r])}else{for(r=-1;++r<h;)i=t[r],a=n[r],i?(i.__data__=a,f[r]=i):p[r]=ht(a);for(;r<c;++r)p[r]=ht(n[r]);for(;r<s;++r)d[r]=t[r]}p.update=f,p.parentNode=f.parentNode=d.parentNode=t.parentNode,o.push(p),u.push(f),l.push(d)}var o=gt([]),u=Z([]),l=Z([]);if("function"==typeof t)for(;++i<a;)s(n=this[i],t.call(n,n.parentNode.__data__,i));else for(;++i<a;)s(n=this[i],t);return u.enter=function(){return o},u.exit=function(){return l},u},X.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},X.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=ft(t));for(var a=0,s=this.length;a<s;a++){i.push(e=[]),e.parentNode=(n=this[a]).parentNode;for(var o=0,u=n.length;o<u;o++)(r=n[o])&&t.call(r,r.__data__,o,a)&&e.push(r)}return Z(i)},X.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,a=r[i];--i>=0;)(n=r[i])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},X.sort=function(t){t=pt.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},X.each=function(t){return dt(this,(function(e,n,r){t.call(e,e.__data__,n,r)}))},X.call=function(t){var e=o(arguments);return t.apply(e[0]=this,e),this},X.empty=function(){return!this.node()},X.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var a=n[r];if(a)return a}return null},X.size=function(){var t=0;return dt(this,(function(){++t})),t};var vt=[];function mt(t){var e,n;return function(r,i,a){var s,o=t[a].update,u=o.length;for(a!=n&&(n=a,e=0),i>=e&&(e=i+1);!(s=o[e])&&++e<u;);return s}}function yt(t,e,n){var r="__on"+t,i=t.indexOf("."),s=_t;i>0&&(t=t.slice(0,i));var u=xt.get(t);function l(){var e=this[r];e&&(this.removeEventListener(t,e,e.$),delete this[r])}return u&&(t=u,s=bt),i?e?function(){var i=s(e,o(arguments));l.call(this),this.addEventListener(t,this[r]=i,i.$=n),i._=e}:l:e?j:function(){var e,n=new RegExp("^__on([^.]+)"+a.requote(t)+"$");for(var r in this)if(e=r.match(n)){var i=this[r];this.removeEventListener(e[1],i,i.$),delete this[r]}}}a.selection.enter=gt,a.selection.enter.prototype=vt,vt.append=X.append,vt.empty=X.empty,vt.node=X.node,vt.call=X.call,vt.size=X.size,vt.select=function(t){for(var e,n,r,i,a,s=[],o=-1,u=this.length;++o<u;){r=(i=this[o]).update,s.push(e=[]),e.parentNode=i.parentNode;for(var l=-1,c=i.length;++l<c;)(a=i[l])?(e.push(r[l]=n=t.call(i.parentNode,a.__data__,l,o)),n.__data__=a.__data__):e.push(null)}return Z(s)},vt.insert=function(t,e){return arguments.length<2&&(e=mt(this)),X.insert.call(this,t,e)},a.select=function(t){var e;return"string"==typeof t?(e=[G(t,u)]).parentNode=u.documentElement:(e=[t]).parentNode=l(t),Z([e])},a.selectAll=function(t){var e;return"string"==typeof t?(e=o(W(t,u))).parentNode=u.documentElement:(e=o(t)).parentNode=null,Z([e])},X.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=!1),t)this.each(yt(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(yt(t,e,n))};var xt=a.map({mouseenter:"mouseover",mouseleave:"mouseout"});function _t(t,e){return function(n){var r=a.event;a.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{a.event=r}}}function bt(t,e){var n=_t(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}u&&xt.forEach((function(t){"on"+t in u&&xt.remove(t)}));var wt,Ct=0;function kt(t){var e=".dragsuppress-"+ ++Ct,n="click"+e,r=a.select(c(t)).on("touchmove"+e,B).on("dragstart"+e,B).on("selectstart"+e,B);if(null==wt&&(wt=!("onselectstart"in t)&&O(t.style,"userSelect")),wt){var i=l(t).style,s=i[wt];i[wt]="none"}return function(t){if(r.on(e,null),wt&&(i[wt]=s),t){var a=function(){r.on(n,null)};r.on(n,(function(){B(),a()}),!0),setTimeout(a,0)}}}a.mouse=function(t){return Mt(t,H())};var At=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Mt(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(At<0){var i=c(t);if(i.scrollX||i.scrollY){var s=(n=a.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();At=!(s.f||s.e),n.remove()}}return At?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}function Et(){return a.event.changedTouches[0].identifier}a.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=H().changedTouches),e)for(var r,i=0,a=e.length;i<a;++i)if((r=e[i]).identifier===n)return Mt(t,r)},a.behavior.drag=function(){var t=V(i,"drag","dragstart","dragend"),e=null,n=s(j,a.mouse,c,"mousemove","mouseup"),r=s(Et,a.touch,q,"touchmove","touchend");function i(){this.on("mousedown.drag",n).on("touchstart.drag",r)}function s(n,r,i,s,o){return function(){var u,l=this,c=a.event.target.correspondingElement||a.event.target,h=l.parentNode,f=t.of(l,arguments),p=0,d=n(),g=".drag"+(null==d?"":"-"+d),v=a.select(i(c)).on(s+g,x).on(o+g,_),m=kt(c),y=r(h,d);function x(){var t,e,n=r(h,d);n&&(t=n[0]-y[0],e=n[1]-y[1],p|=t|e,y=n,f({type:"drag",x:n[0]+u[0],y:n[1]+u[1],dx:t,dy:e}))}function _(){r(h,d)&&(v.on(s+g,null).on(o+g,null),m(p),f({type:"dragend"}))}u=e?[(u=e.apply(l,arguments)).x-y[0],u.y-y[1]]:[0,0],f({type:"dragstart"})}}return i.origin=function(t){return arguments.length?(e=t,i):e},a.rebind(i,t,"on")},a.touches=function(t,e){return arguments.length<2&&(e=H().touches),e?o(e).map((function(e){var n=Mt(t,e);return n.identifier=e.identifier,n})):[]};var St=1e-6,Dt=St*St,Lt=Math.PI,Tt=2*Lt,zt=Tt-St,Nt=Lt/2,qt=Lt/180,Ft=180/Lt;function Ot(t){return t>0?1:t<0?-1:0}function Rt(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function jt(t){return t>1?0:t<-1?Lt:Math.acos(t)}function It(t){return t>1?Nt:t<-1?-Nt:Math.asin(t)}function Pt(t){return((t=Math.exp(t))+1/t)/2}function Bt(t){return(t=Math.sin(t/2))*t}var Ht=Math.SQRT2;a.interpolateZoom=function(t,e){var n,r,i=t[0],a=t[1],s=t[2],o=e[0],u=e[1],l=e[2],c=o-i,h=u-a,f=c*c+h*h;if(f<Dt)r=Math.log(l/s)/Ht,n=function(t){return[i+t*c,a+t*h,s*Math.exp(Ht*t*r)]};else{var p=Math.sqrt(f),d=(l*l-s*s+4*f)/(2*s*2*p),g=(l*l-s*s-4*f)/(2*l*2*p),v=Math.log(Math.sqrt(d*d+1)-d),m=Math.log(Math.sqrt(g*g+1)-g);r=(m-v)/Ht,n=function(t){var e,n=t*r,o=Pt(v),u=s/(2*p)*(o*(e=Ht*n+v,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(v));return[i+u*c,a+u*h,s*o/Pt(Ht*n+v)]}}return n.duration=1e3*r,n},a.behavior.zoom=function(){var t,e,n,r,i,s,o,l,h,f={x:0,y:0,k:1},p=[960,500],d=$t,g=250,v=0,m="mousedown.zoom",y="mousemove.zoom",x="mouseup.zoom",_="touchstart.zoom",b=V(w,"zoomstart","zoom","zoomend");function w(t){t.on(m,T).on(Ut+".zoom",N).on("dblclick.zoom",q).on(_,z)}function C(t){return[(t[0]-f.x)/f.k,(t[1]-f.y)/f.k]}function k(t){f.k=Math.max(d[0],Math.min(d[1],t))}function A(t,e){e=function(t){return[t[0]*f.k+f.x,t[1]*f.k+f.y]}(e),f.x+=t[0]-e[0],f.y+=t[1]-e[1]}function M(t,n,r,i){t.__chart__={x:f.x,y:f.y,k:f.k},k(Math.pow(2,i)),A(e=n,r),t=a.select(t),g>0&&(t=t.transition().duration(g)),t.call(w.event)}function E(){o&&o.domain(s.range().map((function(t){return(t-f.x)/f.k})).map(s.invert)),h&&h.domain(l.range().map((function(t){return(t-f.y)/f.k})).map(l.invert))}function S(t){v++||t({type:"zoomstart"})}function D(t){E(),t({type:"zoom",scale:f.k,translate:[f.x,f.y]})}function L(t){--v||(t({type:"zoomend"}),e=null)}function T(){var t=this,e=b.of(t,arguments),n=0,r=a.select(c(t)).on(y,o).on(x,u),i=C(a.mouse(t)),s=kt(t);function o(){n=1,A(a.mouse(t),i),D(e)}function u(){r.on(y,null).on(x,null),s(n),L(e)}Oo.call(t),S(e)}function z(){var t,e=this,n=b.of(e,arguments),r={},s=0,o=".zoom-"+a.event.changedTouches[0].identifier,u="touchmove"+o,l="touchend"+o,c=[],h=a.select(e),p=kt(e);function d(){var n=a.touches(e);return t=f.k,n.forEach((function(t){t.identifier in r&&(r[t.identifier]=C(t))})),n}function g(){var t=a.event.target;a.select(t).on(u,v).on(l,y),c.push(t);for(var n=a.event.changedTouches,o=0,h=n.length;o<h;++o)r[n[o].identifier]=null;var p=d(),g=Date.now();if(1===p.length){if(g-i<500){var m=p[0];M(e,m,r[m.identifier],Math.floor(Math.log(f.k)/Math.LN2)+1),B()}i=g}else if(p.length>1){m=p[0];var x=p[1],_=m[0]-x[0],b=m[1]-x[1];s=_*_+b*b}}function v(){var o,u,l,c,h=a.touches(e);Oo.call(e);for(var f=0,p=h.length;f<p;++f,c=null)if(l=h[f],c=r[l.identifier]){if(u)break;o=l,u=c}if(c){var d=(d=l[0]-o[0])*d+(d=l[1]-o[1])*d,g=s&&Math.sqrt(d/s);o=[(o[0]+l[0])/2,(o[1]+l[1])/2],u=[(u[0]+c[0])/2,(u[1]+c[1])/2],k(g*t)}i=null,A(o,u),D(n)}function y(){if(a.event.touches.length){for(var t=a.event.changedTouches,e=0,i=t.length;e<i;++e)delete r[t[e].identifier];for(var s in r)return void d()}a.selectAll(c).on(o,null),h.on(m,T).on(_,z),p(),L(n)}g(),S(n),h.on(m,null).on(_,g)}function N(){var i=b.of(this,arguments);r?clearTimeout(r):(Oo.call(this),t=C(e=n||a.mouse(this)),S(i)),r=setTimeout((function(){r=null,L(i)}),50),B(),k(Math.pow(2,.002*Vt())*f.k),A(e,t),D(i)}function q(){var t=a.mouse(this),e=Math.log(f.k)/Math.LN2;M(this,t,C(t),a.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}return Ut||(Ut="onwheel"in u?(Vt=function(){return-a.event.deltaY*(a.event.deltaMode?120:1)},"wheel"):"onmousewheel"in u?(Vt=function(){return a.event.wheelDelta},"mousewheel"):(Vt=function(){return-a.event.detail},"MozMousePixelScroll")),w.event=function(t){t.each((function(){var t=b.of(this,arguments),n=f;Io?a.select(this).transition().each("start.zoom",(function(){f=this.__chart__||{x:0,y:0,k:1},S(t)})).tween("zoom:zoom",(function(){var r=p[0],i=p[1],s=e?e[0]:r/2,o=e?e[1]:i/2,u=a.interpolateZoom([(s-f.x)/f.k,(o-f.y)/f.k,r/f.k],[(s-n.x)/n.k,(o-n.y)/n.k,r/n.k]);return function(e){var n=u(e),i=r/n[2];this.__chart__=f={x:s-n[0]*i,y:o-n[1]*i,k:i},D(t)}})).each("interrupt.zoom",(function(){L(t)})).each("end.zoom",(function(){L(t)})):(this.__chart__=f,S(t),D(t),L(t))}))},w.translate=function(t){return arguments.length?(f={x:+t[0],y:+t[1],k:f.k},E(),w):[f.x,f.y]},w.scale=function(t){return arguments.length?(f={x:f.x,y:f.y,k:null},k(+t),E(),w):f.k},w.scaleExtent=function(t){return arguments.length?(d=null==t?$t:[+t[0],+t[1]],w):d},w.center=function(t){return arguments.length?(n=t&&[+t[0],+t[1]],w):n},w.size=function(t){return arguments.length?(p=t&&[+t[0],+t[1]],w):p},w.duration=function(t){return arguments.length?(g=+t,w):g},w.x=function(t){return arguments.length?(o=t,s=t.copy(),f={x:0,y:0,k:1},w):o},w.y=function(t){return arguments.length?(h=t,l=t.copy(),f={x:0,y:0,k:1},w):h},a.rebind(w,b,"on")};var Vt,Ut,$t=[0,1/0];function Zt(){}function Gt(t,e,n){return this instanceof Gt?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof Gt?new Gt(t.h,t.s,t.l):de(""+t,ge,Gt):new Gt(t,e,n)}a.color=Zt,Zt.prototype.toString=function(){return this.rgb()+""},a.hsl=Gt;var Wt=Gt.prototype=new Zt;function Yt(t,e,n){var r,i;function a(t){return Math.round(255*function(t){return t>360?t-=360:t<0&&(t+=360),t<60?r+(i-r)*t/60:t<180?i:t<240?r+(i-r)*(240-t)/60:r}(t))}return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)||e<0?0:e>1?1:e,r=2*(n=n<0?0:n>1?1:n)-(i=n<=.5?n*(1+e):n+e-n*e),new le(a(t+120),a(t),a(t-120))}function Xt(t,e,n){return this instanceof Xt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof Xt?new Xt(t.h,t.c,t.l):ae(t instanceof Qt?t.l:(t=ve((t=a.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new Xt(t,e,n)}Wt.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new Gt(this.h,this.s,this.l/t)},Wt.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new Gt(this.h,this.s,t*this.l)},Wt.rgb=function(){return Yt(this.h,this.s,this.l)},a.hcl=Xt;var Jt=Xt.prototype=new Zt;function Kt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new Qt(n,Math.cos(t*=qt)*e,Math.sin(t)*e)}function Qt(t,e,n){return this instanceof Qt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof Qt?new Qt(t.l,t.a,t.b):t instanceof Xt?Kt(t.h,t.c,t.l):ve((t=le(t)).r,t.g,t.b):new Qt(t,e,n)}Jt.brighter=function(t){return new Xt(this.h,this.c,Math.min(100,this.l+te*(arguments.length?t:1)))},Jt.darker=function(t){return new Xt(this.h,this.c,Math.max(0,this.l-te*(arguments.length?t:1)))},Jt.rgb=function(){return Kt(this.h,this.c,this.l).rgb()},a.lab=Qt;var te=18,ee=.95047,ne=1.08883,re=Qt.prototype=new Zt;function ie(t,e,n){var r=(t+16)/116,i=r+e/500,a=r-n/200;return new le(ue(3.2404542*(i=se(i)*ee)-1.5371385*(r=1*se(r))-.4985314*(a=se(a)*ne)),ue(-.969266*i+1.8760108*r+.041556*a),ue(.0556434*i-.2040259*r+1.0572252*a))}function ae(t,e,n){return t>0?new Xt(Math.atan2(n,e)*Ft,Math.sqrt(e*e+n*n),t):new Xt(NaN,NaN,t)}function se(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function oe(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function ue(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function le(t,e,n){return this instanceof le?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof le?new le(t.r,t.g,t.b):de(""+t,le,Yt):new le(t,e,n)}function ce(t){return new le(t>>16,t>>8&255,255&t)}function he(t){return ce(t)+""}re.brighter=function(t){return new Qt(Math.min(100,this.l+te*(arguments.length?t:1)),this.a,this.b)},re.darker=function(t){return new Qt(Math.max(0,this.l-te*(arguments.length?t:1)),this.a,this.b)},re.rgb=function(){return ie(this.l,this.a,this.b)},a.rgb=le;var fe=le.prototype=new Zt;function pe(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function de(t,e,n){var r,i,a,s=0,o=0,u=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(ye(i[0]),ye(i[1]),ye(i[2]))}return(a=xe.get(t))?e(a.r,a.g,a.b):(null==t||"#"!==t.charAt(0)||isNaN(a=parseInt(t.slice(1),16))||(4===t.length?(s=(3840&a)>>4,s|=s>>4,o=240&a,o|=o>>4,u=15&a,u|=u<<4):7===t.length&&(s=(16711680&a)>>16,o=(65280&a)>>8,u=255&a)),e(s,o,u))}function ge(t,e,n){var r,i,a=Math.min(t/=255,e/=255,n/=255),s=Math.max(t,e,n),o=s-a,u=(s+a)/2;return o?(i=u<.5?o/(s+a):o/(2-s-a),r=t==s?(e-n)/o+(e<n?6:0):e==s?(n-t)/o+2:(t-e)/o+4,r*=60):(r=NaN,i=u>0&&u<1?0:r),new Gt(r,i,u)}function ve(t,e,n){var r=oe((.4124564*(t=me(t))+.3575761*(e=me(e))+.1804375*(n=me(n)))/ee),i=oe((.2126729*t+.7151522*e+.072175*n)/1);return Qt(116*i-16,500*(r-i),200*(i-oe((.0193339*t+.119192*e+.9503041*n)/ne)))}function me(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ye(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}fe.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&e<i&&(e=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new le(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new le(i,i,i)},fe.darker=function(t){return new le((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},fe.hsl=function(){return ge(this.r,this.g,this.b)},fe.toString=function(){return"#"+pe(this.r)+pe(this.g)+pe(this.b)};var xe=a.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function _e(t){return"function"==typeof t?t:function(){return t}}function be(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),we(e,n,t,r)}}function we(t,e,n,r){var i={},s=a.dispatch("beforesend","progress","load","error"),u={},l=new XMLHttpRequest,c=null;function h(){var t,e=l.status;if(!e&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(l)||e>=200&&e<300||304===e){try{t=n.call(i,l)}catch(t){return void s.error.call(i,t)}s.load.call(i,t)}else s.error.call(i,l)}return this.XDomainRequest&&!("withCredentials"in l)&&/^(http(s)?:)?\/\//.test(t)&&(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=h:l.onreadystatechange=function(){l.readyState>3&&h()},l.onprogress=function(t){var e=a.event;a.event=t;try{s.progress.call(i,l)}finally{a.event=e}},i.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?u[t]:(null==e?delete u[t]:u[t]=e+"",i)},i.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",i):e},i.responseType=function(t){return arguments.length?(c=t,i):c},i.response=function(t){return n=t,i},["get","post"].forEach((function(t){i[t]=function(){return i.send.apply(i,[t].concat(o(arguments)))}})),i.send=function(n,r,a){if(2===arguments.length&&"function"==typeof r&&(a=r,r=null),l.open(n,t,!0),null==e||"accept"in u||(u.accept=e+",*/*"),l.setRequestHeader)for(var o in u)l.setRequestHeader(o,u[o]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=c&&(l.responseType=c),null!=a&&i.on("error",a).on("load",(function(t){a(null,t)})),s.beforesend.call(i,l),l.send(null==r?null:r),i},i.abort=function(){return l.abort(),i},a.rebind(i,s,"on"),null==r?i:i.get(function(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}(r))}xe.forEach((function(t,e){xe.set(t,ce(e))})),a.functor=_e,a.xhr=be(q),a.dsv=function(t,e){var n=new RegExp('["'+t+"\n]"),r=t.charCodeAt(0);function i(t,n,r){arguments.length<3&&(r=n,n=null);var i=we(t,e,null==n?a:s(n),r);return i.row=function(t){return arguments.length?i.response(null==(n=t)?a:s(t)):n},i}function a(t){return i.parse(t.responseText)}function s(t){return function(e){return i.parse(e.responseText,t)}}function o(e){return e.map(u).join(t)}function u(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return i.parse=function(t,e){var n;return i.parseRows(t,(function(t,r){if(n)return n(t,r-1);var i=new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+"]"})).join(",")+"}");n=e?function(t,n){return e(i(t),n)}:i}))},i.parseRows=function(t,e){var n,i,a={},s={},o=[],u=t.length,l=0,c=0;function h(){if(l>=u)return s;if(i)return i=!1,a;var e=l;if(34===t.charCodeAt(e)){for(var n=e;n++<u;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}return l=n+2,13===(o=t.charCodeAt(n+1))?(i=!0,10===t.charCodeAt(n+2)&&++l):10===o&&(i=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;l<u;){var o,c=1;if(10===(o=t.charCodeAt(l++)))i=!0;else if(13===o)i=!0,10===t.charCodeAt(l)&&(++l,++c);else if(o!==r)continue;return t.slice(e,l-c)}return t.slice(e)}for(;(n=h())!==s;){for(var f=[];n!==a&&n!==s;)f.push(n),n=h();e&&null==(f=e(f,c++))||o.push(f)}return o},i.format=function(e){if(Array.isArray(e[0]))return i.formatRows(e);var n=new N,r=[];return e.forEach((function(t){for(var e in t)n.has(e)||r.push(n.add(e))})),[r.map(u).join(t)].concat(e.map((function(e){return r.map((function(t){return u(e[t])})).join(t)}))).join("\n")},i.formatRows=function(t){return t.map(o).join("\n")},i},a.csv=a.dsv(",","text/csv"),a.tsv=a.dsv("\t","text/tab-separated-values");var Ce,ke,Ae,Me,Ee=this[O(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function Se(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i=n+e,a={c:t,t:i,n:null};return ke?ke.n=a:Ce=a,ke=a,Ae||(Me=clearTimeout(Me),Ae=1,Ee(De)),a}function De(){var t=Le(),e=Te()-t;e>24?(isFinite(e)&&(clearTimeout(Me),Me=setTimeout(De,e)),Ae=0):(Ae=1,Ee(De))}function Le(){for(var t=Date.now(),e=Ce;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Te(){for(var t,e=Ce,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:Ce=e.n;return ke=t,n}function ze(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}a.timer=function(){Se.apply(this,arguments)},a.timer.flush=function(){Le(),Te()},a.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var Ne=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map((function(t,e){var n=Math.pow(10,3*w(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}));function qe(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,s=r&&n?function(t,e){for(var i=t.length,a=[],s=0,o=r[0],u=0;i>0&&o>0&&(u+o+1>e&&(o=Math.max(1,e-u)),a.push(t.substring(i-=o,i+o)),!((u+=o+1)>e));)o=r[s=(s+1)%r.length];return a.reverse().join(n)}:q;return function(t){var n=Fe.exec(t),r=n[1]||" ",o=n[2]||">",u=n[3]||"-",l=n[4]||"",c=n[5],h=+n[6],f=n[7],p=n[8],d=n[9],g=1,v="",m="",y=!1,x=!0;switch(p&&(p=+p.substring(1)),(c||"0"===r&&"="===o)&&(c=r="0",o="="),d){case"n":f=!0,d="g";break;case"%":g=100,m="%",d="f";break;case"p":g=100,m="%",d="r";break;case"b":case"o":case"x":case"X":"#"===l&&(v="0"+d.toLowerCase());case"c":x=!1;case"d":y=!0,p=0;break;case"s":g=-1,d="r"}"$"===l&&(v=i[0],m=i[1]),"r"!=d||p||(d="g"),null!=p&&("g"==d?p=Math.max(1,Math.min(21,p)):"e"!=d&&"f"!=d||(p=Math.max(0,Math.min(20,p)))),d=Oe.get(d)||Re;var _=c&&f;return function(t){var n=m;if(y&&t%1)return"";var i=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===u?"":u;if(g<0){var l=a.formatPrefix(t,p);t=l.scale(t),n=l.symbol+m}else t*=g;var b,w,C=(t=d(t,p)).lastIndexOf(".");if(C<0){var k=x?t.lastIndexOf("e"):-1;k<0?(b=t,w=""):(b=t.substring(0,k),w=t.substring(k))}else b=t.substring(0,C),w=e+t.substring(C+1);!c&&f&&(b=s(b,1/0));var A=v.length+b.length+w.length+(_?0:i.length),M=A<h?new Array(A=h-A+1).join(r):"";return _&&(b=s(M+b,M.length?h-w.length:1/0)),i+=v,t=b+w,("<"===o?i+t+M:">"===o?M+i+t:"^"===o?M.substring(0,A>>=1)+i+t+M.substring(A):i+(_?t:M+t))+n}}}a.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=a.round(t,ze(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),Ne[8+n/3]};var Fe=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Oe=a.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=a.round(t,ze(t,e))).toFixed(Math.max(0,Math.min(20,ze(t*(1+1e-15),e))))}});function Re(t){return t+""}var je=a.time={},Ie=Date;function Pe(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Pe.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Be.setUTCDate.apply(this._,arguments)},setDay:function(){Be.setUTCDay.apply(this._,arguments)},setFullYear:function(){Be.setUTCFullYear.apply(this._,arguments)},setHours:function(){Be.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Be.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Be.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Be.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Be.setUTCSeconds.apply(this._,arguments)},setTime:function(){Be.setTime.apply(this._,arguments)}};var Be=Date.prototype;function He(t,e,n){function r(e){var n=t(e),r=a(n,1);return e-n<r-e?n:r}function i(n){return e(n=t(new Ie(n-1)),1),n}function a(t,n){return e(t=new Ie(+t),n),t}function s(t,r,a){var s=i(t),o=[];if(a>1)for(;s<r;)n(s)%a||o.push(new Date(+s)),e(s,1);else for(;s<r;)o.push(new Date(+s)),e(s,1);return o}t.floor=t,t.round=r,t.ceil=i,t.offset=a,t.range=s;var o=t.utc=Ve(t);return o.floor=o,o.round=Ve(r),o.ceil=Ve(i),o.offset=Ve(a),o.range=function(t,e,n){try{Ie=Pe;var r=new Pe;return r._=t,s(r,e,n)}finally{Ie=Date}},t}function Ve(t){return function(e,n){try{Ie=Pe;var r=new Pe;return r._=e,t(r,n)._}finally{Ie=Date}}}function Ue(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,u=t.months,l=t.shortMonths;function c(t){var e=t.length;function n(n){for(var r,i,a,s=[],o=-1,u=0;++o<e;)37===t.charCodeAt(o)&&(s.push(t.slice(u,o)),null!=(i=$e[r=t.charAt(++o)])&&(r=t.charAt(++o)),(a=b[r])&&(r=a(n,null==i?"e"===r?" ":"0":i)),s.push(r),u=o+1);return s.push(t.slice(u,o)),s.join("")}return n.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(h(n,t,e,0)!=e.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var r=null!=n.Z&&Ie!==Pe,i=new(r?Pe:Ie);return"j"in n?i.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),i.setFullYear(n.y,0,1),i.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(i.getDay()+5)%7:n.w+7*n.U-(i.getDay()+6)%7)):i.setFullYear(n.y,n.m,n.d),i.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),r?i._:i},n.toString=function(){return t},n}function h(t,e,n,r){for(var i,a,s,o=0,u=e.length,l=n.length;o<u;){if(r>=l)return-1;if(37===(i=e.charCodeAt(o++))){if(s=e.charAt(o++),!(a=w[s in $e?e.charAt(o++):s])||(r=a(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}c.utc=function(t){var e=c(t);function n(t){try{var n=new(Ie=Pe);return n._=t,e(n)}finally{Ie=Date}}return n.parse=function(t){try{Ie=Pe;var n=e.parse(t);return n&&n._}finally{Ie=Date}},n.toString=e.toString,n},c.multi=c.utc.multi=pn;var f=a.map(),p=Ye(s),d=Xe(s),g=Ye(o),v=Xe(o),m=Ye(u),y=Xe(u),x=Ye(l),_=Xe(l);i.forEach((function(t,e){f.set(t.toLowerCase(),e)}));var b={a:function(t){return o[t.getDay()]},A:function(t){return s[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:c(e),d:function(t,e){return We(t.getDate(),e,2)},e:function(t,e){return We(t.getDate(),e,2)},H:function(t,e){return We(t.getHours(),e,2)},I:function(t,e){return We(t.getHours()%12||12,e,2)},j:function(t,e){return We(1+je.dayOfYear(t),e,3)},L:function(t,e){return We(t.getMilliseconds(),e,3)},m:function(t,e){return We(t.getMonth()+1,e,2)},M:function(t,e){return We(t.getMinutes(),e,2)},p:function(t){return i[+(t.getHours()>=12)]},S:function(t,e){return We(t.getSeconds(),e,2)},U:function(t,e){return We(je.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return We(je.mondayOfYear(t),e,2)},x:c(n),X:c(r),y:function(t,e){return We(t.getFullYear()%100,e,2)},Y:function(t,e){return We(t.getFullYear()%1e4,e,4)},Z:hn,"%":function(){return"%"}},w={a:function(t,e,n){g.lastIndex=0;var r=g.exec(e.slice(n));return r?(t.w=v.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){p.lastIndex=0;var r=p.exec(e.slice(n));return r?(t.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){x.lastIndex=0;var r=x.exec(e.slice(n));return r?(t.m=_.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){m.lastIndex=0;var r=m.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,e,n){return h(t,b.c.toString(),e,n)},d:an,e:an,H:on,I:on,j:sn,L:cn,m:rn,M:un,p:function(t,e,n){var r=f.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)},S:ln,U:Ke,w:Je,W:Qe,x:function(t,e,n){return h(t,b.x.toString(),e,n)},X:function(t,e,n){return h(t,b.X.toString(),e,n)},y:en,Y:tn,Z:nn,"%":fn};return c}je.year=He((function(t){return(t=je.day(t)).setMonth(0,1),t}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t){return t.getFullYear()})),je.years=je.year.range,je.years.utc=je.year.utc.range,je.day=He((function(t){var e=new Ie(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t){return t.getDate()-1})),je.days=je.day.range,je.days.utc=je.day.utc.range,je.dayOfYear=function(t){var e=je.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach((function(t,e){e=7-e;var n=je[t]=He((function(t){return(t=je.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t}),(function(t,e){t.setDate(t.getDate()+7*Math.floor(e))}),(function(t){var n=je.year(t).getDay();return Math.floor((je.dayOfYear(t)+(n+e)%7)/7)-(n!==e)}));je[t+"s"]=n.range,je[t+"s"].utc=n.utc.range,je[t+"OfYear"]=function(t){var n=je.year(t).getDay();return Math.floor((je.dayOfYear(t)+(n+e)%7)/7)}})),je.week=je.sunday,je.weeks=je.sunday.range,je.weeks.utc=je.sunday.utc.range,je.weekOfYear=je.sundayOfYear;var $e={"-":"",_:" ",0:"0"},Ze=/^\s*\d+/,Ge=/^%/;function We(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Ye(t){return new RegExp("^(?:"+t.map(a.requote).join("|")+")","i")}function Xe(t){for(var e=new A,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Je(t,e,n){Ze.lastIndex=0;var r=Ze.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ke(t,e,n){Ze.lastIndex=0;var r=Ze.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Qe(t,e,n){Ze.lastIndex=0;var r=Ze.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function tn(t,e,n){Ze.lastIndex=0;var r=Ze.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function en(t,e,n){Ze.lastIndex=0;var r,i=Ze.exec(e.slice(n,n+2));return i?(t.y=(r=+i[0])+(r>68?1900:2e3),n+i[0].length):-1}function nn(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function rn(t,e,n){Ze.lastIndex=0;var r=Ze.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function an(t,e,n){Ze.lastIndex=0;var r=Ze.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function sn(t,e,n){Ze.lastIndex=0;var r=Ze.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function on(t,e,n){Ze.lastIndex=0;var r=Ze.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function un(t,e,n){Ze.lastIndex=0;var r=Ze.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ln(t,e,n){Ze.lastIndex=0;var r=Ze.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function cn(t,e,n){Ze.lastIndex=0;var r=Ze.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function hn(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=w(e)/60|0,i=w(e)%60;return n+We(r,"0",2)+We(i,"0",2)}function fn(t,e,n){Ge.lastIndex=0;var r=Ge.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function pn(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}a.locale=function(t){return{numberFormat:qe(t),timeFormat:Ue(t)}};var dn=a.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function gn(){}a.format=dn.numberFormat,a.geo={},gn.prototype={s:0,t:0,add:function(t){mn(t,this.t,vn),mn(vn.s,this.s,this),this.s?this.t+=vn.t:this.s=vn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var vn=new gn;function mn(t,e,n){var r=n.s=t+e,i=r-t,a=r-i;n.t=t-a+(e-i)}function yn(t,e){t&&_n.hasOwnProperty(t.type)&&_n[t.type](t,e)}a.geo.stream=function(t,e){t&&xn.hasOwnProperty(t.type)?xn[t.type](t,e):yn(t,e)};var xn={Feature:function(t,e){yn(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)yn(n[r].geometry,e)}},_n={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){bn(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)bn(n[r],e,0)},Polygon:function(t,e){wn(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)wn(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)yn(n[r],e)}};function bn(t,e,n){var r,i=-1,a=t.length-n;for(e.lineStart();++i<a;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function wn(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)bn(t[n],e,1);e.polygonEnd()}a.geo.area=function(t){return Cn=0,a.geo.stream(t,On),Cn};var Cn,kn,An,Mn,En,Sn,Dn,Ln,Tn,zn,Nn,qn,Fn=new gn,On={sphere:function(){Cn+=4*Lt},point:j,lineStart:j,lineEnd:j,polygonStart:function(){Fn.reset(),On.lineStart=Rn},polygonEnd:function(){var t=2*Fn;Cn+=t<0?4*Lt+t:t,On.lineStart=On.lineEnd=On.point=j}};function Rn(){var t,e,n,r,i;function a(t,e){e=e*qt/2+Lt/4;var a=(t*=qt)-n,s=a>=0?1:-1,o=s*a,u=Math.cos(e),l=Math.sin(e),c=i*l,h=r*u+c*Math.cos(o),f=c*s*Math.sin(o);Fn.add(Math.atan2(f,h)),n=t,r=u,i=l}On.point=function(s,o){On.point=a,n=(t=s)*qt,r=Math.cos(o=(e=o)*qt/2+Lt/4),i=Math.sin(o)},On.lineEnd=function(){a(t,e)}}function jn(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function In(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Pn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Bn(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Hn(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Vn(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Un(t){return[Math.atan2(t[1],t[0]),It(t[2])]}function $n(t,e){return w(t[0]-e[0])<St&&w(t[1]-e[1])<St}a.geo.bounds=function(){var t,e,n,r,i,s,o,u,l,c,h,f={point:p,lineStart:g,lineEnd:v,polygonStart:function(){f.point=m,f.lineStart=y,f.lineEnd=x,l=0,On.polygonStart()},polygonEnd:function(){On.polygonEnd(),f.point=p,f.lineStart=g,f.lineEnd=v,Fn<0?(t=-(n=180),e=-(r=90)):l>St?r=90:l<-St&&(e=-90),h[0]=t,h[1]=n}};function p(i,a){c.push(h=[t=i,n=i]),a<e&&(e=a),a>r&&(r=a)}function d(a,s){var o=jn([a*qt,s*qt]);if(u){var l=Pn(u,o),c=Pn([l[1],-l[0],0],l);Vn(c),c=Un(c);var h=a-i,f=h>0?1:-1,d=c[0]*Ft*f,g=w(h)>180;if(g^(f*i<d&&d<f*a))(v=c[1]*Ft)>r&&(r=v);else if(g^(f*i<(d=(d+360)%360-180)&&d<f*a)){var v;(v=-c[1]*Ft)<e&&(e=v)}else s<e&&(e=s),s>r&&(r=s);g?a<i?_(t,a)>_(t,n)&&(n=a):_(a,n)>_(t,n)&&(t=a):n>=t?(a<t&&(t=a),a>n&&(n=a)):a>i?_(t,a)>_(t,n)&&(n=a):_(a,n)>_(t,n)&&(t=a)}else p(a,s);u=o,i=a}function g(){f.point=d}function v(){h[0]=t,h[1]=n,f.point=p,u=null}function m(t,e){if(u){var n=t-i;l+=w(n)>180?n+(n>0?360:-360):n}else s=t,o=e;On.point(t,e),d(t,e)}function y(){On.lineStart()}function x(){m(s,o),On.lineEnd(),w(l)>St&&(t=-(n=180)),h[0]=t,h[1]=n,u=null}function _(t,e){return(e-=t)<0?e+360:e}function b(t,e){return t[0]-e[0]}function C(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}return function(i){if(r=n=-(t=e=1/0),c=[],a.geo.stream(i,f),l=c.length){c.sort(b);for(var s=1,o=[g=c[0]];s<l;++s)C((p=c[s])[0],g)||C(p[1],g)?(_(g[0],p[1])>_(g[0],g[1])&&(g[1]=p[1]),_(p[0],g[1])>_(g[0],g[1])&&(g[0]=p[0])):o.push(g=p);for(var u,l,p,d=-1/0,g=(s=0,o[l=o.length-1]);s<=l;g=p,++s)p=o[s],(u=_(g[1],p[0]))>d&&(d=u,t=p[0],n=g[1])}return c=h=null,t===1/0||e===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,e],[n,r]]}}(),a.geo.centroid=function(t){kn=An=Mn=En=Sn=Dn=Ln=Tn=zn=Nn=qn=0,a.geo.stream(t,Zn);var e=zn,n=Nn,r=qn,i=e*e+n*n+r*r;return i<Dt&&(e=Dn,n=Ln,r=Tn,An<St&&(e=Mn,n=En,r=Sn),(i=e*e+n*n+r*r)<Dt)?[NaN,NaN]:[Math.atan2(n,e)*Ft,It(r/Math.sqrt(i))*Ft]};var Zn={sphere:j,point:Gn,lineStart:Yn,lineEnd:Xn,polygonStart:function(){Zn.lineStart=Jn},polygonEnd:function(){Zn.lineStart=Yn}};function Gn(t,e){t*=qt;var n=Math.cos(e*=qt);Wn(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Wn(t,e,n){++kn,Mn+=(t-Mn)/kn,En+=(e-En)/kn,Sn+=(n-Sn)/kn}function Yn(){var t,e,n;function r(r,i){r*=qt;var a=Math.cos(i*=qt),s=a*Math.cos(r),o=a*Math.sin(r),u=Math.sin(i),l=Math.atan2(Math.sqrt((l=e*u-n*o)*l+(l=n*s-t*u)*l+(l=t*o-e*s)*l),t*s+e*o+n*u);An+=l,Dn+=l*(t+(t=s)),Ln+=l*(e+(e=o)),Tn+=l*(n+(n=u)),Wn(t,e,n)}Zn.point=function(i,a){i*=qt;var s=Math.cos(a*=qt);t=s*Math.cos(i),e=s*Math.sin(i),n=Math.sin(a),Zn.point=r,Wn(t,e,n)}}function Xn(){Zn.point=Gn}function Jn(){var t,e,n,r,i;function a(t,e){t*=qt;var a=Math.cos(e*=qt),s=a*Math.cos(t),o=a*Math.sin(t),u=Math.sin(e),l=r*u-i*o,c=i*s-n*u,h=n*o-r*s,f=Math.sqrt(l*l+c*c+h*h),p=n*s+r*o+i*u,d=f&&-jt(p)/f,g=Math.atan2(f,p);zn+=d*l,Nn+=d*c,qn+=d*h,An+=g,Dn+=g*(n+(n=s)),Ln+=g*(r+(r=o)),Tn+=g*(i+(i=u)),Wn(n,r,i)}Zn.point=function(s,o){t=s,e=o,Zn.point=a,s*=qt;var u=Math.cos(o*=qt);n=u*Math.cos(s),r=u*Math.sin(s),i=Math.sin(o),Wn(n,r,i)},Zn.lineEnd=function(){a(t,e),Zn.lineEnd=Xn,Zn.point=Gn}}function Kn(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function Qn(){return!0}function tr(t,e,n,r,i){var a=[],s=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if($n(n,r)){i.lineStart();for(var o=0;o<e;++o)i.point((n=t[o])[0],n[1]);i.lineEnd()}else{var u=new nr(n,t,null,!0),l=new nr(n,null,u,!1);u.o=l,a.push(u),s.push(l),u=new nr(r,t,null,!1),l=new nr(r,null,u,!0),u.o=l,a.push(u),s.push(l)}}})),s.sort(e),er(a),er(s),a.length){for(var o=0,u=n,l=s.length;o<l;++o)s[o].e=u=!u;for(var c,h,f=a[0];;){for(var p=f,d=!0;p.v;)if((p=p.n)===f)return;c=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(d)for(o=0,l=c.length;o<l;++o)i.point((h=c[o])[0],h[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(d)for(o=(c=p.p.z).length-1;o>=0;--o)i.point((h=c[o])[0],h[1]);else r(p.x,p.p.x,-1,i);p=p.p}c=(p=p.o).z,d=!d}while(!p.v);i.lineEnd()}}}function er(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function nr(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function rr(t,e,n,r){return function(i,s){var o,u=e(s),l=i.invert(r[0],r[1]),c={point:h,lineStart:p,lineEnd:d,polygonStart:function(){c.point=_,c.lineStart=b,c.lineEnd=w,o=[],g=[]},polygonEnd:function(){c.point=h,c.lineStart=p,c.lineEnd=d,o=a.merge(o);var t=function(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],a=0,s=0;Fn.reset();for(var o=0,u=e.length;o<u;++o){var l=e[o],c=l.length;if(c)for(var h=l[0],f=h[0],p=h[1]/2+Lt/4,d=Math.sin(p),g=Math.cos(p),v=1;;){v===c&&(v=0);var m=(t=l[v])[0],y=t[1]/2+Lt/4,x=Math.sin(y),_=Math.cos(y),b=m-f,w=b>=0?1:-1,C=w*b,k=C>Lt,A=d*x;if(Fn.add(Math.atan2(A*w*Math.sin(C),g*_+A*Math.cos(C))),a+=k?b+w*Tt:b,k^f>=n^m>=n){var M=Pn(jn(h),jn(t));Vn(M);var E=Pn(i,M);Vn(E);var S=(k^b>=0?-1:1)*It(E[2]);(r>S||r===S&&(M[0]||M[1]))&&(s+=k^b>=0?1:-1)}if(!v++)break;f=m,d=x,g=_,h=t}}return(a<-St||a<St&&Fn<-St)^1&s}(l,g);o.length?(x||(s.polygonStart(),x=!0),tr(o,sr,t,n,s)):t&&(x||(s.polygonStart(),x=!0),s.lineStart(),n(null,null,1,s),s.lineEnd()),x&&(s.polygonEnd(),x=!1),o=g=null},sphere:function(){s.polygonStart(),s.lineStart(),n(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function h(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&s.point(e,n)}function f(t,e){var n=i(t,e);u.point(n[0],n[1])}function p(){c.point=f,u.lineStart()}function d(){c.point=h,u.lineEnd()}var g,v,m=ar(),y=e(m),x=!1;function _(t,e){v.push([t,e]);var n=i(t,e);y.point(n[0],n[1])}function b(){y.lineStart(),v=[]}function w(){_(v[0][0],v[0][1]),y.lineEnd();var t,e=y.clean(),n=m.buffer(),r=n.length;if(v.pop(),g.push(v),v=null,r)if(1&e){var i,a=-1;if((r=(t=n[0]).length-1)>0){for(x||(s.polygonStart(),x=!0),s.lineStart();++a<r;)s.point((i=t[a])[0],i[1]);s.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),o.push(n.filter(ir))}return c}}function ir(t){return t.length>1}function ar(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:j,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function sr(t,e){return((t=t.x)[0]<0?t[1]-Nt-St:Nt-t[1])-((e=e.x)[0]<0?e[1]-Nt-St:Nt-e[1])}var or=rr(Qn,(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(a,s){var o=a>0?Lt:-Lt,u=w(a-n);w(u-Lt)<St?(t.point(n,r=(r+s)/2>0?Nt:-Nt),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(o,r),t.point(a,r),e=0):i!==o&&u>=Lt&&(w(n-i)<St&&(n-=i*St),w(a-o)<St&&(a-=o*St),r=function(t,e,n,r){var i,a,s=Math.sin(t-n);return w(s)>St?Math.atan((Math.sin(e)*(a=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*a*s)):(e+r)/2}(n,r,a,s),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(o,r),e=0),t.point(n=a,r=s),i=o},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*Nt,r.point(-Lt,i),r.point(0,i),r.point(Lt,i),r.point(Lt,0),r.point(Lt,-i),r.point(0,-i),r.point(-Lt,-i),r.point(-Lt,0),r.point(-Lt,i);else if(w(t[0]-e[0])>St){var a=t[0]<e[0]?Lt:-Lt;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}),[-Lt,-Lt/2]);function ur(t){var e=Math.cos(t),n=e>0,r=w(e)>St;return rr(i,(function(t){var e,o,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(h,f){var p,d=[h,f],g=i(h,f),v=n?g?0:s(h,f):g?s(h+(h<0?Lt:-Lt),f):0;if(!e&&(l=u=g)&&t.lineStart(),g!==u&&(p=a(e,d),($n(e,p)||$n(d,p))&&(d[0]+=St,d[1]+=St,g=i(d[0],d[1]))),g!==u)c=0,g?(t.lineStart(),p=a(d,e),t.point(p[0],p[1])):(p=a(e,d),t.point(p[0],p[1]),t.lineEnd()),e=p;else if(r&&e&&n^g){var m;v&o||!(m=a(d,e,!0))||(c=0,n?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!g||e&&$n(e,d)||t.point(d[0],d[1]),e=d,u=g,o=v},lineEnd:function(){u&&t.lineEnd(),e=null},clean:function(){return c|(l&&u)<<1}}}),$r(t,6*qt),n?[0,-t]:[-Lt,t-Lt]);function i(t,n){return Math.cos(t)*Math.cos(n)>e}function a(t,n,r){var i=[1,0,0],a=Pn(jn(t),jn(n)),s=In(a,a),o=a[0],u=s-o*o;if(!u)return!r&&t;var l=e*s/u,c=-e*o/u,h=Pn(i,a),f=Hn(i,l);Bn(f,Hn(a,c));var p=h,d=In(f,p),g=In(p,p),v=d*d-g*(In(f,f)-1);if(!(v<0)){var m=Math.sqrt(v),y=Hn(p,(-d-m)/g);if(Bn(y,f),y=Un(y),!r)return y;var x,_=t[0],b=n[0],C=t[1],k=n[1];b<_&&(x=_,_=b,b=x);var A=b-_,M=w(A-Lt)<St;if(!M&&k<C&&(x=C,C=k,k=x),M||A<St?M?C+k>0^y[1]<(w(y[0]-_)<St?C:k):C<=y[1]&&y[1]<=k:A>Lt^(_<=y[0]&&y[0]<=b)){var E=Hn(p,(-d+m)/g);return Bn(E,f),[y,Un(E)]}}}function s(e,r){var i=n?t:Lt-t,a=0;return e<-i?a|=1:e>i&&(a|=2),r<-i?a|=4:r>i&&(a|=8),a}}function lr(t,e,n,r){return function(i){var a,s=i.a,o=i.b,u=s.x,l=s.y,c=0,h=1,f=o.x-u,p=o.y-l;if(a=t-u,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<h&&(h=a)}else if(f>0){if(a>h)return;a>c&&(c=a)}if(a=n-u,f||!(a<0)){if(a/=f,f<0){if(a>h)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<h&&(h=a)}if(a=e-l,p||!(a>0)){if(a/=p,p<0){if(a<c)return;a<h&&(h=a)}else if(p>0){if(a>h)return;a>c&&(c=a)}if(a=r-l,p||!(a<0)){if(a/=p,p<0){if(a>h)return;a>c&&(c=a)}else if(p>0){if(a<c)return;a<h&&(h=a)}return c>0&&(i.a={x:u+c*f,y:l+c*p}),h<1&&(i.b={x:u+h*f,y:l+h*p}),i}}}}}}var cr=1e9;function hr(t,e,n,r){return function(u){var l,c,h,f,p,d,g,v,m,y,x,_=u,b=ar(),w=lr(t,e,n,r),C={point:M,lineStart:function(){C.point=E,c&&c.push(h=[]);y=!0,m=!1,g=v=NaN},lineEnd:function(){l&&(E(f,p),d&&m&&b.rejoin(),l.push(b.buffer()));C.point=M,m&&u.lineEnd()},polygonStart:function(){u=b,l=[],c=[],x=!0},polygonEnd:function(){u=_,l=a.merge(l);var e=function(t){for(var e=0,n=c.length,r=t[1],i=0;i<n;++i)for(var a,s=1,o=c[i],u=o.length,l=o[0];s<u;++s)a=o[s],l[1]<=r?a[1]>r&&Rt(l,a,t)>0&&++e:a[1]<=r&&Rt(l,a,t)<0&&--e,l=a;return 0!==e}([t,r]),n=x&&e,i=l.length;(n||i)&&(u.polygonStart(),n&&(u.lineStart(),k(null,null,1,u),u.lineEnd()),i&&tr(l,s,e,k,u),u.polygonEnd()),l=c=h=null}};function k(a,s,u,l){var c=0,h=0;if(null==a||(c=i(a,u))!==(h=i(s,u))||o(a,s)<0^u>0)do{l.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+u+4)%4)!==h);else l.point(s[0],s[1])}function A(i,a){return t<=i&&i<=n&&e<=a&&a<=r}function M(t,e){A(t,e)&&u.point(t,e)}function E(t,e){var n=A(t=Math.max(-1e9,Math.min(cr,t)),e=Math.max(-1e9,Math.min(cr,e)));if(c&&h.push([t,e]),y)f=t,p=e,d=n,y=!1,n&&(u.lineStart(),u.point(t,e));else if(n&&m)u.point(t,e);else{var r={a:{x:g,y:v},b:{x:t,y:e}};w(r)?(m||(u.lineStart(),u.point(r.a.x,r.a.y)),u.point(r.b.x,r.b.y),n||u.lineEnd(),x=!1):n&&(u.lineStart(),u.point(t,e),x=!1)}g=t,v=e,m=n}return C};function i(r,i){return w(r[0]-t)<St?i>0?0:3:w(r[0]-n)<St?i>0?2:1:w(r[1]-e)<St?i>0?1:0:i>0?3:2}function s(t,e){return o(t.x,e.x)}function o(t,e){var n=i(t,1),r=i(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}}function fr(t){var e=0,n=Lt/3,r=Rr(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Lt/180,n=t[1]*Lt/180):[e/Lt*180,n/Lt*180]},i}function pr(t,e){var n=Math.sin(t),r=(n+Math.sin(e))/2,i=1+n*(2*r-n),a=Math.sqrt(i)/r;function s(t,e){var n=Math.sqrt(i-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),a-n*Math.cos(t)]}return s.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/r,It((i-(t*t+n*n)*r*r)/(2*r))]},s}a.geo.clipExtent=function(){var t,e,n,r,i,a,s={stream:function(t){return i&&(i.valid=!1),(i=a(t)).valid=!0,i},extent:function(o){return arguments.length?(a=hr(t=+o[0][0],e=+o[0][1],n=+o[1][0],r=+o[1][1]),i&&(i.valid=!1,i=null),s):[[t,e],[n,r]]}};return s.extent([[0,0],[960,500]])},(a.geo.conicEqualArea=function(){return fr(pr)}).raw=pr,a.geo.albers=function(){return a.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},a.geo.albersUsa=function(){var t,e,n,r,i=a.geo.albers(),s=a.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o=a.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(e,n){t=[e,n]}};function l(i){var a=i[0],s=i[1];return t=null,e(a,s),t||(n(a,s),t)||r(a,s),t}return l.invert=function(t){var e=i.scale(),n=i.translate(),r=(t[0]-n[0])/e,a=(t[1]-n[1])/e;return(a>=.12&&a<.234&&r>=-.425&&r<-.214?s:a>=.166&&a<.234&&r>=-.214&&r<-.115?o:i).invert(t)},l.stream=function(t){var e=i.stream(t),n=s.stream(t),r=o.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),r.point(t,i)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},l.precision=function(t){return arguments.length?(i.precision(t),s.precision(t),o.precision(t),l):i.precision()},l.scale=function(t){return arguments.length?(i.scale(t),s.scale(.35*t),o.scale(t),l.translate(i.translate())):i.scale()},l.translate=function(t){if(!arguments.length)return i.translate();var a=i.scale(),c=+t[0],h=+t[1];return e=i.translate(t).clipExtent([[c-.455*a,h-.238*a],[c+.455*a,h+.238*a]]).stream(u).point,n=s.translate([c-.307*a,h+.201*a]).clipExtent([[c-.425*a+St,h+.12*a+St],[c-.214*a-St,h+.234*a-St]]).stream(u).point,r=o.translate([c-.205*a,h+.212*a]).clipExtent([[c-.214*a+St,h+.166*a+St],[c-.115*a-St,h+.234*a-St]]).stream(u).point,l},l.scale(1070)};var dr,gr,vr,mr,yr,xr,_r={point:j,lineStart:j,lineEnd:j,polygonStart:function(){gr=0,_r.lineStart=br},polygonEnd:function(){_r.lineStart=_r.lineEnd=_r.point=j,dr+=w(gr/2)}};function br(){var t,e,n,r;function i(t,e){gr+=r*t-n*e,n=t,r=e}_r.point=function(a,s){_r.point=i,t=n=a,e=r=s},_r.lineEnd=function(){i(t,e)}}var wr={point:function(t,e){t<vr&&(vr=t);t>yr&&(yr=t);e<mr&&(mr=e);e>xr&&(xr=e)},lineStart:j,lineEnd:j,polygonStart:j,polygonEnd:j};function Cr(){var t=kr(4.5),e=[],n={point:r,lineStart:function(){n.point=i},lineEnd:s,polygonStart:function(){n.lineEnd=o},polygonEnd:function(){n.lineEnd=s,n.point=r},pointRadius:function(e){return t=kr(e),n},result:function(){if(e.length){var t=e.join("");return e=[],t}}};function r(n,r){e.push("M",n,",",r,t)}function i(t,r){e.push("M",t,",",r),n.point=a}function a(t,n){e.push("L",t,",",n)}function s(){n.point=r}function o(){e.push("Z")}return n}function kr(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var Ar,Mr={point:Er,lineStart:Sr,lineEnd:Dr,polygonStart:function(){Mr.lineStart=Lr},polygonEnd:function(){Mr.point=Er,Mr.lineStart=Sr,Mr.lineEnd=Dr}};function Er(t,e){Mn+=t,En+=e,++Sn}function Sr(){var t,e;function n(n,r){var i=n-t,a=r-e,s=Math.sqrt(i*i+a*a);Dn+=s*(t+n)/2,Ln+=s*(e+r)/2,Tn+=s,Er(t=n,e=r)}Mr.point=function(r,i){Mr.point=n,Er(t=r,e=i)}}function Dr(){Mr.point=Er}function Lr(){var t,e,n,r;function i(t,e){var i=t-n,a=e-r,s=Math.sqrt(i*i+a*a);Dn+=s*(n+t)/2,Ln+=s*(r+e)/2,Tn+=s,zn+=(s=r*t-n*e)*(n+t),Nn+=s*(r+e),qn+=3*s,Er(n=t,r=e)}Mr.point=function(a,s){Mr.point=i,Er(t=n=a,e=r=s)},Mr.lineEnd=function(){i(t,e)}}function Tr(t){var e=4.5,n={point:r,lineStart:function(){n.point=i},lineEnd:s,polygonStart:function(){n.lineEnd=o},polygonEnd:function(){n.lineEnd=s,n.point=r},pointRadius:function(t){return e=t,n},result:j};function r(n,r){t.moveTo(n+e,r),t.arc(n,r,e,0,Tt)}function i(e,r){t.moveTo(e,r),n.point=a}function a(e,n){t.lineTo(e,n)}function s(){n.point=r}function o(){t.closePath()}return n}function zr(t){var e=.5,n=Math.cos(30*qt),r=16;function i(t){return(r?s:a)(t)}function a(e){return Fr(e,(function(n,r){n=t(n,r),e.point(n[0],n[1])}))}function s(e){var n,i,a,s,u,l,c,h,f,p,d,g,v={point:m,lineStart:y,lineEnd:_,polygonStart:function(){e.polygonStart(),v.lineStart=b},polygonEnd:function(){e.polygonEnd(),v.lineStart=y}};function m(n,r){n=t(n,r),e.point(n[0],n[1])}function y(){h=NaN,v.point=x,e.lineStart()}function x(n,i){var a=jn([n,i]),s=t(n,i);o(h,f,c,p,d,g,h=s[0],f=s[1],c=n,p=a[0],d=a[1],g=a[2],r,e),e.point(h,f)}function _(){v.point=m,e.lineEnd()}function b(){y(),v.point=w,v.lineEnd=C}function w(t,e){x(n=t,e),i=h,a=f,s=p,u=d,l=g,v.point=x}function C(){o(h,f,c,p,d,g,i,a,n,s,u,l,r,e),v.lineEnd=_,_()}return v}function o(r,i,a,s,u,l,c,h,f,p,d,g,v,m){var y=c-r,x=h-i,_=y*y+x*x;if(_>4*e&&v--){var b=s+p,C=u+d,k=l+g,A=Math.sqrt(b*b+C*C+k*k),M=Math.asin(k/=A),E=w(w(k)-1)<St||w(a-f)<St?(a+f)/2:Math.atan2(C,b),S=t(E,M),D=S[0],L=S[1],T=D-r,z=L-i,N=x*T-y*z;(N*N/_>e||w((y*T+x*z)/_-.5)>.3||s*p+u*d+l*g<n)&&(o(r,i,a,s,u,l,D,L,E,b/=A,C/=A,k,v,m),m.point(D,L),o(D,L,E,b,C,k,c,h,f,p,d,g,v,m))}}return i.precision=function(t){return arguments.length?(r=(e=t*t)>0&&16,i):Math.sqrt(e)},i}function Nr(t){var e=zr((function(e,n){return t([e*Ft,n*Ft])}));return function(t){return jr(e(t))}}function qr(t){this.stream=t}function Fr(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Or(t){return Rr((function(){return t}))()}function Rr(t){var e,n,r,i,s,o,u=zr((function(t,n){return[(t=e(t,n))[0]*l+i,s-t[1]*l]})),l=150,c=480,h=250,f=0,p=0,d=0,g=0,v=0,m=or,y=q,x=null,_=null;function b(t){return[(t=r(t[0]*qt,t[1]*qt))[0]*l+i,s-t[1]*l]}function w(t){return(t=r.invert((t[0]-i)/l,(s-t[1])/l))&&[t[0]*Ft,t[1]*Ft]}function C(){r=Kn(n=Br(d,g,v),e);var t=e(f,p);return i=c-t[0]*l,s=h+t[1]*l,k()}function k(){return o&&(o.valid=!1,o=null),b}return b.stream=function(t){return o&&(o.valid=!1),(o=jr(m(n,u(y(t))))).valid=!0,o},b.clipAngle=function(t){return arguments.length?(m=null==t?(x=t,or):ur((x=+t)*qt),k()):x},b.clipExtent=function(t){return arguments.length?(_=t,y=t?hr(t[0][0],t[0][1],t[1][0],t[1][1]):q,k()):_},b.scale=function(t){return arguments.length?(l=+t,C()):l},b.translate=function(t){return arguments.length?(c=+t[0],h=+t[1],C()):[c,h]},b.center=function(t){return arguments.length?(f=t[0]%360*qt,p=t[1]%360*qt,C()):[f*Ft,p*Ft]},b.rotate=function(t){return arguments.length?(d=t[0]%360*qt,g=t[1]%360*qt,v=t.length>2?t[2]%360*qt:0,C()):[d*Ft,g*Ft,v*Ft]},a.rebind(b,u,"precision"),function(){return e=t.apply(this,arguments),b.invert=e.invert&&w,C()}}function jr(t){return Fr(t,(function(e,n){t.point(e*qt,n*qt)}))}function Ir(t,e){return[t,e]}function Pr(t,e){return[t>Lt?t-Tt:t<-Lt?t+Tt:t,e]}function Br(t,e,n){return t?e||n?Kn(Vr(t),Ur(e,n)):Vr(t):e||n?Ur(e,n):Pr}function Hr(t){return function(e,n){return[(e+=t)>Lt?e-Tt:e<-Lt?e+Tt:e,n]}}function Vr(t){var e=Hr(t);return e.invert=Hr(-t),e}function Ur(t,e){var n=Math.cos(t),r=Math.sin(t),i=Math.cos(e),a=Math.sin(e);function s(t,e){var s=Math.cos(e),o=Math.cos(t)*s,u=Math.sin(t)*s,l=Math.sin(e),c=l*n+o*r;return[Math.atan2(u*i-c*a,o*n-l*r),It(c*i+u*a)]}return s.invert=function(t,e){var s=Math.cos(e),o=Math.cos(t)*s,u=Math.sin(t)*s,l=Math.sin(e),c=l*i-u*a;return[Math.atan2(u*i+l*a,o*n+c*r),It(c*n-o*r)]},s}function $r(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,a,s,o){var u=s*e;null!=i?(i=Zr(n,i),a=Zr(n,a),(s>0?i<a:i>a)&&(i+=s*Tt)):(i=t+s*Tt,a=t-.5*u);for(var l,c=i;s>0?c>a:c<a;c-=u)o.point((l=Un([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],l[1])}}function Zr(t,e){var n=jn(e);n[0]-=t,Vn(n);var r=jt(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-St)%(2*Math.PI)}function Gr(t,e,n){var r=a.range(t,e-St,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function Wr(t,e,n){var r=a.range(t,e-St,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function Yr(t){return t.source}function Xr(t){return t.target}a.geo.path=function(){var t,e,n,r,i,s=4.5;function o(t){return t&&("function"==typeof s&&r.pointRadius(+s.apply(this,arguments)),i&&i.valid||(i=n(r)),a.geo.stream(t,i)),r.result()}function u(){return i=null,o}return o.area=function(t){return dr=0,a.geo.stream(t,n(_r)),dr},o.centroid=function(t){return Mn=En=Sn=Dn=Ln=Tn=zn=Nn=qn=0,a.geo.stream(t,n(Mr)),qn?[zn/qn,Nn/qn]:Tn?[Dn/Tn,Ln/Tn]:Sn?[Mn/Sn,En/Sn]:[NaN,NaN]},o.bounds=function(t){return yr=xr=-(vr=mr=1/0),a.geo.stream(t,n(wr)),[[vr,mr],[yr,xr]]},o.projection=function(e){return arguments.length?(n=(t=e)?e.stream||Nr(e):q,u()):t},o.context=function(t){return arguments.length?(r=null==(e=t)?new Cr:new Tr(t),"function"!=typeof s&&r.pointRadius(s),u()):e},o.pointRadius=function(t){return arguments.length?(s="function"==typeof t?t:(r.pointRadius(+t),+t),o):s},o.projection(a.geo.albersUsa()).context(null)},a.geo.transform=function(t){return{stream:function(e){var n=new qr(e);for(var r in t)n[r]=t[r];return n}}},qr.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},a.geo.projection=Or,a.geo.projectionMutator=Rr,(a.geo.equirectangular=function(){return Or(Ir)}).raw=Ir.invert=Ir,a.geo.rotation=function(t){function e(e){return(e=t(e[0]*qt,e[1]*qt))[0]*=Ft,e[1]*=Ft,e}return t=Br(t[0]%360*qt,t[1]*qt,t.length>2?t[2]*qt:0),e.invert=function(e){return(e=t.invert(e[0]*qt,e[1]*qt))[0]*=Ft,e[1]*=Ft,e},e},Pr.invert=Ir,a.geo.circle=function(){var t,e,n=[0,0],r=6;function i(){var t="function"==typeof n?n.apply(this,arguments):n,r=Br(-t[0]*qt,-t[1]*qt,0).invert,i=[];return e(null,null,1,{point:function(t,e){i.push(t=r(t,e)),t[0]*=Ft,t[1]*=Ft}}),{type:"Polygon",coordinates:[i]}}return i.origin=function(t){return arguments.length?(n=t,i):n},i.angle=function(n){return arguments.length?(e=$r((t=+n)*qt,r*qt),i):t},i.precision=function(n){return arguments.length?(e=$r(t*qt,(r=+n)*qt),i):r},i.angle(90)},a.geo.distance=function(t,e){var n,r=(e[0]-t[0])*qt,i=t[1]*qt,a=e[1]*qt,s=Math.sin(r),o=Math.cos(r),u=Math.sin(i),l=Math.cos(i),c=Math.sin(a),h=Math.cos(a);return Math.atan2(Math.sqrt((n=h*s)*n+(n=l*c-u*h*o)*n),u*c+l*h*o)},a.geo.graticule=function(){var t,e,n,r,i,s,o,u,l,c,h,f,p=10,d=p,g=90,v=360,m=2.5;function y(){return{type:"MultiLineString",coordinates:x()}}function x(){return a.range(Math.ceil(r/g)*g,n,g).map(h).concat(a.range(Math.ceil(u/v)*v,o,v).map(f)).concat(a.range(Math.ceil(e/p)*p,t,p).filter((function(t){return w(t%g)>St})).map(l)).concat(a.range(Math.ceil(s/d)*d,i,d).filter((function(t){return w(t%v)>St})).map(c))}return y.lines=function(){return x().map((function(t){return{type:"LineString",coordinates:t}}))},y.outline=function(){return{type:"Polygon",coordinates:[h(r).concat(f(o).slice(1),h(n).reverse().slice(1),f(u).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.majorExtent(t).minorExtent(t):y.minorExtent()},y.majorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],u=+t[0][1],o=+t[1][1],r>n&&(t=r,r=n,n=t),u>o&&(t=u,u=o,o=t),y.precision(m)):[[r,u],[n,o]]},y.minorExtent=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],s=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),s>i&&(n=s,s=i,i=n),y.precision(m)):[[e,s],[t,i]]},y.step=function(t){return arguments.length?y.majorStep(t).minorStep(t):y.minorStep()},y.majorStep=function(t){return arguments.length?(g=+t[0],v=+t[1],y):[g,v]},y.minorStep=function(t){return arguments.length?(p=+t[0],d=+t[1],y):[p,d]},y.precision=function(a){return arguments.length?(m=+a,l=Gr(s,i,90),c=Wr(e,t,m),h=Gr(u,o,90),f=Wr(r,n,m),y):m},y.majorExtent([[-180,-90+St],[180,90-St]]).minorExtent([[-180,-80-St],[180,80+St]])},a.geo.greatArc=function(){var t,e,n=Yr,r=Xr;function i(){return{type:"LineString",coordinates:[t||n.apply(this,arguments),e||r.apply(this,arguments)]}}return i.distance=function(){return a.geo.distance(t||n.apply(this,arguments),e||r.apply(this,arguments))},i.source=function(e){return arguments.length?(n=e,t="function"==typeof e?null:e,i):n},i.target=function(t){return arguments.length?(r=t,e="function"==typeof t?null:t,i):r},i.precision=function(){return arguments.length?i:0},i},a.geo.interpolate=function(t,e){return n=t[0]*qt,r=t[1]*qt,i=e[0]*qt,a=e[1]*qt,s=Math.cos(r),o=Math.sin(r),u=Math.cos(a),l=Math.sin(a),c=s*Math.cos(n),h=s*Math.sin(n),f=u*Math.cos(i),p=u*Math.sin(i),d=2*Math.asin(Math.sqrt(Bt(a-r)+s*u*Bt(i-n))),g=1/Math.sin(d),(v=d?function(t){var e=Math.sin(t*=d)*g,n=Math.sin(d-t)*g,r=n*c+e*f,i=n*h+e*p,a=n*o+e*l;return[Math.atan2(i,r)*Ft,Math.atan2(a,Math.sqrt(r*r+i*i))*Ft]}:function(){return[n*Ft,r*Ft]}).distance=d,v;var n,r,i,a,s,o,u,l,c,h,f,p,d,g,v},a.geo.length=function(t){return Ar=0,a.geo.stream(t,Jr),Ar};var Jr={sphere:j,point:j,lineStart:function(){var t,e,n;function r(r,i){var a=Math.sin(i*=qt),s=Math.cos(i),o=w((r*=qt)-t),u=Math.cos(o);Ar+=Math.atan2(Math.sqrt((o=s*Math.sin(o))*o+(o=n*a-e*s*u)*o),e*a+n*s*u),t=r,e=a,n=s}Jr.point=function(i,a){t=i*qt,e=Math.sin(a*=qt),n=Math.cos(a),Jr.point=r},Jr.lineEnd=function(){Jr.point=Jr.lineEnd=j}},lineEnd:j,polygonStart:j,polygonEnd:j};function Kr(t,e){function n(e,n){var r=Math.cos(e),i=Math.cos(n),a=t(r*i);return[a*i*Math.sin(e),a*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),a=Math.sin(i),s=Math.cos(i);return[Math.atan2(t*a,r*s),Math.asin(r&&n*a/r)]},n}var Qr=Kr((function(t){return Math.sqrt(2/(1+t))}),(function(t){return 2*Math.asin(t/2)}));(a.geo.azimuthalEqualArea=function(){return Or(Qr)}).raw=Qr;var ti=Kr((function(t){var e=Math.acos(t);return e&&e/Math.sin(e)}),q);function ei(t,e){var n=Math.cos(t),r=function(t){return Math.tan(Lt/4+t/2)},i=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(r(e)/r(t)),a=n*Math.pow(r(t),i)/i;if(!i)return ii;function s(t,e){a>0?e<-Nt+St&&(e=-Nt+St):e>Nt-St&&(e=Nt-St);var n=a/Math.pow(r(e),i);return[n*Math.sin(i*t),a-n*Math.cos(i*t)]}return s.invert=function(t,e){var n=a-e,r=Ot(i)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/i,2*Math.atan(Math.pow(a/r,1/i))-Nt]},s}function ni(t,e){var n=Math.cos(t),r=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),i=n/r+t;if(w(r)<St)return Ir;function a(t,e){var n=i-e;return[n*Math.sin(r*t),i-n*Math.cos(r*t)]}return a.invert=function(t,e){var n=i-e;return[Math.atan2(t,n)/r,i-Ot(r)*Math.sqrt(t*t+n*n)]},a}(a.geo.azimuthalEquidistant=function(){return Or(ti)}).raw=ti,(a.geo.conicConformal=function(){return fr(ei)}).raw=ei,(a.geo.conicEquidistant=function(){return fr(ni)}).raw=ni;var ri=Kr((function(t){return 1/t}),Math.atan);function ii(t,e){return[t,Math.log(Math.tan(Lt/4+e/2))]}function ai(t){var e,n=Or(t),r=n.scale,i=n.translate,a=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var s=a.apply(n,arguments);if(s===n){if(e=null==t){var o=Lt*r(),u=i();a([[u[0]-o,u[1]-o],[u[0]+o,u[1]+o]])}}else e&&(s=null);return s},n.clipExtent(null)}(a.geo.gnomonic=function(){return Or(ri)}).raw=ri,ii.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Nt]},(a.geo.mercator=function(){return ai(ii)}).raw=ii;var si=Kr((function(){return 1}),Math.asin);(a.geo.orthographic=function(){return Or(si)}).raw=si;var oi=Kr((function(t){return 1/(1+t)}),(function(t){return 2*Math.atan(t)}));function ui(t,e){return[Math.log(Math.tan(Lt/4+e/2)),-t]}function li(t){return t[0]}function ci(t){return t[1]}function hi(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;r>1&&Rt(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function fi(t,e){return t[0]-e[0]||t[1]-e[1]}(a.geo.stereographic=function(){return Or(oi)}).raw=oi,ui.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Nt]},(a.geo.transverseMercator=function(){var t=ai(ui),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=ui,a.geom={},a.geom.hull=function(t){var e=li,n=ci;if(arguments.length)return r(t);function r(t){if(t.length<3)return[];var r,i=_e(e),a=_e(n),s=t.length,o=[],u=[];for(r=0;r<s;r++)o.push([+i.call(this,t[r],r),+a.call(this,t[r],r),r]);for(o.sort(fi),r=0;r<s;r++)u.push([o[r][0],-o[r][1]]);var l=hi(o),c=hi(u),h=c[0]===l[0],f=c[c.length-1]===l[l.length-1],p=[];for(r=l.length-1;r>=0;--r)p.push(t[o[l[r]][2]]);for(r=+h;r<c.length-f;++r)p.push(t[o[c[r]][2]]);return p}return r.x=function(t){return arguments.length?(e=t,r):e},r.y=function(t){return arguments.length?(n=t,r):n},r},a.geom.polygon=function(t){return $(t,pi),t};var pi=a.geom.polygon.prototype=[];function di(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function gi(t,e,n,r){var i=t[0],a=n[0],s=e[0]-i,o=r[0]-a,u=t[1],l=n[1],c=e[1]-u,h=r[1]-l,f=(o*(u-l)-h*(i-a))/(h*s-o*c);return[i+f*s,u+f*c]}function vi(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}pi.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},pi.centroid=function(t){var e,n,r=-1,i=this.length,a=0,s=0,o=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=o,o=this[r],n=e[0]*o[1]-o[0]*e[1],a+=(e[0]+o[0])*n,s+=(e[1]+o[1])*n;return[a*t,s*t]},pi.clip=function(t){for(var e,n,r,i,a,s,o=vi(t),u=-1,l=this.length-vi(this),c=this[l-1];++u<l;){for(e=t.slice(),t.length=0,i=this[u],a=e[(r=e.length-o)-1],n=-1;++n<r;)di(s=e[n],c,i)?(di(a,c,i)||t.push(gi(a,s,c,i)),t.push(s)):di(a,c,i)&&t.push(gi(a,s,c,i)),a=s;o&&t.push(t[0]),c=i}return t};var mi,yi,xi,_i,bi,wi=[],Ci=[];function ki(){Vi(this),this.edge=this.site=this.circle=null}function Ai(t){var e=wi.pop()||new ki;return e.site=t,e}function Mi(t){Fi(t),xi.remove(t),wi.push(t),Vi(t)}function Ei(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},a=t.P,s=t.N,o=[t];Mi(t);for(var u=a;u.circle&&w(n-u.circle.x)<St&&w(r-u.circle.cy)<St;)a=u.P,o.unshift(u),Mi(u),u=a;o.unshift(u),Fi(u);for(var l=s;l.circle&&w(n-l.circle.x)<St&&w(r-l.circle.cy)<St;)s=l.N,o.push(l),Mi(l),l=s;o.push(l),Fi(l);var c,h=o.length;for(c=1;c<h;++c)l=o[c],u=o[c-1],Pi(l.edge,u.site,l.site,i);u=o[0],(l=o[h-1]).edge=ji(u.site,l.site,null,i),qi(u),qi(l)}function Si(t){for(var e,n,r,i,a=t.x,s=t.y,o=xi._;o;)if((r=Di(o,s)-a)>St)o=o.L;else{if(!((i=a-Li(o,s))>St)){r>-St?(e=o.P,n=o):i>-St?(e=o,n=o.N):e=n=o;break}if(!o.R){e=o;break}o=o.R}var u=Ai(t);if(xi.insert(e,u),e||n){if(e===n)return Fi(e),n=Ai(e.site),xi.insert(u,n),u.edge=n.edge=ji(e.site,u.site),qi(e),void qi(n);if(n){Fi(e),Fi(n);var l=e.site,c=l.x,h=l.y,f=t.x-c,p=t.y-h,d=n.site,g=d.x-c,v=d.y-h,m=2*(f*v-p*g),y=f*f+p*p,x=g*g+v*v,_={x:(v*y-p*x)/m+c,y:(f*x-g*y)/m+h};Pi(n.edge,l,d,_),u.edge=ji(l,t,null,_),n.edge=ji(t,d,null,_),qi(e),qi(n)}else u.edge=ji(e.site,u.site)}}function Di(t,e){var n=t.site,r=n.x,i=n.y,a=i-e;if(!a)return r;var s=t.P;if(!s)return-1/0;var o=(n=s.site).x,u=n.y,l=u-e;if(!l)return o;var c=o-r,h=1/a-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+i-a/2)))/h+r:(r+o)/2}function Li(t,e){var n=t.N;if(n)return Di(n,e);var r=t.site;return r.y===e?r.x:1/0}function Ti(t){this.site=t,this.edges=[]}function zi(t,e){return e.angle-t.angle}function Ni(){Vi(this),this.x=this.y=this.arc=this.site=this.cy=null}function qi(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,a=n.site;if(r!==a){var s=i.x,o=i.y,u=r.x-s,l=r.y-o,c=a.x-s,h=2*(u*(v=a.y-o)-l*c);if(!(h>=-Dt)){var f=u*u+l*l,p=c*c+v*v,d=(v*f-l*p)/h,g=(u*p-c*f)/h,v=g+o,m=Ci.pop()||new Ni;m.arc=t,m.site=i,m.x=d+s,m.y=v+Math.sqrt(d*d+g*g),m.cy=v,t.circle=m;for(var y=null,x=bi._;x;)if(m.y<x.y||m.y===x.y&&m.x<=x.x){if(!x.L){y=x.P;break}x=x.L}else{if(!x.R){y=x;break}x=x.R}bi.insert(y,m),y||(_i=m)}}}}function Fi(t){var e=t.circle;e&&(e.P||(_i=e.N),bi.remove(e),Ci.push(e),Vi(e),t.circle=null)}function Oi(t,e){var n=t.b;if(n)return!0;var r,i,a=t.a,s=e[0][0],o=e[1][0],u=e[0][1],l=e[1][1],c=t.l,h=t.r,f=c.x,p=c.y,d=h.x,g=h.y,v=(f+d)/2,m=(p+g)/2;if(g===p){if(v<s||v>=o)return;if(f>d){if(a){if(a.y>=l)return}else a={x:v,y:u};n={x:v,y:l}}else{if(a){if(a.y<u)return}else a={x:v,y:l};n={x:v,y:u}}}else if(i=m-(r=(f-d)/(g-p))*v,r<-1||r>1)if(f>d){if(a){if(a.y>=l)return}else a={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else{if(a){if(a.y<u)return}else a={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else if(p<g){if(a){if(a.x>=o)return}else a={x:s,y:r*s+i};n={x:o,y:r*o+i}}else{if(a){if(a.x<s)return}else a={x:o,y:r*o+i};n={x:s,y:r*s+i}}return t.a=a,t.b=n,!0}function Ri(t,e){this.l=t,this.r=e,this.a=this.b=null}function ji(t,e,n,r){var i=new Ri(t,e);return mi.push(i),n&&Pi(i,t,e,n),r&&Pi(i,e,t,r),yi[t.i].edges.push(new Bi(i,t,e)),yi[e.i].edges.push(new Bi(i,e,t)),i}function Ii(t,e,n){var r=new Ri(t,null);return r.a=e,r.b=n,mi.push(r),r}function Pi(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function Bi(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function Hi(){this._=null}function Vi(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Ui(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function $i(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Zi(t){for(;t.L;)t=t.L;return t}function Gi(t,e){var n,r,i,a=t.sort(Wi).pop();for(mi=[],yi=new Array(t.length),xi=new Hi,bi=new Hi;;)if(i=_i,a&&(!i||a.y<i.y||a.y===i.y&&a.x<i.x))a.x===n&&a.y===r||(yi[a.i]=new Ti(a),Si(a),n=a.x,r=a.y),a=t.pop();else{if(!i)break;Ei(i.arc)}e&&(function(t){for(var e,n=mi,r=lr(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)(!Oi(e=n[i],t)||!r(e)||w(e.a.x-e.b.x)<St&&w(e.a.y-e.b.y)<St)&&(e.a=e.b=null,n.splice(i,1))}(e),function(t){for(var e,n,r,i,a,s,o,u,l,c,h=t[0][0],f=t[1][0],p=t[0][1],d=t[1][1],g=yi,v=g.length;v--;)if((a=g[v])&&a.prepare())for(u=(o=a.edges).length,s=0;s<u;)r=(c=o[s].end()).x,i=c.y,e=(l=o[++s%u].start()).x,n=l.y,(w(r-e)>St||w(i-n)>St)&&(o.splice(s,0,new Bi(Ii(a.site,c,w(r-h)<St&&d-i>St?{x:h,y:w(e-h)<St?n:d}:w(i-d)<St&&f-r>St?{x:w(n-d)<St?e:f,y:d}:w(r-f)<St&&i-p>St?{x:f,y:w(e-f)<St?n:p}:w(i-p)<St&&r-h>St?{x:w(n-p)<St?e:h,y:p}:null),a.site,null)),++u)}(e));var s={cells:yi,edges:mi};return xi=bi=mi=yi=null,s}function Wi(t,e){return e.y-t.y||e.x-t.x}Ti.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(zi),e.length},Bi.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Hi.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Zi(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Ui(this,n),n=(t=n).U),n.C=!1,r.C=!0,$i(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&($i(this,n),n=(t=n).U),n.C=!1,r.C=!0,Ui(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,a=t.L,s=t.R;if(n=a?s?Zi(s):a:s,i?i.L===t?i.L=n:i.R=n:this._=n,a&&s?(r=n.C,n.C=t.C,n.L=a,a.U=n,n!==s?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=s,s.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Ui(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,$i(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Ui(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,$i(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Ui(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,$i(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},a.geom.voronoi=function(t){var e=li,n=ci,r=e,i=n,a=Yi;if(t)return s(t);function s(t){var e=new Array(t.length),n=a[0][0],r=a[0][1],i=a[1][0],s=a[1][1];return Gi(o(t),a).cells.forEach((function(a,o){var u=a.edges,l=a.site;(e[o]=u.length?u.map((function(t){var e=t.start();return[e.x,e.y]})):l.x>=n&&l.x<=i&&l.y>=r&&l.y<=s?[[n,s],[i,s],[i,r],[n,r]]:[]).point=t[o]})),e}function o(t){return t.map((function(t,e){return{x:Math.round(r(t,e)/St)*St,y:Math.round(i(t,e)/St)*St,i:e}}))}return s.links=function(t){return Gi(o(t)).edges.filter((function(t){return t.l&&t.r})).map((function(e){return{source:t[e.l.i],target:t[e.r.i]}}))},s.triangles=function(t){var e=[];return Gi(o(t)).cells.forEach((function(n,r){for(var i,a,s,o,u=n.site,l=n.edges.sort(zi),c=-1,h=l.length,f=l[h-1].edge,p=f.l===u?f.r:f.l;++c<h;)f,i=p,p=(f=l[c].edge).l===u?f.r:f.l,r<i.i&&r<p.i&&(s=i,o=p,((a=u).x-o.x)*(s.y-a.y)-(a.x-s.x)*(o.y-a.y)<0)&&e.push([t[r],t[i.i],t[p.i]])})),e},s.x=function(t){return arguments.length?(r=_e(e=t),s):e},s.y=function(t){return arguments.length?(i=_e(n=t),s):n},s.clipExtent=function(t){return arguments.length?(a=null==t?Yi:t,s):a===Yi?null:a},s.size=function(t){return arguments.length?s.clipExtent(t&&[[0,0],t]):a===Yi?null:a&&a[1]},s};var Yi=[[-1e6,-1e6],[1e6,1e6]];function Xi(t){return t.x}function Ji(t){return t.y}function Ki(t,e,n,r,i,a){if(!t(e,n,r,i,a)){var s=.5*(n+i),o=.5*(r+a),u=e.nodes;u[0]&&Ki(t,u[0],n,r,s,o),u[1]&&Ki(t,u[1],s,r,i,o),u[2]&&Ki(t,u[2],n,o,s,a),u[3]&&Ki(t,u[3],s,o,i,a)}}function Qi(t,e,n,r,i,a,s){var o,u=1/0;return function t(l,c,h,f,p){if(!(c>a||h>s||f<r||p<i)){if(d=l.point){var d,g=e-l.x,v=n-l.y,m=g*g+v*v;if(m<u){var y=Math.sqrt(u=m);r=e-y,i=n-y,a=e+y,s=n+y,o=d}}for(var x=l.nodes,_=.5*(c+f),b=.5*(h+p),w=(n>=b)<<1|e>=_,C=w+4;w<C;++w)if(l=x[3&w])switch(3&w){case 0:t(l,c,h,_,b);break;case 1:t(l,_,h,f,b);break;case 2:t(l,c,b,_,p);break;case 3:t(l,_,b,f,p)}}}(t,r,i,a,s),o}function ta(t,e){t=a.rgb(t),e=a.rgb(e);var n=t.r,r=t.g,i=t.b,s=e.r-n,o=e.g-r,u=e.b-i;return function(t){return"#"+pe(Math.round(n+s*t))+pe(Math.round(r+o*t))+pe(Math.round(i+u*t))}}function ea(t,e){var n,r={},i={};for(n in t)n in e?r[n]=sa(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function na(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ra(t,e){var n,r,i,a=ia.lastIndex=aa.lastIndex=0,s=-1,o=[],u=[];for(t+="",e+="";(n=ia.exec(t))&&(r=aa.exec(e));)(i=r.index)>a&&(i=e.slice(a,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(r=r[0])?o[s]?o[s]+=r:o[++s]=r:(o[++s]=null,u.push({i:s,x:na(n,r)})),a=aa.lastIndex;return a<e.length&&(i=e.slice(a),o[s]?o[s]+=i:o[++s]=i),o.length<2?u[0]?(e=u[0].x,function(t){return e(t)+""}):function(){return e}:(e=u.length,function(t){for(var n,r=0;r<e;++r)o[(n=u[r]).i]=n.x(t);return o.join("")})}a.geom.delaunay=function(t){return a.geom.voronoi().triangles(t)},a.geom.quadtree=function(t,e,n,r,i){var a,s=li,o=ci;if(a=arguments.length)return s=Xi,o=Ji,3===a&&(i=n,r=e,n=e=0),u(t);function u(t){var u,l,c,h,f,p,d,g,v,m=_e(s),y=_e(o);if(null!=e)p=e,d=n,g=r,v=i;else if(g=v=-(p=d=1/0),l=[],c=[],f=t.length,a)for(h=0;h<f;++h)(u=t[h]).x<p&&(p=u.x),u.y<d&&(d=u.y),u.x>g&&(g=u.x),u.y>v&&(v=u.y),l.push(u.x),c.push(u.y);else for(h=0;h<f;++h){var x=+m(u=t[h],h),_=+y(u,h);x<p&&(p=x),_<d&&(d=_),x>g&&(g=x),_>v&&(v=_),l.push(x),c.push(_)}var b=g-p,C=v-d;function k(t,e,n,r,i,a,s,o){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var u=t.x,l=t.y;if(null!=u)if(w(u-n)+w(l-r)<.01)A(t,e,n,r,i,a,s,o);else{var c=t.point;t.x=t.y=t.point=null,A(t,c,u,l,i,a,s,o),A(t,e,n,r,i,a,s,o)}else t.x=n,t.y=r,t.point=e}else A(t,e,n,r,i,a,s,o)}function A(t,e,n,r,i,a,s,o){var u=.5*(i+s),l=.5*(a+o),c=n>=u,h=r>=l,f=h<<1|c;t.leaf=!1,c?i=u:s=u,h?a=l:o=l,k(t=t.nodes[f]||(t.nodes[f]={leaf:!0,nodes:[],point:null,x:null,y:null}),e,n,r,i,a,s,o)}b>C?v=d+b:g=p+C;var M={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){k(M,t,+m(t,++h),+y(t,h),p,d,g,v)},visit:function(t){Ki(t,M,p,d,g,v)},find:function(t){return Qi(M,t[0],t[1],p,d,g,v)}};if(h=-1,null==e){for(;++h<f;)k(M,t[h],l[h],c[h],p,d,g,v);--h}else t.forEach(M.add);return l=c=t=u=null,M}return u.x=function(t){return arguments.length?(s=t,u):s},u.y=function(t){return arguments.length?(o=t,u):o},u.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),u):null==e?null:[[e,n],[r,i]]},u.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),u):null==e?null:[r-e,i-n]},u},a.interpolateRgb=ta,a.interpolateObject=ea,a.interpolateNumber=na,a.interpolateString=ra;var ia=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,aa=new RegExp(ia.source,"g");function sa(t,e){for(var n,r=a.interpolators.length;--r>=0&&!(n=a.interpolators[r](t,e)););return n}function oa(t,e){var n,r=[],i=[],a=t.length,s=e.length,o=Math.min(t.length,e.length);for(n=0;n<o;++n)r.push(sa(t[n],e[n]));for(;n<a;++n)i[n]=t[n];for(;n<s;++n)i[n]=e[n];return function(t){for(n=0;n<o;++n)i[n]=r[n](t);return i}}a.interpolate=sa,a.interpolators=[function(t,e){var n=typeof e;return("string"===n?xe.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?ta:ra:e instanceof Zt?ta:Array.isArray(e)?oa:"object"===n&&isNaN(e)?ea:na)(t,e)}],a.interpolateArray=oa;var ua=function(){return q},la=a.map({linear:ua,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return da},cubic:function(){return ga},sin:function(){return ma},exp:function(){return ya},circle:function(){return xa},elastic:function(t,e){var n;arguments.length<2&&(e=.45);arguments.length?n=e/Tt*Math.asin(1/t):(t=1,n=e/4);return function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*Tt/e)}},back:function(t){t||(t=1.70158);return function(e){return e*e*((t+1)*e-t)}},bounce:function(){return _a}}),ca=a.map({in:q,out:fa,"in-out":pa,"out-in":function(t){return pa(fa(t))}});function ha(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function fa(t){return function(e){return 1-t(1-e)}}function pa(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function da(t){return t*t}function ga(t){return t*t*t}function va(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function ma(t){return 1-Math.cos(t*Nt)}function ya(t){return Math.pow(2,10*(t-1))}function xa(t){return 1-Math.sqrt(1-t*t)}function _a(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function ba(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function wa(t){var e,n,r,i=[t.a,t.b],a=[t.c,t.d],s=ka(i),o=Ca(i,a),u=ka(((e=a)[0]+=(r=-o)*(n=i)[0],e[1]+=r*n[1],e))||0;i[0]*a[1]<a[0]*i[1]&&(i[0]*=-1,i[1]*=-1,s*=-1,o*=-1),this.rotate=(s?Math.atan2(i[1],i[0]):Math.atan2(-a[0],a[1]))*Ft,this.translate=[t.e,t.f],this.scale=[s,u],this.skew=u?Math.atan2(o,u)*Ft:0}function Ca(t,e){return t[0]*e[0]+t[1]*e[1]}function ka(t){var e=Math.sqrt(Ca(t,t));return e&&(t[0]/=e,t[1]/=e),e}a.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=la.get(n)||ua,ha((r=ca.get(r)||q)(n.apply(null,s.call(arguments,1))))},a.interpolateHcl=function(t,e){t=a.hcl(t),e=a.hcl(e);var n=t.h,r=t.c,i=t.l,s=e.h-n,o=e.c-r,u=e.l-i;isNaN(o)&&(o=0,r=isNaN(r)?e.c:r);isNaN(s)?(s=0,n=isNaN(n)?e.h:n):s>180?s-=360:s<-180&&(s+=360);return function(t){return Kt(n+s*t,r+o*t,i+u*t)+""}},a.interpolateHsl=function(t,e){t=a.hsl(t),e=a.hsl(e);var n=t.h,r=t.s,i=t.l,s=e.h-n,o=e.s-r,u=e.l-i;isNaN(o)&&(o=0,r=isNaN(r)?e.s:r);isNaN(s)?(s=0,n=isNaN(n)?e.h:n):s>180?s-=360:s<-180&&(s+=360);return function(t){return Yt(n+s*t,r+o*t,i+u*t)+""}},a.interpolateLab=function(t,e){t=a.lab(t),e=a.lab(e);var n=t.l,r=t.a,i=t.b,s=e.l-n,o=e.a-r,u=e.b-i;return function(t){return ie(n+s*t,r+o*t,i+u*t)+""}},a.interpolateRound=ba,a.transform=function(t){var e=u.createElementNS(a.ns.prefix.svg,"g");return(a.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new wa(n?n.matrix:Aa)})(t)},wa.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Aa={a:1,b:0,c:0,d:1,e:0,f:0};function Ma(t){return t.length?t.pop()+",":""}function Ea(t,e){var n=[],r=[];return t=a.transform(t),e=a.transform(e),function(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:na(t[0],e[0])},{i:i-2,x:na(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}(t.translate,e.translate,n,r),function(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(Ma(n)+"rotate(",null,")")-2,x:na(t,e)})):e&&n.push(Ma(n)+"rotate("+e+")")}(t.rotate,e.rotate,n,r),function(t,e,n,r){t!==e?r.push({i:n.push(Ma(n)+"skewX(",null,")")-2,x:na(t,e)}):e&&n.push(Ma(n)+"skewX("+e+")")}(t.skew,e.skew,n,r),function(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push(Ma(n)+"scale(",null,",",null,")");r.push({i:i-4,x:na(t[0],e[0])},{i:i-2,x:na(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(Ma(n)+"scale("+e+")")}(t.scale,e.scale,n,r),t=e=null,function(t){for(var e,i=-1,a=r.length;++i<a;)n[(e=r[i]).i]=e.x(t);return n.join("")}}function Sa(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Da(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function La(t){for(var e=t.source,n=t.target,r=function(t,e){if(t===e)return t;var n=Ta(t),r=Ta(e),i=n.pop(),a=r.pop(),s=null;for(;i===a;)s=i,i=n.pop(),a=r.pop();return s}(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var a=i.length;n!==r;)i.splice(a,0,n),n=n.parent;return i}function Ta(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function za(t){t.fixed|=2}function Na(t){t.fixed&=-7}function qa(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Fa(t){t.fixed&=-5}function Oa(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var a,s=t.nodes,o=s.length,u=-1;++u<o;)null!=(a=s[u])&&(Oa(a,e,n),t.charge+=a.charge,r+=a.charge*a.cx,i+=a.charge*a.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var l=e*n[t.point.index];t.charge+=t.pointCharge=l,r+=l*t.point.x,i+=l*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}a.interpolateTransform=Ea,a.layout={},a.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(La(t[n]));return e}},a.layout.chord=function(){var t,e,n,r,i,s,o,u={},l=0;function c(){var u,c,f,p,d,g={},v=[],m=a.range(r),y=[];for(t=[],e=[],u=0,p=-1;++p<r;){for(c=0,d=-1;++d<r;)c+=n[p][d];v.push(c),y.push(a.range(r)),u+=c}for(i&&m.sort((function(t,e){return i(v[t],v[e])})),s&&y.forEach((function(t,e){t.sort((function(t,r){return s(n[e][t],n[e][r])}))})),u=(Tt-l*r)/u,c=0,p=-1;++p<r;){for(f=c,d=-1;++d<r;){var x=m[p],_=y[x][d],b=n[x][_],w=c,C=c+=b*u;g[x+"-"+_]={index:x,subindex:_,startAngle:w,endAngle:C,value:b}}e[x]={index:x,startAngle:f,endAngle:c,value:v[x]},c+=l}for(p=-1;++p<r;)for(d=p-1;++d<r;){var k=g[p+"-"+d],A=g[d+"-"+p];(k.value||A.value)&&t.push(k.value<A.value?{source:A,target:k}:{source:k,target:A})}o&&h()}function h(){t.sort((function(t,e){return o((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)}))}return u.matrix=function(i){return arguments.length?(r=(n=i)&&n.length,t=e=null,u):n},u.padding=function(n){return arguments.length?(l=n,t=e=null,u):l},u.sortGroups=function(n){return arguments.length?(i=n,t=e=null,u):i},u.sortSubgroups=function(e){return arguments.length?(s=e,t=null,u):s},u.sortChords=function(e){return arguments.length?(o=e,t&&h(),u):o},u.chords=function(){return t||c(),t},u.groups=function(){return e||c(),e},u},a.layout.force=function(){var t,e,n,r,i,s,o={},u=a.dispatch("start","tick","end"),l=[1,1],c=.9,h=Ra,f=ja,p=-30,d=Ia,g=.1,v=.64,m=[],y=[];function x(t){return function(e,n,r,i){if(e.point!==t){var a=e.cx-t.x,s=e.cy-t.y,o=i-n,u=a*a+s*s;if(o*o/v<u){if(u<d){var l=e.charge/u;t.px-=a*l,t.py-=s*l}return!0}if(e.point&&u&&u<d){l=e.pointCharge/u;t.px-=a*l,t.py-=s*l}}return!e.charge}}function _(t){t.px=a.event.x,t.py=a.event.y,o.resume()}return o.tick=function(){if((n*=.99)<.005)return t=null,u.end({type:"end",alpha:n=0}),!0;var e,o,h,f,d,v,_,b,w,C=m.length,k=y.length;for(o=0;o<k;++o)f=(h=y[o]).source,(v=(b=(d=h.target).x-f.x)*b+(w=d.y-f.y)*w)&&(b*=v=n*i[o]*((v=Math.sqrt(v))-r[o])/v,w*=v,d.x-=b*(_=f.weight+d.weight?f.weight/(f.weight+d.weight):.5),d.y-=w*_,f.x+=b*(_=1-_),f.y+=w*_);if((_=n*g)&&(b=l[0]/2,w=l[1]/2,o=-1,_))for(;++o<C;)(h=m[o]).x+=(b-h.x)*_,h.y+=(w-h.y)*_;if(p)for(Oa(e=a.geom.quadtree(m),n,s),o=-1;++o<C;)(h=m[o]).fixed||e.visit(x(h));for(o=-1;++o<C;)(h=m[o]).fixed?(h.x=h.px,h.y=h.py):(h.x-=(h.px-(h.px=h.x))*c,h.y-=(h.py-(h.py=h.y))*c);u.tick({type:"tick",alpha:n})},o.nodes=function(t){return arguments.length?(m=t,o):m},o.links=function(t){return arguments.length?(y=t,o):y},o.size=function(t){return arguments.length?(l=t,o):l},o.linkDistance=function(t){return arguments.length?(h="function"==typeof t?t:+t,o):h},o.distance=o.linkDistance,o.linkStrength=function(t){return arguments.length?(f="function"==typeof t?t:+t,o):f},o.friction=function(t){return arguments.length?(c=+t,o):c},o.charge=function(t){return arguments.length?(p="function"==typeof t?t:+t,o):p},o.chargeDistance=function(t){return arguments.length?(d=t*t,o):Math.sqrt(d)},o.gravity=function(t){return arguments.length?(g=+t,o):g},o.theta=function(t){return arguments.length?(v=t*t,o):Math.sqrt(v)},o.alpha=function(e){return arguments.length?(e=+e,n?e>0?n=e:(t.c=null,t.t=NaN,t=null,u.end({type:"end",alpha:n=0})):e>0&&(u.start({type:"start",alpha:n=e}),t=Se(o.tick)),o):n},o.start=function(){var t,e,n,a=m.length,u=y.length,c=l[0],d=l[1];for(t=0;t<a;++t)(n=m[t]).index=t,n.weight=0;for(t=0;t<u;++t)"number"==typeof(n=y[t]).source&&(n.source=m[n.source]),"number"==typeof n.target&&(n.target=m[n.target]),++n.source.weight,++n.target.weight;for(t=0;t<a;++t)n=m[t],isNaN(n.x)&&(n.x=g("x",c)),isNaN(n.y)&&(n.y=g("y",d)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(r=[],"function"==typeof h)for(t=0;t<u;++t)r[t]=+h.call(this,y[t],t);else for(t=0;t<u;++t)r[t]=h;if(i=[],"function"==typeof f)for(t=0;t<u;++t)i[t]=+f.call(this,y[t],t);else for(t=0;t<u;++t)i[t]=f;if(s=[],"function"==typeof p)for(t=0;t<a;++t)s[t]=+p.call(this,m[t],t);else for(t=0;t<a;++t)s[t]=p;function g(n,r){if(!e){for(e=new Array(a),l=0;l<a;++l)e[l]=[];for(l=0;l<u;++l){var i=y[l];e[i.source.index].push(i.target),e[i.target.index].push(i.source)}}for(var s,o=e[t],l=-1,c=o.length;++l<c;)if(!isNaN(s=o[l][n]))return s;return Math.random()*r}return o.resume()},o.resume=function(){return o.alpha(.1)},o.stop=function(){return o.alpha(0)},o.drag=function(){if(e||(e=a.behavior.drag().origin(q).on("dragstart.force",za).on("drag.force",_).on("dragend.force",Na)),!arguments.length)return e;this.on("mouseover.force",qa).on("mouseout.force",Fa).call(e)},a.rebind(o,u,"on")};var Ra=20,ja=1,Ia=1/0;function Pa(t,e){return a.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=Za,t}function Ba(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function Ha(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(a=t.children)&&(i=a.length))for(var i,a,s=-1;++s<i;)n.push(a[s]);for(;null!=(t=r.pop());)e(t)}function Va(t){return t.children}function Ua(t){return t.value}function $a(t,e){return e.value-t.value}function Za(t){return a.merge(t.map((function(t){return(t.children||[]).map((function(e){return{source:t,target:e}}))})))}a.layout.hierarchy=function(){var t=$a,e=Va,n=Ua;function r(i){var a,s=[i],o=[];for(i.depth=0;null!=(a=s.pop());)if(o.push(a),(l=e.call(r,a,a.depth))&&(u=l.length)){for(var u,l,c;--u>=0;)s.push(c=l[u]),c.parent=a,c.depth=a.depth+1;n&&(a.value=0),a.children=l}else n&&(a.value=+n.call(r,a,a.depth)||0),delete a.children;return Ha(i,(function(e){var r,i;t&&(r=e.children)&&r.sort(t),n&&(i=e.parent)&&(i.value+=e.value)})),o}return r.sort=function(e){return arguments.length?(t=e,r):t},r.children=function(t){return arguments.length?(e=t,r):e},r.value=function(t){return arguments.length?(n=t,r):n},r.revalue=function(t){return n&&(Ba(t,(function(t){t.children&&(t.value=0)})),Ha(t,(function(t){var e;t.children||(t.value=+n.call(r,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)}))),t},r},a.layout.partition=function(){var t=a.layout.hierarchy(),e=[1,1];function n(t,e,r,i){var a=t.children;if(t.x=e,t.y=t.depth*i,t.dx=r,t.dy=i,a&&(s=a.length)){var s,o,u,l=-1;for(r=t.value?r/t.value:0;++l<s;)n(o=a[l],e,u=o.value*r,i),e+=u}}function r(t){var e=t.children,n=0;if(e&&(i=e.length))for(var i,a=-1;++a<i;)n=Math.max(n,r(e[a]));return 1+n}function i(i,a){var s=t.call(this,i,a);return n(s[0],0,e[0],e[1]/r(s[0])),s}return i.size=function(t){return arguments.length?(e=t,i):e},Pa(i,t)},a.layout.pie=function(){var t=Number,e=Ga,n=0,r=Tt,i=0;function s(o){var u,l=o.length,c=o.map((function(e,n){return+t.call(s,e,n)})),h=+("function"==typeof n?n.apply(this,arguments):n),f=("function"==typeof r?r.apply(this,arguments):r)-h,p=Math.min(Math.abs(f)/l,+("function"==typeof i?i.apply(this,arguments):i)),d=p*(f<0?-1:1),g=a.sum(c),v=g?(f-l*d)/g:0,m=a.range(l),y=[];return null!=e&&m.sort(e===Ga?function(t,e){return c[e]-c[t]}:function(t,n){return e(o[t],o[n])}),m.forEach((function(t){y[t]={data:o[t],value:u=c[t],startAngle:h,endAngle:h+=u*v+d,padAngle:p}})),y}return s.value=function(e){return arguments.length?(t=e,s):t},s.sort=function(t){return arguments.length?(e=t,s):e},s.startAngle=function(t){return arguments.length?(n=t,s):n},s.endAngle=function(t){return arguments.length?(r=t,s):r},s.padAngle=function(t){return arguments.length?(i=t,s):i},s};var Ga={};function Wa(t){return t.x}function Ya(t){return t.y}function Xa(t,e,n){t.y0=e,t.y=n}a.layout.stack=function(){var t=q,e=Qa,n=ts,r=Xa,i=Wa,s=Ya;function o(u,l){if(!(p=u.length))return u;var c=u.map((function(e,n){return t.call(o,e,n)})),h=c.map((function(t){return t.map((function(t,e){return[i.call(o,t,e),s.call(o,t,e)]}))})),f=e.call(o,h,l);c=a.permute(c,f),h=a.permute(h,f);var p,d,g,v,m=n.call(o,h,l),y=c[0].length;for(g=0;g<y;++g)for(r.call(o,c[0][g],v=m[g],h[0][g][1]),d=1;d<p;++d)r.call(o,c[d][g],v+=h[d-1][g][1],h[d][g][1]);return u}return o.values=function(e){return arguments.length?(t=e,o):t},o.order=function(t){return arguments.length?(e="function"==typeof t?t:Ja.get(t)||Qa,o):e},o.offset=function(t){return arguments.length?(n="function"==typeof t?t:Ka.get(t)||ts,o):n},o.x=function(t){return arguments.length?(i=t,o):i},o.y=function(t){return arguments.length?(s=t,o):s},o.out=function(t){return arguments.length?(r=t,o):r},o};var Ja=a.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(es),s=t.map(ns),o=a.range(r).sort((function(t,e){return i[t]-i[e]})),u=0,l=0,c=[],h=[];for(e=0;e<r;++e)n=o[e],u<l?(u+=s[n],c.push(n)):(l+=s[n],h.push(n));return h.reverse().concat(c)},reverse:function(t){return a.range(t.length).reverse()},default:Qa}),Ka=a.map({silhouette:function(t){var e,n,r,i=t.length,a=t[0].length,s=[],o=0,u=[];for(n=0;n<a;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];r>o&&(o=r),s.push(r)}for(n=0;n<a;++n)u[n]=(o-s[n])/2;return u},wiggle:function(t){var e,n,r,i,a,s,o,u,l,c=t.length,h=t[0],f=h.length,p=[];for(p[0]=u=l=0,n=1;n<f;++n){for(e=0,i=0;e<c;++e)i+=t[e][n][1];for(e=0,a=0,o=h[n][0]-h[n-1][0];e<c;++e){for(r=0,s=(t[e][n][1]-t[e][n-1][1])/(2*o);r<e;++r)s+=(t[r][n][1]-t[r][n-1][1])/o;a+=s*t[e][n][1]}p[n]=u-=i?a/i*o:0,u<l&&(l=u)}for(n=0;n<f;++n)p[n]-=l;return p},expand:function(t){var e,n,r,i=t.length,a=t[0].length,s=1/i,o=[];for(n=0;n<a;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=s}for(n=0;n<a;++n)o[n]=0;return o},zero:ts});function Qa(t){return a.range(t.length)}function ts(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function es(t){for(var e,n=1,r=0,i=t[0][1],a=t.length;n<a;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function ns(t){return t.reduce(rs,0)}function rs(t,e){return t+e[1]}function is(t,e){return as(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function as(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,a=[];++n<=e;)a[n]=i*n+r;return a}function ss(t){return[a.min(t),a.max(t)]}function os(t,e){return t.value-e.value}function us(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function ls(t,e){t._pack_next=e,e._pack_prev=t}function cs(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function hs(t){if((e=t.children)&&(u=e.length)){var e,n,r,i,a,s,o,u,l=1/0,c=-1/0,h=1/0,f=-1/0;if(e.forEach(fs),(n=e[0]).x=-n.r,n.y=0,x(n),u>1&&((r=e[1]).x=r.r,r.y=0,x(r),u>2))for(gs(n,r,i=e[2]),x(i),us(n,i),n._pack_prev=i,us(i,r),r=n._pack_next,a=3;a<u;a++){gs(n,r,i=e[a]);var p=0,d=1,g=1;for(s=r._pack_next;s!==r;s=s._pack_next,d++)if(cs(s,i)){p=1;break}if(1==p)for(o=n._pack_prev;o!==s._pack_prev&&!cs(o,i);o=o._pack_prev,g++);p?(d<g||d==g&&r.r<n.r?ls(n,r=s):ls(n=o,r),a--):(us(n,i),r=i,x(i))}var v=(l+c)/2,m=(h+f)/2,y=0;for(a=0;a<u;a++)(i=e[a]).x-=v,i.y-=m,y=Math.max(y,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=y,e.forEach(ps)}function x(t){l=Math.min(t.x-t.r,l),c=Math.max(t.x+t.r,c),h=Math.min(t.y-t.r,h),f=Math.max(t.y+t.r,f)}}function fs(t){t._pack_next=t._pack_prev=t}function ps(t){delete t._pack_next,delete t._pack_prev}function ds(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var a=-1,s=i.length;++a<s;)ds(i[a],e,n,r)}function gs(t,e,n){var r=t.r+n.r,i=e.x-t.x,a=e.y-t.y;if(r&&(i||a)){var s=e.r+n.r,o=i*i+a*a,u=.5+((r*=r)-(s*=s))/(2*o),l=Math.sqrt(Math.max(0,2*s*(r+o)-(r-=o)*r-s*s))/(2*o);n.x=t.x+u*i+l*a,n.y=t.y+u*a-l*i}else n.x=t.x+r,n.y=t.y}function vs(t,e){return t.parent==e.parent?1:2}function ms(t){var e=t.children;return e.length?e[0]:t.t}function ys(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function xs(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function _s(t,e,n){return t.a.parent===e.parent?t.a:n}function bs(t){var e=t.children;return e&&e.length?bs(e[0]):t}function ws(t){var e,n=t.children;return n&&(e=n.length)?ws(n[e-1]):t}function Cs(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function ks(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],a=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),a<0&&(r+=a/2,a=0),{x:n,y:r,dx:i,dy:a}}function As(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function Ms(t){return t.rangeExtent?t.rangeExtent():As(t.range())}function Es(t,e,n,r){var i=n(t[0],t[1]),a=r(e[0],e[1]);return function(t){return a(i(t))}}function Ss(t,e){var n,r=0,i=t.length-1,a=t[r],s=t[i];return s<a&&(n=r,r=i,i=n,n=a,a=s,s=n),t[r]=e.floor(a),t[i]=e.ceil(s),t}function Ds(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:Ls}a.layout.histogram=function(){var t=!0,e=Number,n=ss,r=is;function i(i,s){for(var o,u,l=[],c=i.map(e,this),h=n.call(this,c,s),f=r.call(this,h,c,s),p=(s=-1,c.length),d=f.length-1,g=t?1:1/p;++s<d;)(o=l[s]=[]).dx=f[s+1]-(o.x=f[s]),o.y=0;if(d>0)for(s=-1;++s<p;)(u=c[s])>=h[0]&&u<=h[1]&&((o=l[a.bisect(f,u,1,d)-1]).y+=g,o.push(i[s]));return l}return i.value=function(t){return arguments.length?(e=t,i):e},i.range=function(t){return arguments.length?(n=_e(t),i):n},i.bins=function(t){return arguments.length?(r="number"==typeof t?function(e){return as(e,t)}:_e(t),i):r},i.frequency=function(e){return arguments.length?(t=!!e,i):t},i},a.layout.pack=function(){var t,e=a.layout.hierarchy().sort(os),n=0,r=[1,1];function i(i,a){var s=e.call(this,i,a),o=s[0],u=r[0],l=r[1],c=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(o.x=o.y=0,Ha(o,(function(t){t.r=+c(t.value)})),Ha(o,hs),n){var h=n*(t?1:Math.max(2*o.r/u,2*o.r/l))/2;Ha(o,(function(t){t.r+=h})),Ha(o,hs),Ha(o,(function(t){t.r-=h}))}return ds(o,u/2,l/2,t?1:1/Math.max(2*o.r/u,2*o.r/l)),s}return i.size=function(t){return arguments.length?(r=t,i):r},i.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,i):t},i.padding=function(t){return arguments.length?(n=+t,i):n},Pa(i,e)},a.layout.tree=function(){var t=a.layout.hierarchy().sort(null).value(null),e=vs,n=[1,1],r=null;function i(i,a){var l=t.call(this,i,a),c=l[0],h=function(t){var e,n={A:null,children:[t]},r=[n];for(;null!=(e=r.pop());)for(var i,a=e.children,s=0,o=a.length;s<o;++s)r.push((a[s]=i={_:a[s],parent:e,children:(i=a[s].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:s}).a=i);return n.children[0]}(c);if(Ha(h,s),h.parent.m=-h.z,Ba(h,o),r)Ba(c,u);else{var f=c,p=c,d=c;Ba(c,(function(t){t.x<f.x&&(f=t),t.x>p.x&&(p=t),t.depth>d.depth&&(d=t)}));var g=e(f,p)/2-f.x,v=n[0]/(p.x+e(p,f)/2+g),m=n[1]/(d.depth||1);Ba(c,(function(t){t.x=(t.x+g)*v,t.y=t.depth*m}))}return l}function s(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n.length){!function(t){var e,n=0,r=0,i=t.children,a=i.length;for(;--a>=0;)(e=i[a]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(t);var a=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,n,r){if(n){for(var i,a=t,s=t,o=n,u=a.parent.children[0],l=a.m,c=s.m,h=o.m,f=u.m;o=ys(o),a=ms(a),o&&a;)u=ms(u),(s=ys(s)).a=t,(i=o.z+h-a.z-l+e(o._,a._))>0&&(xs(_s(o,t,r),t,i),l+=i,c+=i),h+=o.m,l+=a.m,f+=u.m,c+=s.m;o&&!ys(s)&&(s.t=o,s.m+=h-c),a&&!ms(u)&&(u.t=a,u.m+=l-f,r=t)}return r}(t,i,t.parent.A||r[0])}function o(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function u(t){t.x*=n[0],t.y=t.depth*n[1]}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(t){return arguments.length?(r=null==(n=t)?u:null,i):r?null:n},i.nodeSize=function(t){return arguments.length?(r=null==(n=t)?null:u,i):r?n:null},Pa(i,t)},a.layout.cluster=function(){var t=a.layout.hierarchy().sort(null).value(null),e=vs,n=[1,1],r=!1;function i(i,s){var o,u=t.call(this,i,s),l=u[0],c=0;Ha(l,(function(t){var n=t.children;n&&n.length?(t.x=function(t){return t.reduce((function(t,e){return t+e.x}),0)/t.length}(n),t.y=function(t){return 1+a.max(t,(function(t){return t.y}))}(n)):(t.x=o?c+=e(t,o):0,t.y=0,o=t)}));var h=bs(l),f=ws(l),p=h.x-e(h,f)/2,d=f.x+e(f,h)/2;return Ha(l,r?function(t){t.x=(t.x-l.x)*n[0],t.y=(l.y-t.y)*n[1]}:function(t){t.x=(t.x-p)/(d-p)*n[0],t.y=(1-(l.y?t.y/l.y:1))*n[1]}),u}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(t){return arguments.length?(r=null==(n=t),i):r?null:n},i.nodeSize=function(t){return arguments.length?(r=null!=(n=t),i):r?n:null},Pa(i,t)},a.layout.treemap=function(){var t,e=a.layout.hierarchy(),n=Math.round,r=[1,1],i=null,s=Cs,o=!1,u="squarify",l=.5*(1+Math.sqrt(5));function c(t,e){for(var n,r,i=-1,a=t.length;++i<a;)r=(n=t[i]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function h(t){var e=t.children;if(e&&e.length){var n,r,i,a=s(t),o=[],l=e.slice(),f=1/0,g="slice"===u?a.dx:"dice"===u?a.dy:"slice-dice"===u?1&t.depth?a.dy:a.dx:Math.min(a.dx,a.dy);for(c(l,a.dx*a.dy/t.value),o.area=0;(i=l.length)>0;)o.push(n=l[i-1]),o.area+=n.area,"squarify"!==u||(r=p(o,g))<=f?(l.pop(),f=r):(o.area-=o.pop().area,d(o,g,a,!1),g=Math.min(a.dx,a.dy),o.length=o.area=0,f=1/0);o.length&&(d(o,g,a,!0),o.length=o.area=0),e.forEach(h)}}function f(t){var e=t.children;if(e&&e.length){var n,r=s(t),i=e.slice(),a=[];for(c(i,r.dx*r.dy/t.value),a.area=0;n=i.pop();)a.push(n),a.area+=n.area,null!=n.z&&(d(a,n.z?r.dx:r.dy,r,!i.length),a.length=a.area=0);e.forEach(f)}}function p(t,e){for(var n,r=t.area,i=0,a=1/0,s=-1,o=t.length;++s<o;)(n=t[s].area)&&(n<a&&(a=n),n>i&&(i=n));return e*=e,(r*=r)?Math.max(e*i*l/r,r/(e*a*l)):1/0}function d(t,e,r,i){var a,s=-1,o=t.length,u=r.x,l=r.y,c=e?n(t.area/e):0;if(e==r.dx){for((i||c>r.dy)&&(c=r.dy);++s<o;)(a=t[s]).x=u,a.y=l,a.dy=c,u+=a.dx=Math.min(r.x+r.dx-u,c?n(a.area/c):0);a.z=!0,a.dx+=r.x+r.dx-u,r.y+=c,r.dy-=c}else{for((i||c>r.dx)&&(c=r.dx);++s<o;)(a=t[s]).x=u,a.y=l,a.dx=c,l+=a.dy=Math.min(r.y+r.dy-l,c?n(a.area/c):0);a.z=!1,a.dy+=r.y+r.dy-l,r.x+=c,r.dx-=c}}function g(n){var i=t||e(n),a=i[0];return a.x=a.y=0,a.value?(a.dx=r[0],a.dy=r[1]):a.dx=a.dy=0,t&&e.revalue(a),c([a],a.dx*a.dy/a.value),(t?f:h)(a),o&&(t=i),i}return g.size=function(t){return arguments.length?(r=t,g):r},g.padding=function(t){if(!arguments.length)return i;function e(e){var n=t.call(g,e,e.depth);return null==n?Cs(e):ks(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return ks(e,t)}var r;return s=null==(i=t)?Cs:"function"==(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n,g},g.round=function(t){return arguments.length?(n=t?Math.round:Number,g):n!=Number},g.sticky=function(e){return arguments.length?(o=e,t=null,g):o},g.ratio=function(t){return arguments.length?(l=t,g):l},g.mode=function(t){return arguments.length?(u=t+"",g):u},Pa(g,e)},a.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,r,i;do{i=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=a.random.normal.apply(a,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=a.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},a.scale={};var Ls={floor:q,ceil:q};function Ts(t,e,n,r){var i=[],s=[],o=0,u=Math.min(t.length,e.length)-1;for(t[u]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<=u;)i.push(n(t[o-1],t[o])),s.push(r(e[o-1],e[o]));return function(e){var n=a.bisect(t,e,1,u)-1;return s[n](i[n](e))}}function zs(t,e,n,r){var i,a;function s(){var s=Math.min(t.length,e.length)>2?Ts:Es,u=r?Da:Sa;return i=s(t,e,u,n),a=s(e,t,u,sa),o}function o(t){return i(t)}return o.invert=function(t){return a(t)},o.domain=function(e){return arguments.length?(t=e.map(Number),s()):t},o.range=function(t){return arguments.length?(e=t,s()):e},o.rangeRound=function(t){return o.range(t).interpolate(ba)},o.clamp=function(t){return arguments.length?(r=t,s()):r},o.interpolate=function(t){return arguments.length?(n=t,s()):n},o.ticks=function(e){return Os(t,e)},o.tickFormat=function(e,n){return Rs(t,e,n)},o.nice=function(e){return qs(t,e),s()},o.copy=function(){return zs(t,e,n,r)},s()}function Ns(t,e){return a.rebind(t,e,"range","rangeRound","interpolate","clamp")}function qs(t,e){return Ss(t,Ds(Fs(t,e)[2])),Ss(t,Ds(Fs(t,e)[2])),t}function Fs(t,e){null==e&&(e=10);var n=As(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),a=e/r*i;return a<=.15?i*=10:a<=.35?i*=5:a<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Os(t,e){return a.range.apply(a,Fs(t,e))}function Rs(t,e,n){var r=Fs(t,e);if(n){var i=Fe.exec(n);if(i.shift(),"s"===i[8]){var s=a.formatPrefix(Math.max(w(r[0]),w(r[1])));return i[7]||(i[7]="."+Is(s.scale(r[2]))),i[8]="f",n=a.format(i.join("")),function(t){return n(s.scale(t))+s.symbol}}i[7]||(i[7]="."+function(t,e){var n=Is(e[2]);return t in js?Math.abs(n-Is(Math.max(w(e[0]),w(e[1]))))+ +("e"!==t):n-2*("%"===t)}(i[8],r)),n=i.join("")}else n=",."+Is(r[2])+"f";return a.format(n)}a.scale.linear=function(){return zs([0,1],[0,1],sa,!1)};var js={s:1,g:1,p:1,r:1,e:1};function Is(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Ps(t,e,n,r){function i(t){return(n?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function s(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function o(e){return t(i(e))}return o.invert=function(e){return s(t.invert(e))},o.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((r=e.map(Number)).map(i)),o):r},o.base=function(n){return arguments.length?(e=+n,t.domain(r.map(i)),o):e},o.nice=function(){var e=Ss(r.map(i),n?Math:Hs);return t.domain(e),r=e.map(s),o},o.ticks=function(){var t=As(r),a=[],o=t[0],u=t[1],l=Math.floor(i(o)),c=Math.ceil(i(u)),h=e%1?2:e;if(isFinite(c-l)){if(n){for(;l<c;l++)for(var f=1;f<h;f++)a.push(s(l)*f);a.push(s(l))}else for(a.push(s(l));l++<c;)for(f=h-1;f>0;f--)a.push(s(l)*f);for(l=0;a[l]<o;l++);for(c=a.length;a[c-1]>u;c--);a=a.slice(l,c)}return a},o.tickFormat=function(t,n){if(!arguments.length)return Bs;arguments.length<2?n=Bs:"function"!=typeof n&&(n=a.format(n));var r=Math.max(1,e*t/o.ticks().length);return function(t){var a=t/s(Math.round(i(t)));return a*e<e-.5&&(a*=e),a<=r?n(t):""}},o.copy=function(){return Ps(t.copy(),e,n,r)},Ns(o,t)}a.scale.log=function(){return Ps(a.scale.linear().domain([0,1]),10,!0,[1,10])};var Bs=a.format(".0e"),Hs={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function Vs(t,e,n){var r=Us(e),i=Us(1/e);function a(e){return t(r(e))}return a.invert=function(e){return i(t.invert(e))},a.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(r)),a):n},a.ticks=function(t){return Os(n,t)},a.tickFormat=function(t,e){return Rs(n,t,e)},a.nice=function(t){return a.domain(qs(n,t))},a.exponent=function(s){return arguments.length?(r=Us(e=s),i=Us(1/e),t.domain(n.map(r)),a):e},a.copy=function(){return Vs(t.copy(),e,n)},Ns(a,t)}function Us(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function $s(t,e){var n,r,i;function s(i){return r[((n.get(i)||("range"===e.t?n.set(i,t.push(i)):NaN))-1)%r.length]}function o(e,n){return a.range(t.length).map((function(t){return e+n*t}))}return s.domain=function(r){if(!arguments.length)return t;t=[],n=new A;for(var i,a=-1,o=r.length;++a<o;)n.has(i=r[a])||n.set(i,t.push(i));return s[e.t].apply(s,e.a)},s.range=function(t){return arguments.length?(r=t,i=0,e={t:"range",a:arguments},s):r},s.rangePoints=function(n,a){arguments.length<2&&(a=0);var u=n[0],l=n[1],c=t.length<2?(u=(u+l)/2,0):(l-u)/(t.length-1+a);return r=o(u+c*a/2,c),i=0,e={t:"rangePoints",a:arguments},s},s.rangeRoundPoints=function(n,a){arguments.length<2&&(a=0);var u=n[0],l=n[1],c=t.length<2?(u=l=Math.round((u+l)/2),0):(l-u)/(t.length-1+a)|0;return r=o(u+Math.round(c*a/2+(l-u-(t.length-1+a)*c)/2),c),i=0,e={t:"rangeRoundPoints",a:arguments},s},s.rangeBands=function(n,a,u){arguments.length<2&&(a=0),arguments.length<3&&(u=a);var l=n[1]<n[0],c=n[l-0],h=n[1-l],f=(h-c)/(t.length-a+2*u);return r=o(c+f*u,f),l&&r.reverse(),i=f*(1-a),e={t:"rangeBands",a:arguments},s},s.rangeRoundBands=function(n,a,u){arguments.length<2&&(a=0),arguments.length<3&&(u=a);var l=n[1]<n[0],c=n[l-0],h=n[1-l],f=Math.floor((h-c)/(t.length-a+2*u));return r=o(c+Math.round((h-c-(t.length-a)*f)/2),f),l&&r.reverse(),i=Math.round(f*(1-a)),e={t:"rangeRoundBands",a:arguments},s},s.rangeBand=function(){return i},s.rangeExtent=function(){return As(e.a[0])},s.copy=function(){return $s(t,e)},s.domain(t)}a.scale.pow=function(){return Vs(a.scale.linear(),1,[0,1])},a.scale.sqrt=function(){return a.scale.pow().exponent(.5)},a.scale.ordinal=function(){return $s([],{t:"range",a:[[]]})},a.scale.category10=function(){return a.scale.ordinal().range(Zs)},a.scale.category20=function(){return a.scale.ordinal().range(Gs)},a.scale.category20b=function(){return a.scale.ordinal().range(Ws)},a.scale.category20c=function(){return a.scale.ordinal().range(Ys)};var Zs=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(he),Gs=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(he),Ws=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(he),Ys=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(he);function Xs(t,e){var n;function r(){var r=0,s=e.length;for(n=[];++r<s;)n[r-1]=a.quantile(t,r/s);return i}function i(t){if(!isNaN(t=+t))return e[a.bisect(n,t)]}return i.domain=function(e){return arguments.length?(t=e.map(m).filter(y).sort(v),r()):t},i.range=function(t){return arguments.length?(e=t,r()):e},i.quantiles=function(){return n},i.invertExtent=function(r){return(r=e.indexOf(r))<0?[NaN,NaN]:[r>0?n[r-1]:t[0],r<n.length?n[r]:t[t.length-1]]},i.copy=function(){return Xs(t,e)},r()}function Js(t,e,n){var r,i;function a(e){return n[Math.max(0,Math.min(i,Math.floor(r*(e-t))))]}function s(){return r=n.length/(e-t),i=n.length-1,a}return a.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],s()):[t,e]},a.range=function(t){return arguments.length?(n=t,s()):n},a.invertExtent=function(e){return[e=(e=n.indexOf(e))<0?NaN:e/r+t,e+1/r]},a.copy=function(){return Js(t,e,n)},s()}function Ks(t,e){function n(n){if(n<=n)return e[a.bisect(t,n)]}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return Ks(t,e)},n}function Qs(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return Os(t,e)},e.tickFormat=function(e,n){return Rs(t,e,n)},e.copy=function(){return Qs(t)},e}function to(){return 0}a.scale.quantile=function(){return Xs([],[])},a.scale.quantize=function(){return Js(0,1,[0,1])},a.scale.threshold=function(){return Ks([.5],[0,1])},a.scale.identity=function(){return Qs([0,1])},a.svg={},a.svg.arc=function(){var t=no,e=ro,n=to,r=eo,i=io,a=ao,s=so;function o(){var o=Math.max(0,+t.apply(this,arguments)),l=Math.max(0,+e.apply(this,arguments)),c=i.apply(this,arguments)-Nt,h=a.apply(this,arguments)-Nt,f=Math.abs(h-c),p=c>h?0:1;if(l<o&&(d=l,l=o,o=d),f>=zt)return u(l,p)+(o?u(o,1-p):"")+"Z";var d,g,v,m,y,x,_,b,w,C,k,A,M=0,E=0,S=[];if((m=(+s.apply(this,arguments)||0)/2)&&(v=r===eo?Math.sqrt(o*o+l*l):+r.apply(this,arguments),p||(E*=-1),l&&(E=It(v/l*Math.sin(m))),o&&(M=It(v/o*Math.sin(m)))),l){y=l*Math.cos(c+E),x=l*Math.sin(c+E),_=l*Math.cos(h-E),b=l*Math.sin(h-E);var D=Math.abs(h-c-2*E)<=Lt?0:1;if(E&&oo(y,x,_,b)===p^D){var L=(c+h)/2;y=l*Math.cos(L),x=l*Math.sin(L),_=b=null}}else y=x=0;if(o){w=o*Math.cos(h-M),C=o*Math.sin(h-M),k=o*Math.cos(c+M),A=o*Math.sin(c+M);var T=Math.abs(c-h+2*M)<=Lt?0:1;if(M&&oo(w,C,k,A)===1-p^T){var z=(c+h)/2;w=o*Math.cos(z),C=o*Math.sin(z),k=A=null}}else w=C=0;if(f>St&&(d=Math.min(Math.abs(l-o)/2,+n.apply(this,arguments)))>.001){g=o<l^p?0:1;var N=d,q=d;if(f<Lt){var F=null==k?[w,C]:null==_?[y,x]:gi([y,x],[k,A],[_,b],[w,C]),O=y-F[0],R=x-F[1],j=_-F[0],I=b-F[1],P=1/Math.sin(Math.acos((O*j+R*I)/(Math.sqrt(O*O+R*R)*Math.sqrt(j*j+I*I)))/2),B=Math.sqrt(F[0]*F[0]+F[1]*F[1]);q=Math.min(d,(o-B)/(P-1)),N=Math.min(d,(l-B)/(P+1))}if(null!=_){var H=uo(null==k?[w,C]:[k,A],[y,x],l,N,p),V=uo([_,b],[w,C],l,N,p);d===N?S.push("M",H[0],"A",N,",",N," 0 0,",g," ",H[1],"A",l,",",l," 0 ",1-p^oo(H[1][0],H[1][1],V[1][0],V[1][1]),",",p," ",V[1],"A",N,",",N," 0 0,",g," ",V[0]):S.push("M",H[0],"A",N,",",N," 0 1,",g," ",V[0])}else S.push("M",y,",",x);if(null!=k){var U=uo([y,x],[k,A],o,-q,p),$=uo([w,C],null==_?[y,x]:[_,b],o,-q,p);d===q?S.push("L",$[0],"A",q,",",q," 0 0,",g," ",$[1],"A",o,",",o," 0 ",p^oo($[1][0],$[1][1],U[1][0],U[1][1]),",",1-p," ",U[1],"A",q,",",q," 0 0,",g," ",U[0]):S.push("L",$[0],"A",q,",",q," 0 0,",g," ",U[0])}else S.push("L",w,",",C)}else S.push("M",y,",",x),null!=_&&S.push("A",l,",",l," 0 ",D,",",p," ",_,",",b),S.push("L",w,",",C),null!=k&&S.push("A",o,",",o," 0 ",T,",",1-p," ",k,",",A);return S.push("Z"),S.join("")}function u(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}return o.innerRadius=function(e){return arguments.length?(t=_e(e),o):t},o.outerRadius=function(t){return arguments.length?(e=_e(t),o):e},o.cornerRadius=function(t){return arguments.length?(n=_e(t),o):n},o.padRadius=function(t){return arguments.length?(r=t==eo?eo:_e(t),o):r},o.startAngle=function(t){return arguments.length?(i=_e(t),o):i},o.endAngle=function(t){return arguments.length?(a=_e(t),o):a},o.padAngle=function(t){return arguments.length?(s=_e(t),o):s},o.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-Nt;return[Math.cos(r)*n,Math.sin(r)*n]},o};var eo="auto";function no(t){return t.innerRadius}function ro(t){return t.outerRadius}function io(t){return t.startAngle}function ao(t){return t.endAngle}function so(t){return t&&t.padAngle}function oo(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function uo(t,e,n,r,i){var a=t[0]-e[0],s=t[1]-e[1],o=(i?r:-r)/Math.sqrt(a*a+s*s),u=o*s,l=-o*a,c=t[0]+u,h=t[1]+l,f=e[0]+u,p=e[1]+l,d=(c+f)/2,g=(h+p)/2,v=f-c,m=p-h,y=v*v+m*m,x=n-r,_=c*p-f*h,b=(m<0?-1:1)*Math.sqrt(Math.max(0,x*x*y-_*_)),w=(_*m-v*b)/y,C=(-_*v-m*b)/y,k=(_*m+v*b)/y,A=(-_*v+m*b)/y,M=w-d,E=C-g,S=k-d,D=A-g;return M*M+E*E>S*S+D*D&&(w=k,C=A),[[w-u,C-l],[w*n/x,C*n/x]]}function lo(t){var e=li,n=ci,r=Qn,i=ho,a=i.key,s=.7;function o(a){var o,u=[],l=[],c=-1,h=a.length,f=_e(e),p=_e(n);function d(){u.push("M",i(t(l),s))}for(;++c<h;)r.call(this,o=a[c],c)?l.push([+f.call(this,o,c),+p.call(this,o,c)]):l.length&&(d(),l=[]);return l.length&&d(),u.length?u.join(""):null}return o.x=function(t){return arguments.length?(e=t,o):e},o.y=function(t){return arguments.length?(n=t,o):n},o.defined=function(t){return arguments.length?(r=t,o):r},o.interpolate=function(t){return arguments.length?(a="function"==typeof t?i=t:(i=co.get(t)||ho).key,o):a},o.tension=function(t){return arguments.length?(s=t,o):s},o}a.svg.line=function(){return lo(q)};var co=a.map({linear:ho,"linear-closed":fo,step:function(t){var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];for(;++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);n>1&&i.push("H",r[0]);return i.join("")},"step-before":po,"step-after":go,basis:yo,"basis-open":function(t){if(t.length<4)return ho(t);var e,n=[],r=-1,i=t.length,a=[0],s=[0];for(;++r<3;)e=t[r],a.push(e[0]),s.push(e[1]);n.push(xo(wo,a)+","+xo(wo,s)),--r;for(;++r<i;)e=t[r],a.shift(),a.push(e[0]),s.shift(),s.push(e[1]),Co(n,a,s);return n.join("")},"basis-closed":function(t){var e,n,r=-1,i=t.length,a=i+4,s=[],o=[];for(;++r<4;)n=t[r%i],s.push(n[0]),o.push(n[1]);e=[xo(wo,s),",",xo(wo,o)],--r;for(;++r<a;)n=t[r%i],s.shift(),s.push(n[0]),o.shift(),o.push(n[1]),Co(e,s,o);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var r,i,a=t[0][0],s=t[0][1],o=t[n][0]-a,u=t[n][1]-s,l=-1;++l<=n;)r=t[l],i=l/n,r[0]=e*r[0]+(1-e)*(a+i*o),r[1]=e*r[1]+(1-e)*(s+i*u);return yo(t)},cardinal:function(t,e){return t.length<3?ho(t):t[0]+vo(t,mo(t,e))},"cardinal-open":function(t,e){return t.length<4?ho(t):t[1]+vo(t.slice(1,-1),mo(t,e))},"cardinal-closed":function(t,e){return t.length<3?fo(t):t[0]+vo((t.push(t[0]),t),mo([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?ho(t):t[0]+vo(t,function(t){var e,n,r,i,a=[],s=function(t){var e=0,n=t.length-1,r=[],i=t[0],a=t[1],s=r[0]=ko(i,a);for(;++e<n;)r[e]=(s+(s=ko(i=a,a=t[e+1])))/2;return r[e]=s,r}(t),o=-1,u=t.length-1;for(;++o<u;)e=ko(t[o],t[o+1]),w(e)<St?s[o]=s[o+1]=0:(i=(n=s[o]/e)*n+(r=s[o+1]/e)*r)>9&&(i=3*e/Math.sqrt(i),s[o]=i*n,s[o+1]=i*r);o=-1;for(;++o<=u;)i=(t[Math.min(u,o+1)][0]-t[Math.max(0,o-1)][0])/(6*(1+s[o]*s[o])),a.push([i||0,s[o]*i||0]);return a}(t))}});function ho(t){return t.length>1?t.join("L"):t+"Z"}function fo(t){return t.join("L")+"Z"}function po(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function go(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function vo(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return ho(t);var n=t.length!=e.length,r="",i=t[0],a=t[1],s=e[0],o=s,u=1;if(n&&(r+="Q"+(a[0]-2*s[0]/3)+","+(a[1]-2*s[1]/3)+","+a[0]+","+a[1],i=t[1],u=2),e.length>1){o=e[1],a=t[u],u++,r+="C"+(i[0]+s[0])+","+(i[1]+s[1])+","+(a[0]-o[0])+","+(a[1]-o[1])+","+a[0]+","+a[1];for(var l=2;l<e.length;l++,u++)a=t[u],o=e[l],r+="S"+(a[0]-o[0])+","+(a[1]-o[1])+","+a[0]+","+a[1]}if(n){var c=t[u];r+="Q"+(a[0]+2*o[0]/3)+","+(a[1]+2*o[1]/3)+","+c[0]+","+c[1]}return r}function mo(t,e){for(var n,r=[],i=(1-e)/2,a=t[0],s=t[1],o=1,u=t.length;++o<u;)n=a,a=s,s=t[o],r.push([i*(s[0]-n[0]),i*(s[1]-n[1])]);return r}function yo(t){if(t.length<3)return ho(t);var e=1,n=t.length,r=t[0],i=r[0],a=r[1],s=[i,i,i,(r=t[1])[0]],o=[a,a,a,r[1]],u=[i,",",a,"L",xo(wo,s),",",xo(wo,o)];for(t.push(t[n-1]);++e<=n;)r=t[e],s.shift(),s.push(r[0]),o.shift(),o.push(r[1]),Co(u,s,o);return t.pop(),u.push("L",r),u.join("")}function xo(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}co.forEach((function(t,e){e.key=t,e.closed=/-closed$/.test(t)}));var _o=[0,2/3,1/3,0],bo=[0,1/3,2/3,0],wo=[0,1/6,2/3,1/6];function Co(t,e,n){t.push("C",xo(_o,e),",",xo(_o,n),",",xo(bo,e),",",xo(bo,n),",",xo(wo,e),",",xo(wo,n))}function ko(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Ao(t){for(var e,n,r,i=-1,a=t.length;++i<a;)n=(e=t[i])[0],r=e[1]-Nt,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function Mo(t){var e=li,n=li,r=0,i=ci,a=Qn,s=ho,o=s.key,u=s,l="L",c=.7;function h(o){var h,f,p,d=[],g=[],v=[],m=-1,y=o.length,x=_e(e),_=_e(r),b=e===n?function(){return f}:_e(n),w=r===i?function(){return p}:_e(i);function C(){d.push("M",s(t(v),c),l,u(t(g.reverse()),c),"Z")}for(;++m<y;)a.call(this,h=o[m],m)?(g.push([f=+x.call(this,h,m),p=+_.call(this,h,m)]),v.push([+b.call(this,h,m),+w.call(this,h,m)])):g.length&&(C(),g=[],v=[]);return g.length&&C(),d.length?d.join(""):null}return h.x=function(t){return arguments.length?(e=n=t,h):n},h.x0=function(t){return arguments.length?(e=t,h):e},h.x1=function(t){return arguments.length?(n=t,h):n},h.y=function(t){return arguments.length?(r=i=t,h):i},h.y0=function(t){return arguments.length?(r=t,h):r},h.y1=function(t){return arguments.length?(i=t,h):i},h.defined=function(t){return arguments.length?(a=t,h):a},h.interpolate=function(t){return arguments.length?(o="function"==typeof t?s=t:(s=co.get(t)||ho).key,u=s.reverse||s,l=s.closed?"M":"L",h):o},h.tension=function(t){return arguments.length?(c=t,h):c},h}function Eo(t){return t.radius}function So(t){return[t.x,t.y]}function Do(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-Nt;return[n*Math.cos(r),n*Math.sin(r)]}}function Lo(){return 64}function To(){return"circle"}function zo(t){var e=Math.sqrt(t/Lt);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}a.svg.line.radial=function(){var t=lo(Ao);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},po.reverse=go,go.reverse=po,a.svg.area=function(){return Mo(q)},a.svg.area.radial=function(){var t=Mo(Ao);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},a.svg.chord=function(){var t=Yr,e=Xr,n=Eo,r=io,i=ao;function a(n,r){var i,a,l=s(this,t,n,r),c=s(this,e,n,r);return"M"+l.p0+o(l.r,l.p1,l.a1-l.a0)+(a=c,((i=l).a0==a.a0&&i.a1==a.a1?u(l.r,l.p1,l.r,l.p0):u(l.r,l.p1,c.r,c.p0)+o(c.r,c.p1,c.a1-c.a0)+u(c.r,c.p1,l.r,l.p0))+"Z")}function s(t,e,a,s){var o=e.call(t,a,s),u=n.call(t,o,s),l=r.call(t,o,s)-Nt,c=i.call(t,o,s)-Nt;return{r:u,a0:l,a1:c,p0:[u*Math.cos(l),u*Math.sin(l)],p1:[u*Math.cos(c),u*Math.sin(c)]}}function o(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Lt)+",1 "+e}function u(t,e,n,r){return"Q 0,0 "+r}return a.radius=function(t){return arguments.length?(n=_e(t),a):n},a.source=function(e){return arguments.length?(t=_e(e),a):t},a.target=function(t){return arguments.length?(e=_e(t),a):e},a.startAngle=function(t){return arguments.length?(r=_e(t),a):r},a.endAngle=function(t){return arguments.length?(i=_e(t),a):i},a},a.svg.diagonal=function(){var t=Yr,e=Xr,n=So;function r(r,i){var a=t.call(this,r,i),s=e.call(this,r,i),o=(a.y+s.y)/2,u=[a,{x:a.x,y:o},{x:s.x,y:o},s];return"M"+(u=u.map(n))[0]+"C"+u[1]+" "+u[2]+" "+u[3]}return r.source=function(e){return arguments.length?(t=_e(e),r):t},r.target=function(t){return arguments.length?(e=_e(t),r):e},r.projection=function(t){return arguments.length?(n=t,r):n},r},a.svg.diagonal.radial=function(){var t=a.svg.diagonal(),e=So,n=t.projection;return t.projection=function(t){return arguments.length?n(Do(e=t)):e},t},a.svg.symbol=function(){var t=To,e=Lo;function n(n,r){return(No.get(t.call(this,n,r))||zo)(e.call(this,n,r))}return n.type=function(e){return arguments.length?(t=_e(e),n):t},n.size=function(t){return arguments.length?(e=_e(t),n):e},n};var No=a.map({circle:zo,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Fo)),n=e*Fo;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/qo),n=e*qo/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/qo),n=e*qo/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});a.svg.symbolTypes=No.keys();var qo=Math.sqrt(3),Fo=Math.tan(30*qt);X.transition=function(t){for(var e,n,r=Io||++Ho,i=$o(t),a=[],s=Po||{time:Date.now(),ease:va,delay:0,duration:250},o=-1,u=this.length;++o<u;){a.push(e=[]);for(var l=this[o],c=-1,h=l.length;++c<h;)(n=l[c])&&Zo(n,c,i,r,s),e.push(n)}return jo(a,i,r)},X.interrupt=function(t){return this.each(null==t?Oo:Ro($o(t)))};var Oo=Ro($o());function Ro(t){return function(){var e,n,r;(e=this[t])&&(r=e[n=e.active])&&(r.timer.c=null,r.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function jo(t,e,n){return $(t,Bo),t.namespace=e,t.id=n,t}var Io,Po,Bo=[],Ho=0;function Vo(t,e,n,r){var i=t.id,a=t.namespace;return dt(t,"function"==typeof n?function(t,s,o){t[a][i].tween.set(e,r(n.call(t,t.__data__,s,o)))}:(n=r(n),function(t){t[a][i].tween.set(e,n)}))}function Uo(t){return null==t&&(t=""),function(){this.textContent=t}}function $o(t){return null==t?"__transition__":"__transition_"+t+"__"}function Zo(t,e,n,r,i){var a,s,o,u,l,c=t[n]||(t[n]={active:0,count:0}),h=c[r];function f(n){var i=c.active,f=c[i];for(var d in f&&(f.timer.c=null,f.timer.t=NaN,--c.count,delete c[i],f.event&&f.event.interrupt.call(t,t.__data__,f.index)),c)if(+d<r){var g=c[d];g.timer.c=null,g.timer.t=NaN,--c.count,delete c[d]}s.c=p,Se((function(){return s.c&&p(n||1)&&(s.c=null,s.t=NaN),1}),0,a),c.active=r,h.event&&h.event.start.call(t,t.__data__,e),l=[],h.tween.forEach((function(n,r){(r=r.call(t,t.__data__,e))&&l.push(r)})),u=h.ease,o=h.duration}function p(i){for(var a=i/o,s=u(a),f=l.length;f>0;)l[--f].call(t,s);if(a>=1)return h.event&&h.event.end.call(t,t.__data__,e),--c.count?delete c[r]:delete t[n],1}h||(a=i.time,s=Se((function(t){var e=h.delay;if(s.t=e+a,e<=t)return f(t-e);s.c=f}),0,a),h=c[r]={tween:new A,time:a,timer:s,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++c.count)}Bo.call=X.call,Bo.empty=X.empty,Bo.node=X.node,Bo.size=X.size,a.transition=function(t,e){return t&&t.transition?Io?t.transition(e):t:a.selection().transition(t)},a.transition.prototype=Bo,Bo.select=function(t){var e,n,r,i=this.id,a=this.namespace,s=[];t=J(t);for(var o=-1,u=this.length;++o<u;){s.push(e=[]);for(var l=this[o],c=-1,h=l.length;++c<h;)(r=l[c])&&(n=t.call(r,r.__data__,c,o))?("__data__"in r&&(n.__data__=r.__data__),Zo(n,c,a,i,r[a][i]),e.push(n)):e.push(null)}return jo(s,a,i)},Bo.selectAll=function(t){var e,n,r,i,a,s=this.id,o=this.namespace,u=[];t=K(t);for(var l=-1,c=this.length;++l<c;)for(var h=this[l],f=-1,p=h.length;++f<p;)if(r=h[f]){a=r[o][s],n=t.call(r,r.__data__,f,l),u.push(e=[]);for(var d=-1,g=n.length;++d<g;)(i=n[d])&&Zo(i,d,o,s,a),e.push(i)}return jo(u,o,s)},Bo.filter=function(t){var e,n,r=[];"function"!=typeof t&&(t=ft(t));for(var i=0,a=this.length;i<a;i++){r.push(e=[]);for(var s,o=0,u=(s=this[i]).length;o<u;o++)(n=s[o])&&t.call(n,n.__data__,o,i)&&e.push(n)}return jo(r,this.namespace,this.id)},Bo.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):dt(this,null==e?function(e){e[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})},Bo.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var n="transform"==t?Ea:sa,r=a.ns.qualify(t);function i(){this.removeAttribute(r)}function s(){this.removeAttributeNS(r.space,r.local)}function o(t){return null==t?i:(t+="",function(){var e,i=this.getAttribute(r);return i!==t&&(e=n(i,t),function(t){this.setAttribute(r,e(t))})})}function u(t){return null==t?s:(t+="",function(){var e,i=this.getAttributeNS(r.space,r.local);return i!==t&&(e=n(i,t),function(t){this.setAttributeNS(r.space,r.local,e(t))})})}return Vo(this,"attr."+t,e,r.local?u:o)},Bo.attrTween=function(t,e){var n=a.ns.qualify(t);return this.tween("attr."+t,n.local?function(t,r){var i=e.call(this,t,r,this.getAttributeNS(n.space,n.local));return i&&function(t){this.setAttributeNS(n.space,n.local,i(t))}}:function(t,r){var i=e.call(this,t,r,this.getAttribute(n));return i&&function(t){this.setAttribute(n,i(t))}})},Bo.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.style(n,t[n],e);return this}n=""}function i(){this.style.removeProperty(t)}function a(e){return null==e?i:(e+="",function(){var r,i=c(this).getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(r=sa(i,e),function(e){this.style.setProperty(t,r(e),n)})})}return Vo(this,"style."+t,e,a)},Bo.styleTween=function(t,e,n){function r(r,i){var a=e.call(this,r,i,c(this).getComputedStyle(this,null).getPropertyValue(t));return a&&function(e){this.style.setProperty(t,a(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,r)},Bo.text=function(t){return Vo(this,"text",t,Uo)},Bo.remove=function(){var t=this.namespace;return this.each("end.transition",(function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)}))},Bo.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=a.ease.apply(a,arguments)),dt(this,(function(r){r[n][e].ease=t})))},Bo.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:dt(this,"function"==typeof t?function(r,i,a){r[n][e].delay=+t.call(r,r.__data__,i,a)}:(t=+t,function(r){r[n][e].delay=t}))},Bo.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:dt(this,"function"==typeof t?function(r,i,a){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,a))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},Bo.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var i=Po,s=Io;try{Io=n,dt(this,(function(e,i,a){Po=e[r][n],t.call(e,e.__data__,i,a)}))}finally{Po=i,Io=s}}else dt(this,(function(i){var s=i[r][n];(s.event||(s.event=a.dispatch("start","end","interrupt"))).on(t,e)}));return this},Bo.transition=function(){for(var t,e,n,r=this.id,i=++Ho,a=this.namespace,s=[],o=0,u=this.length;o<u;o++){s.push(t=[]);for(var l,c=0,h=(l=this[o]).length;c<h;c++)(e=l[c])&&Zo(e,c,a,i,{time:(n=e[a][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return jo(s,a,i)},a.svg.axis=function(){var t,e=a.scale.linear(),n=Go,r=6,i=6,s=3,u=[10],l=null;function c(o){o.each((function(){var o,c=a.select(this),h=this.__chart__||e,f=this.__chart__=e.copy(),p=null==l?f.ticks?f.ticks.apply(f,u):f.domain():l,d=null==t?f.tickFormat?f.tickFormat.apply(f,u):q:t,g=c.selectAll(".tick").data(p,f),v=g.enter().insert("g",".domain").attr("class","tick").style("opacity",St),m=a.transition(g.exit()).style("opacity",St).remove(),y=a.transition(g.order()).style("opacity",1),x=Math.max(r,0)+s,_=Ms(f),b=c.selectAll(".domain").data([0]),w=(b.enter().append("path").attr("class","domain"),a.transition(b));v.append("line"),v.append("text");var C,k,A,M,E=v.select("line"),S=y.select("line"),D=g.select("text").text(d),L=v.select("text"),T=y.select("text"),z="top"===n||"left"===n?-1:1;if("bottom"===n||"top"===n?(o=Yo,C="x",A="y",k="x2",M="y2",D.attr("dy",z<0?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+_[0]+","+z*i+"V0H"+_[1]+"V"+z*i)):(o=Xo,C="y",A="x",k="y2",M="x2",D.attr("dy",".32em").style("text-anchor",z<0?"end":"start"),w.attr("d","M"+z*i+","+_[0]+"H0V"+_[1]+"H"+z*i)),E.attr(M,z*r),L.attr(A,z*x),S.attr(k,0).attr(M,z*r),T.attr(C,0).attr(A,z*x),f.rangeBand){var N=f,F=N.rangeBand()/2;h=f=function(t){return N(t)+F}}else h.rangeBand?h=f:m.call(o,f,h);v.call(o,h,f),y.call(o,f,f)}))}return c.scale=function(t){return arguments.length?(e=t,c):e},c.orient=function(t){return arguments.length?(n=t in Wo?t+"":Go,c):n},c.ticks=function(){return arguments.length?(u=o(arguments),c):u},c.tickValues=function(t){return arguments.length?(l=t,c):l},c.tickFormat=function(e){return arguments.length?(t=e,c):t},c.tickSize=function(t){var e=arguments.length;return e?(r=+t,i=+arguments[e-1],c):r},c.innerTickSize=function(t){return arguments.length?(r=+t,c):r},c.outerTickSize=function(t){return arguments.length?(i=+t,c):i},c.tickPadding=function(t){return arguments.length?(s=+t,c):s},c.tickSubdivide=function(){return arguments.length&&c},c};var Go="bottom",Wo={top:1,right:1,bottom:1,left:1};function Yo(t,e,n){t.attr("transform",(function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"}))}function Xo(t,e,n){t.attr("transform",(function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"}))}a.svg.brush=function(){var t,e,n=V(f,"brushstart","brush","brushend"),r=null,i=null,s=[0,0],o=[0,0],u=!0,l=!0,h=Ko[0];function f(t){t.each((function(){var t=a.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",v).on("touchstart.brush",v),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(h,q);n.exit().remove(),n.enter().append("g").attr("class",(function(t){return"resize "+t})).style("cursor",(function(t){return Jo[t]})).append("rect").attr("x",(function(t){return/[ew]$/.test(t)?-3:null})).attr("y",(function(t){return/^[ns]/.test(t)?-3:null})).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",f.empty()?"none":null);var s,o=a.transition(t),u=a.transition(e);r&&(s=Ms(r),u.attr("x",s[0]).attr("width",s[1]-s[0]),d(o)),i&&(s=Ms(i),u.attr("y",s[0]).attr("height",s[1]-s[0]),g(o)),p(o)}))}function p(t){t.selectAll(".resize").attr("transform",(function(t){return"translate("+s[+/e$/.test(t)]+","+o[+/^s/.test(t)]+")"}))}function d(t){t.select(".extent").attr("x",s[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",s[1]-s[0])}function g(t){t.select(".extent").attr("y",o[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",o[1]-o[0])}function v(){var h,v,m=this,y=a.select(a.event.target),x=n.of(m,arguments),_=a.select(m),b=y.datum(),w=!/^(n|s)$/.test(b)&&r,C=!/^(e|w)$/.test(b)&&i,k=y.classed("extent"),A=kt(m),M=a.mouse(m),E=a.select(c(m)).on("keydown.brush",L).on("keyup.brush",T);if(a.event.changedTouches?E.on("touchmove.brush",z).on("touchend.brush",q):E.on("mousemove.brush",z).on("mouseup.brush",q),_.interrupt().selectAll("*").interrupt(),k)M[0]=s[0]-M[0],M[1]=o[0]-M[1];else if(b){var S=+/w$/.test(b),D=+/^n/.test(b);v=[s[1-S]-M[0],o[1-D]-M[1]],M[0]=s[S],M[1]=o[D]}else a.event.altKey&&(h=M.slice());function L(){32==a.event.keyCode&&(k||(h=null,M[0]-=s[1],M[1]-=o[1],k=2),B())}function T(){32==a.event.keyCode&&2==k&&(M[0]+=s[1],M[1]+=o[1],k=0,B())}function z(){var t=a.mouse(m),e=!1;v&&(t[0]+=v[0],t[1]+=v[1]),k||(a.event.altKey?(h||(h=[(s[0]+s[1])/2,(o[0]+o[1])/2]),M[0]=s[+(t[0]<h[0])],M[1]=o[+(t[1]<h[1])]):h=null),w&&N(t,r,0)&&(d(_),e=!0),C&&N(t,i,1)&&(g(_),e=!0),e&&(p(_),x({type:"brush",mode:k?"move":"resize"}))}function N(n,r,i){var a,c,f=Ms(r),p=f[0],d=f[1],g=M[i],v=i?o:s,m=v[1]-v[0];if(k&&(p-=g,d-=m+g),a=(i?l:u)?Math.max(p,Math.min(d,n[i])):n[i],k?c=(a+=g)+m:(h&&(g=Math.max(p,Math.min(d,2*h[i]-a))),g<a?(c=a,a=g):c=g),v[0]!=a||v[1]!=c)return i?e=null:t=null,v[0]=a,v[1]=c,!0}function q(){z(),_.style("pointer-events","all").selectAll(".resize").style("display",f.empty()?"none":null),a.select("body").style("cursor",null),E.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),A(),x({type:"brushend"})}_.style("pointer-events","none").selectAll(".resize").style("display",null),a.select("body").style("cursor",y.style("cursor")),x({type:"brushstart"}),z()}return f.event=function(r){r.each((function(){var r=n.of(this,arguments),i={x:s,y:o,i:t,j:e},u=this.__chart__||i;this.__chart__=i,Io?a.select(this).transition().each("start.brush",(function(){t=u.i,e=u.j,s=u.x,o=u.y,r({type:"brushstart"})})).tween("brush:brush",(function(){var n=oa(s,i.x),a=oa(o,i.y);return t=e=null,function(t){s=i.x=n(t),o=i.y=a(t),r({type:"brush",mode:"resize"})}})).each("end.brush",(function(){t=i.i,e=i.j,r({type:"brush",mode:"resize"}),r({type:"brushend"})})):(r({type:"brushstart"}),r({type:"brush",mode:"resize"}),r({type:"brushend"}))}))},f.x=function(t){return arguments.length?(h=Ko[!(r=t)<<1|!i],f):r},f.y=function(t){return arguments.length?(h=Ko[!r<<1|!(i=t)],f):i},f.clamp=function(t){return arguments.length?(r&&i?(u=!!t[0],l=!!t[1]):r?u=!!t:i&&(l=!!t),f):r&&i?[u,l]:r?u:i?l:null},f.extent=function(n){var a,u,l,c,h;return arguments.length?(r&&(a=n[0],u=n[1],i&&(a=a[0],u=u[0]),t=[a,u],r.invert&&(a=r(a),u=r(u)),u<a&&(h=a,a=u,u=h),a==s[0]&&u==s[1]||(s=[a,u])),i&&(l=n[0],c=n[1],r&&(l=l[1],c=c[1]),e=[l,c],i.invert&&(l=i(l),c=i(c)),c<l&&(h=l,l=c,c=h),l==o[0]&&c==o[1]||(o=[l,c])),f):(r&&(t?(a=t[0],u=t[1]):(a=s[0],u=s[1],r.invert&&(a=r.invert(a),u=r.invert(u)),u<a&&(h=a,a=u,u=h))),i&&(e?(l=e[0],c=e[1]):(l=o[0],c=o[1],i.invert&&(l=i.invert(l),c=i.invert(c)),c<l&&(h=l,l=c,c=h))),r&&i?[[a,l],[u,c]]:r?[a,u]:i&&[l,c])},f.clear=function(){return f.empty()||(s=[0,0],o=[0,0],t=e=null),f},f.empty=function(){return!!r&&s[0]==s[1]||!!i&&o[0]==o[1]},a.rebind(f,n,"on")};var Jo={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ko=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Qo=je.format=dn.timeFormat,tu=Qo.utc,eu=tu("%Y-%m-%dT%H:%M:%S.%LZ");function nu(t){return t.toISOString()}function ru(t,e,n){function r(e){return t(e)}function i(t,n){var r=(t[1]-t[0])/n,i=a.bisect(au,r);return i==au.length?[e.year,Fs(t.map((function(t){return t/31536e6})),n)[2]]:i?e[r/au[i-1]<au[i]/r?i-1:i]:[uu,Fs(t,n)[2]]}return r.invert=function(e){return iu(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(iu)},r.nice=function(t,e){var n=r.domain(),a=As(n),s=null==t?i(a,10):"number"==typeof t&&i(a,t);function o(n){return!isNaN(n)&&!t.range(n,iu(+n+1),e).length}return s&&(t=s[0],e=s[1]),r.domain(Ss(n,e>1?{floor:function(e){for(;o(e=t.floor(e));)e=iu(e-1);return e},ceil:function(e){for(;o(e=t.ceil(e));)e=iu(+e+1);return e}}:t))},r.ticks=function(t,e){var n=As(r.domain()),a=null==t?i(n,10):"number"==typeof t?i(n,t):!t.range&&[{range:t},e];return a&&(t=a[0],e=a[1]),t.range(n[0],iu(+n[1]+1),e<1?1:e)},r.tickFormat=function(){return n},r.copy=function(){return ru(t.copy(),e,n)},Ns(r,t)}function iu(t){return new Date(t)}Qo.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?nu:eu,nu.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},nu.toString=eu.toString,je.second=He((function(t){return new Ie(1e3*Math.floor(t/1e3))}),(function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))}),(function(t){return t.getSeconds()})),je.seconds=je.second.range,je.seconds.utc=je.second.utc.range,je.minute=He((function(t){return new Ie(6e4*Math.floor(t/6e4))}),(function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))}),(function(t){return t.getMinutes()})),je.minutes=je.minute.range,je.minutes.utc=je.minute.utc.range,je.hour=He((function(t){var e=t.getTimezoneOffset()/60;return new Ie(36e5*(Math.floor(t/36e5-e)+e))}),(function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))}),(function(t){return t.getHours()})),je.hours=je.hour.range,je.hours.utc=je.hour.utc.range,je.month=He((function(t){return(t=je.day(t)).setDate(1),t}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t){return t.getMonth()})),je.months=je.month.range,je.months.utc=je.month.utc.range;var au=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],su=[[je.second,1],[je.second,5],[je.second,15],[je.second,30],[je.minute,1],[je.minute,5],[je.minute,15],[je.minute,30],[je.hour,1],[je.hour,3],[je.hour,6],[je.hour,12],[je.day,1],[je.day,2],[je.week,1],[je.month,1],[je.month,3],[je.year,1]],ou=Qo.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Qn]]),uu={range:function(t,e,n){return a.range(Math.ceil(t/n)*n,+e,n).map(iu)},floor:q,ceil:q};su.year=je.year,je.scale=function(){return ru(a.scale.linear(),su,ou)};var lu=su.map((function(t){return[t[0].utc,t[1]]})),cu=tu.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Qn]]);function hu(t){return JSON.parse(t.responseText)}function fu(t){var e=u.createRange();return e.selectNode(u.body),e.createContextualFragment(t.responseText)}lu.year=je.year.utc,je.scale.utc=function(){return ru(a.scale.linear(),lu,cu)},a.text=be((function(t){return t.responseText})),a.json=function(t,e){return we(t,"application/json",hu,e)},a.html=function(t,e){return we(t,"text/html",fu,e)},a.xml=be((function(t){return t.responseXML})),this.d3=a,void 0===(i="function"==typeof(r=a)?r.call(e,n,e,t):r)||(t.exports=i)}()},,,,function(t,e){t.exports=/[!-#%-\*,-/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E49\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},function(t,e,n){"use strict";function r(){this.__rules__=[],this.__cache__=null}r.prototype.__find__=function(t){for(var e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1},r.prototype.__compile__=function(){var t=this,e=[""];t.__rules__.forEach((function(t){t.enabled&&t.alt.forEach((function(t){e.indexOf(t)<0&&e.push(t)}))})),t.__cache__={},e.forEach((function(e){t.__cache__[e]=[],t.__rules__.forEach((function(n){n.enabled&&(e&&n.alt.indexOf(e)<0||t.__cache__[e].push(n.fn))}))}))},r.prototype.at=function(t,e,n){var r=this.__find__(t),i=n||{};if(-1===r)throw new Error("Parser rule not found: "+t);this.__rules__[r].fn=e,this.__rules__[r].alt=i.alt||[],this.__cache__=null},r.prototype.before=function(t,e,n,r){var i=this.__find__(t),a=r||{};if(-1===i)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i,0,{name:e,enabled:!0,fn:n,alt:a.alt||[]}),this.__cache__=null},r.prototype.after=function(t,e,n,r){var i=this.__find__(t),a=r||{};if(-1===i)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i+1,0,{name:e,enabled:!0,fn:n,alt:a.alt||[]}),this.__cache__=null},r.prototype.push=function(t,e,n){var r=n||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:r.alt||[]}),this.__cache__=null},r.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);var n=[];return t.forEach((function(t){var r=this.__find__(t);if(r<0){if(e)return;throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[r].enabled=!0,n.push(t)}),this),this.__cache__=null,n},r.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach((function(t){t.enabled=!1})),this.enable(t,e)},r.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);var n=[];return t.forEach((function(t){var r=this.__find__(t);if(r<0){if(e)return;throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[r].enabled=!1,n.push(t)}),this),this.__cache__=null,n},r.prototype.getRules=function(t){return null===this.__cache__&&this.__compile__(),this.__cache__[t]||[]},t.exports=r},function(t,e,n){"use strict";function r(t,e,n){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}r.prototype.attrIndex=function(t){var e,n,r;if(!this.attrs)return-1;for(n=0,r=(e=this.attrs).length;n<r;n++)if(e[n][0]===t)return n;return-1},r.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]},r.prototype.attrSet=function(t,e){var n=this.attrIndex(t),r=[t,e];n<0?this.attrPush(r):this.attrs[n]=r},r.prototype.attrGet=function(t){var e=this.attrIndex(t),n=null;return e>=0&&(n=this.attrs[e][1]),n},r.prototype.attrJoin=function(t,e){var n=this.attrIndex(t);n<0?this.attrPush([t,e]):this.attrs[n][1]=this.attrs[n][1]+" "+e},t.exports=r},function(t,e,n){"use strict";t.exports=n(64)},function(t,e,n){"use strict";t.exports.encode=n(65),t.exports.decode=n(66),t.exports.format=n(67),t.exports.parse=n(68)},function(t,e){t.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},function(t,e){t.exports=/[\0-\x1F\x7F-\x9F]/},function(t,e){t.exports=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/},function(t,e,n){"use strict";var r="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",i="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",a=new RegExp("^(?:"+r+"|"+i+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?].*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),s=new RegExp("^(?:"+r+"|"+i+")");t.exports.HTML_TAG_RE=a,t.exports.HTML_OPEN_CLOSE_TAG_RE=s},function(t,e,n){"use strict";function r(t,e){var n,r,i,a,s,o=[],u=e.length;for(n=0;n<u;n++)126===(i=e[n]).marker&&-1!==i.end&&(a=e[i.end],(s=t.tokens[i.token]).type="s_open",s.tag="s",s.nesting=1,s.markup="~~",s.content="",(s=t.tokens[a.token]).type="s_close",s.tag="s",s.nesting=-1,s.markup="~~",s.content="","text"===t.tokens[a.token-1].type&&"~"===t.tokens[a.token-1].content&&o.push(a.token-1));for(;o.length;){for(r=(n=o.pop())+1;r<t.tokens.length&&"s_close"===t.tokens[r].type;)r++;n!==--r&&(s=t.tokens[r],t.tokens[r]=t.tokens[n],t.tokens[n]=s)}}t.exports.tokenize=function(t,e){var n,r,i,a,s=t.pos,o=t.src.charCodeAt(s);if(e)return!1;if(126!==o)return!1;if(i=(r=t.scanDelims(t.pos,!0)).length,a=String.fromCharCode(o),i<2)return!1;for(i%2&&(t.push("text","",0).content=a,i--),n=0;n<i;n+=2)t.push("text","",0).content=a+a,t.delimiters.push({marker:o,length:0,jump:n,token:t.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return t.pos+=r.length,!0},t.exports.postProcess=function(t){var e,n=t.tokens_meta,i=t.tokens_meta.length;for(r(t,t.delimiters),e=0;e<i;e++)n[e]&&n[e].delimiters&&r(t,n[e].delimiters)}},function(t,e,n){"use strict";function r(t,e){var n,r,i,a,s,o;for(n=e.length-1;n>=0;n--)95!==(r=e[n]).marker&&42!==r.marker||-1!==r.end&&(i=e[r.end],o=n>0&&e[n-1].end===r.end+1&&e[n-1].token===r.token-1&&e[r.end+1].token===i.token+1&&e[n-1].marker===r.marker,s=String.fromCharCode(r.marker),(a=t.tokens[r.token]).type=o?"strong_open":"em_open",a.tag=o?"strong":"em",a.nesting=1,a.markup=o?s+s:s,a.content="",(a=t.tokens[i.token]).type=o?"strong_close":"em_close",a.tag=o?"strong":"em",a.nesting=-1,a.markup=o?s+s:s,a.content="",o&&(t.tokens[e[n-1].token].content="",t.tokens[e[r.end+1].token].content="",n--))}t.exports.tokenize=function(t,e){var n,r,i=t.pos,a=t.src.charCodeAt(i);if(e)return!1;if(95!==a&&42!==a)return!1;for(r=t.scanDelims(t.pos,42===a),n=0;n<r.length;n++)t.push("text","",0).content=String.fromCharCode(a),t.delimiters.push({marker:a,length:r.length,jump:n,token:t.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return t.pos+=r.length,!0},t.exports.postProcess=function(t){var e,n=t.tokens_meta,i=t.tokens_meta.length;for(r(t,t.delimiters),e=0;e<i;e++)n[e]&&n[e].delimiters&&r(t,n[e].delimiters)}},,,,,,,,,,function(t,e,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,a=i&&"function"==typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var u=10;function l(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function c(t,e,n,r){var i,a,s,o;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(a=t._events)?(a=t._events=Object.create(null),t._eventsCount=0):(void 0!==a.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),a=t._events),s=a[e]),void 0===s)s=a[e]=n,++t._eventsCount;else if("function"==typeof s?s=a[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=l(t))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=s.length,o=u,console&&console.warn&&console.warn(o)}return t}function h(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,a(this.listener,this.target,t))}function f(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=h.bind(r);return i.listener=n,r.wrapFn=i,i}function p(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):g(i,i.length)}function d(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var u=i[t];if(void 0===u)return!1;if("function"==typeof u)a(u,this,e);else{var l=u.length,c=g(u,l);for(n=0;n<l;++n)a(c[n],this,e)}return!0},o.prototype.addListener=function(t,e){return c(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return c(this,t,e,!0)},o.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.on(t,f(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.prependListener(t,f(this,t,e)),this},o.prototype.removeListener=function(t,e){var n,r,i,a,s;if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);if(void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===e||n[a].listener===e){s=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},o.prototype.listeners=function(t){return p(this,t,!0)},o.prototype.rawListeners=function(t){return p(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},o.prototype.listenerCount=d,o.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){"use strict";t.exports=n(63)},function(t,e,n){"use strict";var r=n(36),i=n(71),a=n(75),s=n(76),o=n(84),u=n(98),l=n(111),c=n(45),h=n(113),f={default:n(116),zero:n(117),commonmark:n(118)},p=/^(vbscript|javascript|file|data):/,d=/^data:image\/(gif|png|jpeg|webp);/;function g(t){var e=t.trim().toLowerCase();return!p.test(e)||!!d.test(e)}var v=["http:","https:","mailto:"];function m(t){var e=c.parse(t,!0);if(e.hostname&&(!e.protocol||v.indexOf(e.protocol)>=0))try{e.hostname=h.toASCII(e.hostname)}catch(t){}return c.encode(c.format(e))}function y(t){var e=c.parse(t,!0);if(e.hostname&&(!e.protocol||v.indexOf(e.protocol)>=0))try{e.hostname=h.toUnicode(e.hostname)}catch(t){}return c.decode(c.format(e))}function x(t,e){if(!(this instanceof x))return new x(t,e);e||r.isString(t)||(e=t||{},t="default"),this.inline=new u,this.block=new o,this.core=new s,this.renderer=new a,this.linkify=new l,this.validateLink=g,this.normalizeLink=m,this.normalizeLinkText=y,this.utils=r,this.helpers=r.assign({},i),this.options={},this.configure(t),e&&this.set(e)}x.prototype.set=function(t){return r.assign(this.options,t),this},x.prototype.configure=function(t){var e,n=this;if(r.isString(t)&&!(t=f[e=t]))throw new Error('Wrong `markdown-it` preset "'+e+'", check name');if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&n.set(t.options),t.components&&Object.keys(t.components).forEach((function(e){t.components[e].rules&&n[e].ruler.enableOnly(t.components[e].rules),t.components[e].rules2&&n[e].ruler2.enableOnly(t.components[e].rules2)})),this},x.prototype.enable=function(t,e){var n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach((function(e){n=n.concat(this[e].ruler.enable(t,!0))}),this),n=n.concat(this.inline.ruler2.enable(t,!0));var r=t.filter((function(t){return n.indexOf(t)<0}));if(r.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this},x.prototype.disable=function(t,e){var n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach((function(e){n=n.concat(this[e].ruler.disable(t,!0))}),this),n=n.concat(this.inline.ruler2.disable(t,!0));var r=t.filter((function(t){return n.indexOf(t)<0}));if(r.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this},x.prototype.use=function(t){var e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this},x.prototype.parse=function(t,e){if("string"!=typeof t)throw new Error("Input data should be a String");var n=new this.core.State(t,this,e);return this.core.process(n),n.tokens},x.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)},x.prototype.parseInline=function(t,e){var n=new this.core.State(t,this,e);return n.inlineMode=!0,this.core.process(n),n.tokens},x.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)},t.exports=x},function(t){t.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Abreve":"Ă","abreve":"ă","ac":"∾","acd":"∿","acE":"∾̳","Acirc":"Â","acirc":"â","acute":"´","Acy":"А","acy":"а","AElig":"Æ","aelig":"æ","af":"⁡","Afr":"𝔄","afr":"𝔞","Agrave":"À","agrave":"à","alefsym":"ℵ","aleph":"ℵ","Alpha":"Α","alpha":"α","Amacr":"Ā","amacr":"ā","amalg":"⨿","amp":"&","AMP":"&","andand":"⩕","And":"⩓","and":"∧","andd":"⩜","andslope":"⩘","andv":"⩚","ang":"∠","ange":"⦤","angle":"∠","angmsdaa":"⦨","angmsdab":"⦩","angmsdac":"⦪","angmsdad":"⦫","angmsdae":"⦬","angmsdaf":"⦭","angmsdag":"⦮","angmsdah":"⦯","angmsd":"∡","angrt":"∟","angrtvb":"⊾","angrtvbd":"⦝","angsph":"∢","angst":"Å","angzarr":"⍼","Aogon":"Ą","aogon":"ą","Aopf":"𝔸","aopf":"𝕒","apacir":"⩯","ap":"≈","apE":"⩰","ape":"≊","apid":"≋","apos":"\'","ApplyFunction":"⁡","approx":"≈","approxeq":"≊","Aring":"Å","aring":"å","Ascr":"𝒜","ascr":"𝒶","Assign":"≔","ast":"*","asymp":"≈","asympeq":"≍","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","awconint":"∳","awint":"⨑","backcong":"≌","backepsilon":"϶","backprime":"‵","backsim":"∽","backsimeq":"⋍","Backslash":"∖","Barv":"⫧","barvee":"⊽","barwed":"⌅","Barwed":"⌆","barwedge":"⌅","bbrk":"⎵","bbrktbrk":"⎶","bcong":"≌","Bcy":"Б","bcy":"б","bdquo":"„","becaus":"∵","because":"∵","Because":"∵","bemptyv":"⦰","bepsi":"϶","bernou":"ℬ","Bernoullis":"ℬ","Beta":"Β","beta":"β","beth":"ℶ","between":"≬","Bfr":"𝔅","bfr":"𝔟","bigcap":"⋂","bigcirc":"◯","bigcup":"⋃","bigodot":"⨀","bigoplus":"⨁","bigotimes":"⨂","bigsqcup":"⨆","bigstar":"★","bigtriangledown":"▽","bigtriangleup":"△","biguplus":"⨄","bigvee":"⋁","bigwedge":"⋀","bkarow":"⤍","blacklozenge":"⧫","blacksquare":"▪","blacktriangle":"▴","blacktriangledown":"▾","blacktriangleleft":"◂","blacktriangleright":"▸","blank":"␣","blk12":"▒","blk14":"░","blk34":"▓","block":"█","bne":"=⃥","bnequiv":"≡⃥","bNot":"⫭","bnot":"⌐","Bopf":"𝔹","bopf":"𝕓","bot":"⊥","bottom":"⊥","bowtie":"⋈","boxbox":"⧉","boxdl":"┐","boxdL":"╕","boxDl":"╖","boxDL":"╗","boxdr":"┌","boxdR":"╒","boxDr":"╓","boxDR":"╔","boxh":"─","boxH":"═","boxhd":"┬","boxHd":"╤","boxhD":"╥","boxHD":"╦","boxhu":"┴","boxHu":"╧","boxhU":"╨","boxHU":"╩","boxminus":"⊟","boxplus":"⊞","boxtimes":"⊠","boxul":"┘","boxuL":"╛","boxUl":"╜","boxUL":"╝","boxur":"└","boxuR":"╘","boxUr":"╙","boxUR":"╚","boxv":"│","boxV":"║","boxvh":"┼","boxvH":"╪","boxVh":"╫","boxVH":"╬","boxvl":"┤","boxvL":"╡","boxVl":"╢","boxVL":"╣","boxvr":"├","boxvR":"╞","boxVr":"╟","boxVR":"╠","bprime":"‵","breve":"˘","Breve":"˘","brvbar":"¦","bscr":"𝒷","Bscr":"ℬ","bsemi":"⁏","bsim":"∽","bsime":"⋍","bsolb":"⧅","bsol":"\\\\","bsolhsub":"⟈","bull":"•","bullet":"•","bump":"≎","bumpE":"⪮","bumpe":"≏","Bumpeq":"≎","bumpeq":"≏","Cacute":"Ć","cacute":"ć","capand":"⩄","capbrcup":"⩉","capcap":"⩋","cap":"∩","Cap":"⋒","capcup":"⩇","capdot":"⩀","CapitalDifferentialD":"ⅅ","caps":"∩︀","caret":"⁁","caron":"ˇ","Cayleys":"ℭ","ccaps":"⩍","Ccaron":"Č","ccaron":"č","Ccedil":"Ç","ccedil":"ç","Ccirc":"Ĉ","ccirc":"ĉ","Cconint":"∰","ccups":"⩌","ccupssm":"⩐","Cdot":"Ċ","cdot":"ċ","cedil":"¸","Cedilla":"¸","cemptyv":"⦲","cent":"¢","centerdot":"·","CenterDot":"·","cfr":"𝔠","Cfr":"ℭ","CHcy":"Ч","chcy":"ч","check":"✓","checkmark":"✓","Chi":"Χ","chi":"χ","circ":"ˆ","circeq":"≗","circlearrowleft":"↺","circlearrowright":"↻","circledast":"⊛","circledcirc":"⊚","circleddash":"⊝","CircleDot":"⊙","circledR":"®","circledS":"Ⓢ","CircleMinus":"⊖","CirclePlus":"⊕","CircleTimes":"⊗","cir":"○","cirE":"⧃","cire":"≗","cirfnint":"⨐","cirmid":"⫯","cirscir":"⧂","ClockwiseContourIntegral":"∲","CloseCurlyDoubleQuote":"”","CloseCurlyQuote":"’","clubs":"♣","clubsuit":"♣","colon":":","Colon":"∷","Colone":"⩴","colone":"≔","coloneq":"≔","comma":",","commat":"@","comp":"∁","compfn":"∘","complement":"∁","complexes":"ℂ","cong":"≅","congdot":"⩭","Congruent":"≡","conint":"∮","Conint":"∯","ContourIntegral":"∮","copf":"𝕔","Copf":"ℂ","coprod":"∐","Coproduct":"∐","copy":"©","COPY":"©","copysr":"℗","CounterClockwiseContourIntegral":"∳","crarr":"↵","cross":"✗","Cross":"⨯","Cscr":"𝒞","cscr":"𝒸","csub":"⫏","csube":"⫑","csup":"⫐","csupe":"⫒","ctdot":"⋯","cudarrl":"⤸","cudarrr":"⤵","cuepr":"⋞","cuesc":"⋟","cularr":"↶","cularrp":"⤽","cupbrcap":"⩈","cupcap":"⩆","CupCap":"≍","cup":"∪","Cup":"⋓","cupcup":"⩊","cupdot":"⊍","cupor":"⩅","cups":"∪︀","curarr":"↷","curarrm":"⤼","curlyeqprec":"⋞","curlyeqsucc":"⋟","curlyvee":"⋎","curlywedge":"⋏","curren":"¤","curvearrowleft":"↶","curvearrowright":"↷","cuvee":"⋎","cuwed":"⋏","cwconint":"∲","cwint":"∱","cylcty":"⌭","dagger":"†","Dagger":"‡","daleth":"ℸ","darr":"↓","Darr":"↡","dArr":"⇓","dash":"‐","Dashv":"⫤","dashv":"⊣","dbkarow":"⤏","dblac":"˝","Dcaron":"Ď","dcaron":"ď","Dcy":"Д","dcy":"д","ddagger":"‡","ddarr":"⇊","DD":"ⅅ","dd":"ⅆ","DDotrahd":"⤑","ddotseq":"⩷","deg":"°","Del":"∇","Delta":"Δ","delta":"δ","demptyv":"⦱","dfisht":"⥿","Dfr":"𝔇","dfr":"𝔡","dHar":"⥥","dharl":"⇃","dharr":"⇂","DiacriticalAcute":"´","DiacriticalDot":"˙","DiacriticalDoubleAcute":"˝","DiacriticalGrave":"`","DiacriticalTilde":"˜","diam":"⋄","diamond":"⋄","Diamond":"⋄","diamondsuit":"♦","diams":"♦","die":"¨","DifferentialD":"ⅆ","digamma":"ϝ","disin":"⋲","div":"÷","divide":"÷","divideontimes":"⋇","divonx":"⋇","DJcy":"Ђ","djcy":"ђ","dlcorn":"⌞","dlcrop":"⌍","dollar":"$","Dopf":"𝔻","dopf":"𝕕","Dot":"¨","dot":"˙","DotDot":"⃜","doteq":"≐","doteqdot":"≑","DotEqual":"≐","dotminus":"∸","dotplus":"∔","dotsquare":"⊡","doublebarwedge":"⌆","DoubleContourIntegral":"∯","DoubleDot":"¨","DoubleDownArrow":"⇓","DoubleLeftArrow":"⇐","DoubleLeftRightArrow":"⇔","DoubleLeftTee":"⫤","DoubleLongLeftArrow":"⟸","DoubleLongLeftRightArrow":"⟺","DoubleLongRightArrow":"⟹","DoubleRightArrow":"⇒","DoubleRightTee":"⊨","DoubleUpArrow":"⇑","DoubleUpDownArrow":"⇕","DoubleVerticalBar":"∥","DownArrowBar":"⤓","downarrow":"↓","DownArrow":"↓","Downarrow":"⇓","DownArrowUpArrow":"⇵","DownBreve":"̑","downdownarrows":"⇊","downharpoonleft":"⇃","downharpoonright":"⇂","DownLeftRightVector":"⥐","DownLeftTeeVector":"⥞","DownLeftVectorBar":"⥖","DownLeftVector":"↽","DownRightTeeVector":"⥟","DownRightVectorBar":"⥗","DownRightVector":"⇁","DownTeeArrow":"↧","DownTee":"⊤","drbkarow":"⤐","drcorn":"⌟","drcrop":"⌌","Dscr":"𝒟","dscr":"𝒹","DScy":"Ѕ","dscy":"ѕ","dsol":"⧶","Dstrok":"Đ","dstrok":"đ","dtdot":"⋱","dtri":"▿","dtrif":"▾","duarr":"⇵","duhar":"⥯","dwangle":"⦦","DZcy":"Џ","dzcy":"џ","dzigrarr":"⟿","Eacute":"É","eacute":"é","easter":"⩮","Ecaron":"Ě","ecaron":"ě","Ecirc":"Ê","ecirc":"ê","ecir":"≖","ecolon":"≕","Ecy":"Э","ecy":"э","eDDot":"⩷","Edot":"Ė","edot":"ė","eDot":"≑","ee":"ⅇ","efDot":"≒","Efr":"𝔈","efr":"𝔢","eg":"⪚","Egrave":"È","egrave":"è","egs":"⪖","egsdot":"⪘","el":"⪙","Element":"∈","elinters":"⏧","ell":"ℓ","els":"⪕","elsdot":"⪗","Emacr":"Ē","emacr":"ē","empty":"∅","emptyset":"∅","EmptySmallSquare":"◻","emptyv":"∅","EmptyVerySmallSquare":"▫","emsp13":" ","emsp14":" ","emsp":" ","ENG":"Ŋ","eng":"ŋ","ensp":" ","Eogon":"Ę","eogon":"ę","Eopf":"𝔼","eopf":"𝕖","epar":"⋕","eparsl":"⧣","eplus":"⩱","epsi":"ε","Epsilon":"Ε","epsilon":"ε","epsiv":"ϵ","eqcirc":"≖","eqcolon":"≕","eqsim":"≂","eqslantgtr":"⪖","eqslantless":"⪕","Equal":"⩵","equals":"=","EqualTilde":"≂","equest":"≟","Equilibrium":"⇌","equiv":"≡","equivDD":"⩸","eqvparsl":"⧥","erarr":"⥱","erDot":"≓","escr":"ℯ","Escr":"ℰ","esdot":"≐","Esim":"⩳","esim":"≂","Eta":"Η","eta":"η","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","euro":"€","excl":"!","exist":"∃","Exists":"∃","expectation":"ℰ","exponentiale":"ⅇ","ExponentialE":"ⅇ","fallingdotseq":"≒","Fcy":"Ф","fcy":"ф","female":"♀","ffilig":"ﬃ","fflig":"ﬀ","ffllig":"ﬄ","Ffr":"𝔉","ffr":"𝔣","filig":"ﬁ","FilledSmallSquare":"◼","FilledVerySmallSquare":"▪","fjlig":"fj","flat":"♭","fllig":"ﬂ","fltns":"▱","fnof":"ƒ","Fopf":"𝔽","fopf":"𝕗","forall":"∀","ForAll":"∀","fork":"⋔","forkv":"⫙","Fouriertrf":"ℱ","fpartint":"⨍","frac12":"½","frac13":"⅓","frac14":"¼","frac15":"⅕","frac16":"⅙","frac18":"⅛","frac23":"⅔","frac25":"⅖","frac34":"¾","frac35":"⅗","frac38":"⅜","frac45":"⅘","frac56":"⅚","frac58":"⅝","frac78":"⅞","frasl":"⁄","frown":"⌢","fscr":"𝒻","Fscr":"ℱ","gacute":"ǵ","Gamma":"Γ","gamma":"γ","Gammad":"Ϝ","gammad":"ϝ","gap":"⪆","Gbreve":"Ğ","gbreve":"ğ","Gcedil":"Ģ","Gcirc":"Ĝ","gcirc":"ĝ","Gcy":"Г","gcy":"г","Gdot":"Ġ","gdot":"ġ","ge":"≥","gE":"≧","gEl":"⪌","gel":"⋛","geq":"≥","geqq":"≧","geqslant":"⩾","gescc":"⪩","ges":"⩾","gesdot":"⪀","gesdoto":"⪂","gesdotol":"⪄","gesl":"⋛︀","gesles":"⪔","Gfr":"𝔊","gfr":"𝔤","gg":"≫","Gg":"⋙","ggg":"⋙","gimel":"ℷ","GJcy":"Ѓ","gjcy":"ѓ","gla":"⪥","gl":"≷","glE":"⪒","glj":"⪤","gnap":"⪊","gnapprox":"⪊","gne":"⪈","gnE":"≩","gneq":"⪈","gneqq":"≩","gnsim":"⋧","Gopf":"𝔾","gopf":"𝕘","grave":"`","GreaterEqual":"≥","GreaterEqualLess":"⋛","GreaterFullEqual":"≧","GreaterGreater":"⪢","GreaterLess":"≷","GreaterSlantEqual":"⩾","GreaterTilde":"≳","Gscr":"𝒢","gscr":"ℊ","gsim":"≳","gsime":"⪎","gsiml":"⪐","gtcc":"⪧","gtcir":"⩺","gt":">","GT":">","Gt":"≫","gtdot":"⋗","gtlPar":"⦕","gtquest":"⩼","gtrapprox":"⪆","gtrarr":"⥸","gtrdot":"⋗","gtreqless":"⋛","gtreqqless":"⪌","gtrless":"≷","gtrsim":"≳","gvertneqq":"≩︀","gvnE":"≩︀","Hacek":"ˇ","hairsp":" ","half":"½","hamilt":"ℋ","HARDcy":"Ъ","hardcy":"ъ","harrcir":"⥈","harr":"↔","hArr":"⇔","harrw":"↭","Hat":"^","hbar":"ℏ","Hcirc":"Ĥ","hcirc":"ĥ","hearts":"♥","heartsuit":"♥","hellip":"…","hercon":"⊹","hfr":"𝔥","Hfr":"ℌ","HilbertSpace":"ℋ","hksearow":"⤥","hkswarow":"⤦","hoarr":"⇿","homtht":"∻","hookleftarrow":"↩","hookrightarrow":"↪","hopf":"𝕙","Hopf":"ℍ","horbar":"―","HorizontalLine":"─","hscr":"𝒽","Hscr":"ℋ","hslash":"ℏ","Hstrok":"Ħ","hstrok":"ħ","HumpDownHump":"≎","HumpEqual":"≏","hybull":"⁃","hyphen":"‐","Iacute":"Í","iacute":"í","ic":"⁣","Icirc":"Î","icirc":"î","Icy":"И","icy":"и","Idot":"İ","IEcy":"Е","iecy":"е","iexcl":"¡","iff":"⇔","ifr":"𝔦","Ifr":"ℑ","Igrave":"Ì","igrave":"ì","ii":"ⅈ","iiiint":"⨌","iiint":"∭","iinfin":"⧜","iiota":"℩","IJlig":"Ĳ","ijlig":"ĳ","Imacr":"Ī","imacr":"ī","image":"ℑ","ImaginaryI":"ⅈ","imagline":"ℐ","imagpart":"ℑ","imath":"ı","Im":"ℑ","imof":"⊷","imped":"Ƶ","Implies":"⇒","incare":"℅","in":"∈","infin":"∞","infintie":"⧝","inodot":"ı","intcal":"⊺","int":"∫","Int":"∬","integers":"ℤ","Integral":"∫","intercal":"⊺","Intersection":"⋂","intlarhk":"⨗","intprod":"⨼","InvisibleComma":"⁣","InvisibleTimes":"⁢","IOcy":"Ё","iocy":"ё","Iogon":"Į","iogon":"į","Iopf":"𝕀","iopf":"𝕚","Iota":"Ι","iota":"ι","iprod":"⨼","iquest":"¿","iscr":"𝒾","Iscr":"ℐ","isin":"∈","isindot":"⋵","isinE":"⋹","isins":"⋴","isinsv":"⋳","isinv":"∈","it":"⁢","Itilde":"Ĩ","itilde":"ĩ","Iukcy":"І","iukcy":"і","Iuml":"Ï","iuml":"ï","Jcirc":"Ĵ","jcirc":"ĵ","Jcy":"Й","jcy":"й","Jfr":"𝔍","jfr":"𝔧","jmath":"ȷ","Jopf":"𝕁","jopf":"𝕛","Jscr":"𝒥","jscr":"𝒿","Jsercy":"Ј","jsercy":"ј","Jukcy":"Є","jukcy":"є","Kappa":"Κ","kappa":"κ","kappav":"ϰ","Kcedil":"Ķ","kcedil":"ķ","Kcy":"К","kcy":"к","Kfr":"𝔎","kfr":"𝔨","kgreen":"ĸ","KHcy":"Х","khcy":"х","KJcy":"Ќ","kjcy":"ќ","Kopf":"𝕂","kopf":"𝕜","Kscr":"𝒦","kscr":"𝓀","lAarr":"⇚","Lacute":"Ĺ","lacute":"ĺ","laemptyv":"⦴","lagran":"ℒ","Lambda":"Λ","lambda":"λ","lang":"⟨","Lang":"⟪","langd":"⦑","langle":"⟨","lap":"⪅","Laplacetrf":"ℒ","laquo":"«","larrb":"⇤","larrbfs":"⤟","larr":"←","Larr":"↞","lArr":"⇐","larrfs":"⤝","larrhk":"↩","larrlp":"↫","larrpl":"⤹","larrsim":"⥳","larrtl":"↢","latail":"⤙","lAtail":"⤛","lat":"⪫","late":"⪭","lates":"⪭︀","lbarr":"⤌","lBarr":"⤎","lbbrk":"❲","lbrace":"{","lbrack":"[","lbrke":"⦋","lbrksld":"⦏","lbrkslu":"⦍","Lcaron":"Ľ","lcaron":"ľ","Lcedil":"Ļ","lcedil":"ļ","lceil":"⌈","lcub":"{","Lcy":"Л","lcy":"л","ldca":"⤶","ldquo":"“","ldquor":"„","ldrdhar":"⥧","ldrushar":"⥋","ldsh":"↲","le":"≤","lE":"≦","LeftAngleBracket":"⟨","LeftArrowBar":"⇤","leftarrow":"←","LeftArrow":"←","Leftarrow":"⇐","LeftArrowRightArrow":"⇆","leftarrowtail":"↢","LeftCeiling":"⌈","LeftDoubleBracket":"⟦","LeftDownTeeVector":"⥡","LeftDownVectorBar":"⥙","LeftDownVector":"⇃","LeftFloor":"⌊","leftharpoondown":"↽","leftharpoonup":"↼","leftleftarrows":"⇇","leftrightarrow":"↔","LeftRightArrow":"↔","Leftrightarrow":"⇔","leftrightarrows":"⇆","leftrightharpoons":"⇋","leftrightsquigarrow":"↭","LeftRightVector":"⥎","LeftTeeArrow":"↤","LeftTee":"⊣","LeftTeeVector":"⥚","leftthreetimes":"⋋","LeftTriangleBar":"⧏","LeftTriangle":"⊲","LeftTriangleEqual":"⊴","LeftUpDownVector":"⥑","LeftUpTeeVector":"⥠","LeftUpVectorBar":"⥘","LeftUpVector":"↿","LeftVectorBar":"⥒","LeftVector":"↼","lEg":"⪋","leg":"⋚","leq":"≤","leqq":"≦","leqslant":"⩽","lescc":"⪨","les":"⩽","lesdot":"⩿","lesdoto":"⪁","lesdotor":"⪃","lesg":"⋚︀","lesges":"⪓","lessapprox":"⪅","lessdot":"⋖","lesseqgtr":"⋚","lesseqqgtr":"⪋","LessEqualGreater":"⋚","LessFullEqual":"≦","LessGreater":"≶","lessgtr":"≶","LessLess":"⪡","lesssim":"≲","LessSlantEqual":"⩽","LessTilde":"≲","lfisht":"⥼","lfloor":"⌊","Lfr":"𝔏","lfr":"𝔩","lg":"≶","lgE":"⪑","lHar":"⥢","lhard":"↽","lharu":"↼","lharul":"⥪","lhblk":"▄","LJcy":"Љ","ljcy":"љ","llarr":"⇇","ll":"≪","Ll":"⋘","llcorner":"⌞","Lleftarrow":"⇚","llhard":"⥫","lltri":"◺","Lmidot":"Ŀ","lmidot":"ŀ","lmoustache":"⎰","lmoust":"⎰","lnap":"⪉","lnapprox":"⪉","lne":"⪇","lnE":"≨","lneq":"⪇","lneqq":"≨","lnsim":"⋦","loang":"⟬","loarr":"⇽","lobrk":"⟦","longleftarrow":"⟵","LongLeftArrow":"⟵","Longleftarrow":"⟸","longleftrightarrow":"⟷","LongLeftRightArrow":"⟷","Longleftrightarrow":"⟺","longmapsto":"⟼","longrightarrow":"⟶","LongRightArrow":"⟶","Longrightarrow":"⟹","looparrowleft":"↫","looparrowright":"↬","lopar":"⦅","Lopf":"𝕃","lopf":"𝕝","loplus":"⨭","lotimes":"⨴","lowast":"∗","lowbar":"_","LowerLeftArrow":"↙","LowerRightArrow":"↘","loz":"◊","lozenge":"◊","lozf":"⧫","lpar":"(","lparlt":"⦓","lrarr":"⇆","lrcorner":"⌟","lrhar":"⇋","lrhard":"⥭","lrm":"‎","lrtri":"⊿","lsaquo":"‹","lscr":"𝓁","Lscr":"ℒ","lsh":"↰","Lsh":"↰","lsim":"≲","lsime":"⪍","lsimg":"⪏","lsqb":"[","lsquo":"‘","lsquor":"‚","Lstrok":"Ł","lstrok":"ł","ltcc":"⪦","ltcir":"⩹","lt":"<","LT":"<","Lt":"≪","ltdot":"⋖","lthree":"⋋","ltimes":"⋉","ltlarr":"⥶","ltquest":"⩻","ltri":"◃","ltrie":"⊴","ltrif":"◂","ltrPar":"⦖","lurdshar":"⥊","luruhar":"⥦","lvertneqq":"≨︀","lvnE":"≨︀","macr":"¯","male":"♂","malt":"✠","maltese":"✠","Map":"⤅","map":"↦","mapsto":"↦","mapstodown":"↧","mapstoleft":"↤","mapstoup":"↥","marker":"▮","mcomma":"⨩","Mcy":"М","mcy":"м","mdash":"—","mDDot":"∺","measuredangle":"∡","MediumSpace":" ","Mellintrf":"ℳ","Mfr":"𝔐","mfr":"𝔪","mho":"℧","micro":"µ","midast":"*","midcir":"⫰","mid":"∣","middot":"·","minusb":"⊟","minus":"−","minusd":"∸","minusdu":"⨪","MinusPlus":"∓","mlcp":"⫛","mldr":"…","mnplus":"∓","models":"⊧","Mopf":"𝕄","mopf":"𝕞","mp":"∓","mscr":"𝓂","Mscr":"ℳ","mstpos":"∾","Mu":"Μ","mu":"μ","multimap":"⊸","mumap":"⊸","nabla":"∇","Nacute":"Ń","nacute":"ń","nang":"∠⃒","nap":"≉","napE":"⩰̸","napid":"≋̸","napos":"ŉ","napprox":"≉","natural":"♮","naturals":"ℕ","natur":"♮","nbsp":" ","nbump":"≎̸","nbumpe":"≏̸","ncap":"⩃","Ncaron":"Ň","ncaron":"ň","Ncedil":"Ņ","ncedil":"ņ","ncong":"≇","ncongdot":"⩭̸","ncup":"⩂","Ncy":"Н","ncy":"н","ndash":"–","nearhk":"⤤","nearr":"↗","neArr":"⇗","nearrow":"↗","ne":"≠","nedot":"≐̸","NegativeMediumSpace":"​","NegativeThickSpace":"​","NegativeThinSpace":"​","NegativeVeryThinSpace":"​","nequiv":"≢","nesear":"⤨","nesim":"≂̸","NestedGreaterGreater":"≫","NestedLessLess":"≪","NewLine":"\\n","nexist":"∄","nexists":"∄","Nfr":"𝔑","nfr":"𝔫","ngE":"≧̸","nge":"≱","ngeq":"≱","ngeqq":"≧̸","ngeqslant":"⩾̸","nges":"⩾̸","nGg":"⋙̸","ngsim":"≵","nGt":"≫⃒","ngt":"≯","ngtr":"≯","nGtv":"≫̸","nharr":"↮","nhArr":"⇎","nhpar":"⫲","ni":"∋","nis":"⋼","nisd":"⋺","niv":"∋","NJcy":"Њ","njcy":"њ","nlarr":"↚","nlArr":"⇍","nldr":"‥","nlE":"≦̸","nle":"≰","nleftarrow":"↚","nLeftarrow":"⇍","nleftrightarrow":"↮","nLeftrightarrow":"⇎","nleq":"≰","nleqq":"≦̸","nleqslant":"⩽̸","nles":"⩽̸","nless":"≮","nLl":"⋘̸","nlsim":"≴","nLt":"≪⃒","nlt":"≮","nltri":"⋪","nltrie":"⋬","nLtv":"≪̸","nmid":"∤","NoBreak":"⁠","NonBreakingSpace":" ","nopf":"𝕟","Nopf":"ℕ","Not":"⫬","not":"¬","NotCongruent":"≢","NotCupCap":"≭","NotDoubleVerticalBar":"∦","NotElement":"∉","NotEqual":"≠","NotEqualTilde":"≂̸","NotExists":"∄","NotGreater":"≯","NotGreaterEqual":"≱","NotGreaterFullEqual":"≧̸","NotGreaterGreater":"≫̸","NotGreaterLess":"≹","NotGreaterSlantEqual":"⩾̸","NotGreaterTilde":"≵","NotHumpDownHump":"≎̸","NotHumpEqual":"≏̸","notin":"∉","notindot":"⋵̸","notinE":"⋹̸","notinva":"∉","notinvb":"⋷","notinvc":"⋶","NotLeftTriangleBar":"⧏̸","NotLeftTriangle":"⋪","NotLeftTriangleEqual":"⋬","NotLess":"≮","NotLessEqual":"≰","NotLessGreater":"≸","NotLessLess":"≪̸","NotLessSlantEqual":"⩽̸","NotLessTilde":"≴","NotNestedGreaterGreater":"⪢̸","NotNestedLessLess":"⪡̸","notni":"∌","notniva":"∌","notnivb":"⋾","notnivc":"⋽","NotPrecedes":"⊀","NotPrecedesEqual":"⪯̸","NotPrecedesSlantEqual":"⋠","NotReverseElement":"∌","NotRightTriangleBar":"⧐̸","NotRightTriangle":"⋫","NotRightTriangleEqual":"⋭","NotSquareSubset":"⊏̸","NotSquareSubsetEqual":"⋢","NotSquareSuperset":"⊐̸","NotSquareSupersetEqual":"⋣","NotSubset":"⊂⃒","NotSubsetEqual":"⊈","NotSucceeds":"⊁","NotSucceedsEqual":"⪰̸","NotSucceedsSlantEqual":"⋡","NotSucceedsTilde":"≿̸","NotSuperset":"⊃⃒","NotSupersetEqual":"⊉","NotTilde":"≁","NotTildeEqual":"≄","NotTildeFullEqual":"≇","NotTildeTilde":"≉","NotVerticalBar":"∤","nparallel":"∦","npar":"∦","nparsl":"⫽⃥","npart":"∂̸","npolint":"⨔","npr":"⊀","nprcue":"⋠","nprec":"⊀","npreceq":"⪯̸","npre":"⪯̸","nrarrc":"⤳̸","nrarr":"↛","nrArr":"⇏","nrarrw":"↝̸","nrightarrow":"↛","nRightarrow":"⇏","nrtri":"⋫","nrtrie":"⋭","nsc":"⊁","nsccue":"⋡","nsce":"⪰̸","Nscr":"𝒩","nscr":"𝓃","nshortmid":"∤","nshortparallel":"∦","nsim":"≁","nsime":"≄","nsimeq":"≄","nsmid":"∤","nspar":"∦","nsqsube":"⋢","nsqsupe":"⋣","nsub":"⊄","nsubE":"⫅̸","nsube":"⊈","nsubset":"⊂⃒","nsubseteq":"⊈","nsubseteqq":"⫅̸","nsucc":"⊁","nsucceq":"⪰̸","nsup":"⊅","nsupE":"⫆̸","nsupe":"⊉","nsupset":"⊃⃒","nsupseteq":"⊉","nsupseteqq":"⫆̸","ntgl":"≹","Ntilde":"Ñ","ntilde":"ñ","ntlg":"≸","ntriangleleft":"⋪","ntrianglelefteq":"⋬","ntriangleright":"⋫","ntrianglerighteq":"⋭","Nu":"Ν","nu":"ν","num":"#","numero":"№","numsp":" ","nvap":"≍⃒","nvdash":"⊬","nvDash":"⊭","nVdash":"⊮","nVDash":"⊯","nvge":"≥⃒","nvgt":">⃒","nvHarr":"⤄","nvinfin":"⧞","nvlArr":"⤂","nvle":"≤⃒","nvlt":"<⃒","nvltrie":"⊴⃒","nvrArr":"⤃","nvrtrie":"⊵⃒","nvsim":"∼⃒","nwarhk":"⤣","nwarr":"↖","nwArr":"⇖","nwarrow":"↖","nwnear":"⤧","Oacute":"Ó","oacute":"ó","oast":"⊛","Ocirc":"Ô","ocirc":"ô","ocir":"⊚","Ocy":"О","ocy":"о","odash":"⊝","Odblac":"Ő","odblac":"ő","odiv":"⨸","odot":"⊙","odsold":"⦼","OElig":"Œ","oelig":"œ","ofcir":"⦿","Ofr":"𝔒","ofr":"𝔬","ogon":"˛","Ograve":"Ò","ograve":"ò","ogt":"⧁","ohbar":"⦵","ohm":"Ω","oint":"∮","olarr":"↺","olcir":"⦾","olcross":"⦻","oline":"‾","olt":"⧀","Omacr":"Ō","omacr":"ō","Omega":"Ω","omega":"ω","Omicron":"Ο","omicron":"ο","omid":"⦶","ominus":"⊖","Oopf":"𝕆","oopf":"𝕠","opar":"⦷","OpenCurlyDoubleQuote":"“","OpenCurlyQuote":"‘","operp":"⦹","oplus":"⊕","orarr":"↻","Or":"⩔","or":"∨","ord":"⩝","order":"ℴ","orderof":"ℴ","ordf":"ª","ordm":"º","origof":"⊶","oror":"⩖","orslope":"⩗","orv":"⩛","oS":"Ⓢ","Oscr":"𝒪","oscr":"ℴ","Oslash":"Ø","oslash":"ø","osol":"⊘","Otilde":"Õ","otilde":"õ","otimesas":"⨶","Otimes":"⨷","otimes":"⊗","Ouml":"Ö","ouml":"ö","ovbar":"⌽","OverBar":"‾","OverBrace":"⏞","OverBracket":"⎴","OverParenthesis":"⏜","para":"¶","parallel":"∥","par":"∥","parsim":"⫳","parsl":"⫽","part":"∂","PartialD":"∂","Pcy":"П","pcy":"п","percnt":"%","period":".","permil":"‰","perp":"⊥","pertenk":"‱","Pfr":"𝔓","pfr":"𝔭","Phi":"Φ","phi":"φ","phiv":"ϕ","phmmat":"ℳ","phone":"☎","Pi":"Π","pi":"π","pitchfork":"⋔","piv":"ϖ","planck":"ℏ","planckh":"ℎ","plankv":"ℏ","plusacir":"⨣","plusb":"⊞","pluscir":"⨢","plus":"+","plusdo":"∔","plusdu":"⨥","pluse":"⩲","PlusMinus":"±","plusmn":"±","plussim":"⨦","plustwo":"⨧","pm":"±","Poincareplane":"ℌ","pointint":"⨕","popf":"𝕡","Popf":"ℙ","pound":"£","prap":"⪷","Pr":"⪻","pr":"≺","prcue":"≼","precapprox":"⪷","prec":"≺","preccurlyeq":"≼","Precedes":"≺","PrecedesEqual":"⪯","PrecedesSlantEqual":"≼","PrecedesTilde":"≾","preceq":"⪯","precnapprox":"⪹","precneqq":"⪵","precnsim":"⋨","pre":"⪯","prE":"⪳","precsim":"≾","prime":"′","Prime":"″","primes":"ℙ","prnap":"⪹","prnE":"⪵","prnsim":"⋨","prod":"∏","Product":"∏","profalar":"⌮","profline":"⌒","profsurf":"⌓","prop":"∝","Proportional":"∝","Proportion":"∷","propto":"∝","prsim":"≾","prurel":"⊰","Pscr":"𝒫","pscr":"𝓅","Psi":"Ψ","psi":"ψ","puncsp":" ","Qfr":"𝔔","qfr":"𝔮","qint":"⨌","qopf":"𝕢","Qopf":"ℚ","qprime":"⁗","Qscr":"𝒬","qscr":"𝓆","quaternions":"ℍ","quatint":"⨖","quest":"?","questeq":"≟","quot":"\\"","QUOT":"\\"","rAarr":"⇛","race":"∽̱","Racute":"Ŕ","racute":"ŕ","radic":"√","raemptyv":"⦳","rang":"⟩","Rang":"⟫","rangd":"⦒","range":"⦥","rangle":"⟩","raquo":"»","rarrap":"⥵","rarrb":"⇥","rarrbfs":"⤠","rarrc":"⤳","rarr":"→","Rarr":"↠","rArr":"⇒","rarrfs":"⤞","rarrhk":"↪","rarrlp":"↬","rarrpl":"⥅","rarrsim":"⥴","Rarrtl":"⤖","rarrtl":"↣","rarrw":"↝","ratail":"⤚","rAtail":"⤜","ratio":"∶","rationals":"ℚ","rbarr":"⤍","rBarr":"⤏","RBarr":"⤐","rbbrk":"❳","rbrace":"}","rbrack":"]","rbrke":"⦌","rbrksld":"⦎","rbrkslu":"⦐","Rcaron":"Ř","rcaron":"ř","Rcedil":"Ŗ","rcedil":"ŗ","rceil":"⌉","rcub":"}","Rcy":"Р","rcy":"р","rdca":"⤷","rdldhar":"⥩","rdquo":"”","rdquor":"”","rdsh":"↳","real":"ℜ","realine":"ℛ","realpart":"ℜ","reals":"ℝ","Re":"ℜ","rect":"▭","reg":"®","REG":"®","ReverseElement":"∋","ReverseEquilibrium":"⇋","ReverseUpEquilibrium":"⥯","rfisht":"⥽","rfloor":"⌋","rfr":"𝔯","Rfr":"ℜ","rHar":"⥤","rhard":"⇁","rharu":"⇀","rharul":"⥬","Rho":"Ρ","rho":"ρ","rhov":"ϱ","RightAngleBracket":"⟩","RightArrowBar":"⇥","rightarrow":"→","RightArrow":"→","Rightarrow":"⇒","RightArrowLeftArrow":"⇄","rightarrowtail":"↣","RightCeiling":"⌉","RightDoubleBracket":"⟧","RightDownTeeVector":"⥝","RightDownVectorBar":"⥕","RightDownVector":"⇂","RightFloor":"⌋","rightharpoondown":"⇁","rightharpoonup":"⇀","rightleftarrows":"⇄","rightleftharpoons":"⇌","rightrightarrows":"⇉","rightsquigarrow":"↝","RightTeeArrow":"↦","RightTee":"⊢","RightTeeVector":"⥛","rightthreetimes":"⋌","RightTriangleBar":"⧐","RightTriangle":"⊳","RightTriangleEqual":"⊵","RightUpDownVector":"⥏","RightUpTeeVector":"⥜","RightUpVectorBar":"⥔","RightUpVector":"↾","RightVectorBar":"⥓","RightVector":"⇀","ring":"˚","risingdotseq":"≓","rlarr":"⇄","rlhar":"⇌","rlm":"‏","rmoustache":"⎱","rmoust":"⎱","rnmid":"⫮","roang":"⟭","roarr":"⇾","robrk":"⟧","ropar":"⦆","ropf":"𝕣","Ropf":"ℝ","roplus":"⨮","rotimes":"⨵","RoundImplies":"⥰","rpar":")","rpargt":"⦔","rppolint":"⨒","rrarr":"⇉","Rrightarrow":"⇛","rsaquo":"›","rscr":"𝓇","Rscr":"ℛ","rsh":"↱","Rsh":"↱","rsqb":"]","rsquo":"’","rsquor":"’","rthree":"⋌","rtimes":"⋊","rtri":"▹","rtrie":"⊵","rtrif":"▸","rtriltri":"⧎","RuleDelayed":"⧴","ruluhar":"⥨","rx":"℞","Sacute":"Ś","sacute":"ś","sbquo":"‚","scap":"⪸","Scaron":"Š","scaron":"š","Sc":"⪼","sc":"≻","sccue":"≽","sce":"⪰","scE":"⪴","Scedil":"Ş","scedil":"ş","Scirc":"Ŝ","scirc":"ŝ","scnap":"⪺","scnE":"⪶","scnsim":"⋩","scpolint":"⨓","scsim":"≿","Scy":"С","scy":"с","sdotb":"⊡","sdot":"⋅","sdote":"⩦","searhk":"⤥","searr":"↘","seArr":"⇘","searrow":"↘","sect":"§","semi":";","seswar":"⤩","setminus":"∖","setmn":"∖","sext":"✶","Sfr":"𝔖","sfr":"𝔰","sfrown":"⌢","sharp":"♯","SHCHcy":"Щ","shchcy":"щ","SHcy":"Ш","shcy":"ш","ShortDownArrow":"↓","ShortLeftArrow":"←","shortmid":"∣","shortparallel":"∥","ShortRightArrow":"→","ShortUpArrow":"↑","shy":"­","Sigma":"Σ","sigma":"σ","sigmaf":"ς","sigmav":"ς","sim":"∼","simdot":"⩪","sime":"≃","simeq":"≃","simg":"⪞","simgE":"⪠","siml":"⪝","simlE":"⪟","simne":"≆","simplus":"⨤","simrarr":"⥲","slarr":"←","SmallCircle":"∘","smallsetminus":"∖","smashp":"⨳","smeparsl":"⧤","smid":"∣","smile":"⌣","smt":"⪪","smte":"⪬","smtes":"⪬︀","SOFTcy":"Ь","softcy":"ь","solbar":"⌿","solb":"⧄","sol":"/","Sopf":"𝕊","sopf":"𝕤","spades":"♠","spadesuit":"♠","spar":"∥","sqcap":"⊓","sqcaps":"⊓︀","sqcup":"⊔","sqcups":"⊔︀","Sqrt":"√","sqsub":"⊏","sqsube":"⊑","sqsubset":"⊏","sqsubseteq":"⊑","sqsup":"⊐","sqsupe":"⊒","sqsupset":"⊐","sqsupseteq":"⊒","square":"□","Square":"□","SquareIntersection":"⊓","SquareSubset":"⊏","SquareSubsetEqual":"⊑","SquareSuperset":"⊐","SquareSupersetEqual":"⊒","SquareUnion":"⊔","squarf":"▪","squ":"□","squf":"▪","srarr":"→","Sscr":"𝒮","sscr":"𝓈","ssetmn":"∖","ssmile":"⌣","sstarf":"⋆","Star":"⋆","star":"☆","starf":"★","straightepsilon":"ϵ","straightphi":"ϕ","strns":"¯","sub":"⊂","Sub":"⋐","subdot":"⪽","subE":"⫅","sube":"⊆","subedot":"⫃","submult":"⫁","subnE":"⫋","subne":"⊊","subplus":"⪿","subrarr":"⥹","subset":"⊂","Subset":"⋐","subseteq":"⊆","subseteqq":"⫅","SubsetEqual":"⊆","subsetneq":"⊊","subsetneqq":"⫋","subsim":"⫇","subsub":"⫕","subsup":"⫓","succapprox":"⪸","succ":"≻","succcurlyeq":"≽","Succeeds":"≻","SucceedsEqual":"⪰","SucceedsSlantEqual":"≽","SucceedsTilde":"≿","succeq":"⪰","succnapprox":"⪺","succneqq":"⪶","succnsim":"⋩","succsim":"≿","SuchThat":"∋","sum":"∑","Sum":"∑","sung":"♪","sup1":"¹","sup2":"²","sup3":"³","sup":"⊃","Sup":"⋑","supdot":"⪾","supdsub":"⫘","supE":"⫆","supe":"⊇","supedot":"⫄","Superset":"⊃","SupersetEqual":"⊇","suphsol":"⟉","suphsub":"⫗","suplarr":"⥻","supmult":"⫂","supnE":"⫌","supne":"⊋","supplus":"⫀","supset":"⊃","Supset":"⋑","supseteq":"⊇","supseteqq":"⫆","supsetneq":"⊋","supsetneqq":"⫌","supsim":"⫈","supsub":"⫔","supsup":"⫖","swarhk":"⤦","swarr":"↙","swArr":"⇙","swarrow":"↙","swnwar":"⤪","szlig":"ß","Tab":"\\t","target":"⌖","Tau":"Τ","tau":"τ","tbrk":"⎴","Tcaron":"Ť","tcaron":"ť","Tcedil":"Ţ","tcedil":"ţ","Tcy":"Т","tcy":"т","tdot":"⃛","telrec":"⌕","Tfr":"𝔗","tfr":"𝔱","there4":"∴","therefore":"∴","Therefore":"∴","Theta":"Θ","theta":"θ","thetasym":"ϑ","thetav":"ϑ","thickapprox":"≈","thicksim":"∼","ThickSpace":"  ","ThinSpace":" ","thinsp":" ","thkap":"≈","thksim":"∼","THORN":"Þ","thorn":"þ","tilde":"˜","Tilde":"∼","TildeEqual":"≃","TildeFullEqual":"≅","TildeTilde":"≈","timesbar":"⨱","timesb":"⊠","times":"×","timesd":"⨰","tint":"∭","toea":"⤨","topbot":"⌶","topcir":"⫱","top":"⊤","Topf":"𝕋","topf":"𝕥","topfork":"⫚","tosa":"⤩","tprime":"‴","trade":"™","TRADE":"™","triangle":"▵","triangledown":"▿","triangleleft":"◃","trianglelefteq":"⊴","triangleq":"≜","triangleright":"▹","trianglerighteq":"⊵","tridot":"◬","trie":"≜","triminus":"⨺","TripleDot":"⃛","triplus":"⨹","trisb":"⧍","tritime":"⨻","trpezium":"⏢","Tscr":"𝒯","tscr":"𝓉","TScy":"Ц","tscy":"ц","TSHcy":"Ћ","tshcy":"ћ","Tstrok":"Ŧ","tstrok":"ŧ","twixt":"≬","twoheadleftarrow":"↞","twoheadrightarrow":"↠","Uacute":"Ú","uacute":"ú","uarr":"↑","Uarr":"↟","uArr":"⇑","Uarrocir":"⥉","Ubrcy":"Ў","ubrcy":"ў","Ubreve":"Ŭ","ubreve":"ŭ","Ucirc":"Û","ucirc":"û","Ucy":"У","ucy":"у","udarr":"⇅","Udblac":"Ű","udblac":"ű","udhar":"⥮","ufisht":"⥾","Ufr":"𝔘","ufr":"𝔲","Ugrave":"Ù","ugrave":"ù","uHar":"⥣","uharl":"↿","uharr":"↾","uhblk":"▀","ulcorn":"⌜","ulcorner":"⌜","ulcrop":"⌏","ultri":"◸","Umacr":"Ū","umacr":"ū","uml":"¨","UnderBar":"_","UnderBrace":"⏟","UnderBracket":"⎵","UnderParenthesis":"⏝","Union":"⋃","UnionPlus":"⊎","Uogon":"Ų","uogon":"ų","Uopf":"𝕌","uopf":"𝕦","UpArrowBar":"⤒","uparrow":"↑","UpArrow":"↑","Uparrow":"⇑","UpArrowDownArrow":"⇅","updownarrow":"↕","UpDownArrow":"↕","Updownarrow":"⇕","UpEquilibrium":"⥮","upharpoonleft":"↿","upharpoonright":"↾","uplus":"⊎","UpperLeftArrow":"↖","UpperRightArrow":"↗","upsi":"υ","Upsi":"ϒ","upsih":"ϒ","Upsilon":"Υ","upsilon":"υ","UpTeeArrow":"↥","UpTee":"⊥","upuparrows":"⇈","urcorn":"⌝","urcorner":"⌝","urcrop":"⌎","Uring":"Ů","uring":"ů","urtri":"◹","Uscr":"𝒰","uscr":"𝓊","utdot":"⋰","Utilde":"Ũ","utilde":"ũ","utri":"▵","utrif":"▴","uuarr":"⇈","Uuml":"Ü","uuml":"ü","uwangle":"⦧","vangrt":"⦜","varepsilon":"ϵ","varkappa":"ϰ","varnothing":"∅","varphi":"ϕ","varpi":"ϖ","varpropto":"∝","varr":"↕","vArr":"⇕","varrho":"ϱ","varsigma":"ς","varsubsetneq":"⊊︀","varsubsetneqq":"⫋︀","varsupsetneq":"⊋︀","varsupsetneqq":"⫌︀","vartheta":"ϑ","vartriangleleft":"⊲","vartriangleright":"⊳","vBar":"⫨","Vbar":"⫫","vBarv":"⫩","Vcy":"В","vcy":"в","vdash":"⊢","vDash":"⊨","Vdash":"⊩","VDash":"⊫","Vdashl":"⫦","veebar":"⊻","vee":"∨","Vee":"⋁","veeeq":"≚","vellip":"⋮","verbar":"|","Verbar":"‖","vert":"|","Vert":"‖","VerticalBar":"∣","VerticalLine":"|","VerticalSeparator":"❘","VerticalTilde":"≀","VeryThinSpace":" ","Vfr":"𝔙","vfr":"𝔳","vltri":"⊲","vnsub":"⊂⃒","vnsup":"⊃⃒","Vopf":"𝕍","vopf":"𝕧","vprop":"∝","vrtri":"⊳","Vscr":"𝒱","vscr":"𝓋","vsubnE":"⫋︀","vsubne":"⊊︀","vsupnE":"⫌︀","vsupne":"⊋︀","Vvdash":"⊪","vzigzag":"⦚","Wcirc":"Ŵ","wcirc":"ŵ","wedbar":"⩟","wedge":"∧","Wedge":"⋀","wedgeq":"≙","weierp":"℘","Wfr":"𝔚","wfr":"𝔴","Wopf":"𝕎","wopf":"𝕨","wp":"℘","wr":"≀","wreath":"≀","Wscr":"𝒲","wscr":"𝓌","xcap":"⋂","xcirc":"◯","xcup":"⋃","xdtri":"▽","Xfr":"𝔛","xfr":"𝔵","xharr":"⟷","xhArr":"⟺","Xi":"Ξ","xi":"ξ","xlarr":"⟵","xlArr":"⟸","xmap":"⟼","xnis":"⋻","xodot":"⨀","Xopf":"𝕏","xopf":"𝕩","xoplus":"⨁","xotime":"⨂","xrarr":"⟶","xrArr":"⟹","Xscr":"𝒳","xscr":"𝓍","xsqcup":"⨆","xuplus":"⨄","xutri":"△","xvee":"⋁","xwedge":"⋀","Yacute":"Ý","yacute":"ý","YAcy":"Я","yacy":"я","Ycirc":"Ŷ","ycirc":"ŷ","Ycy":"Ы","ycy":"ы","yen":"¥","Yfr":"𝔜","yfr":"𝔶","YIcy":"Ї","yicy":"ї","Yopf":"𝕐","yopf":"𝕪","Yscr":"𝒴","yscr":"𝓎","YUcy":"Ю","yucy":"ю","yuml":"ÿ","Yuml":"Ÿ","Zacute":"Ź","zacute":"ź","Zcaron":"Ž","zcaron":"ž","Zcy":"З","zcy":"з","Zdot":"Ż","zdot":"ż","zeetrf":"ℨ","ZeroWidthSpace":"​","Zeta":"Ζ","zeta":"ζ","zfr":"𝔷","Zfr":"ℨ","ZHcy":"Ж","zhcy":"ж","zigrarr":"⇝","zopf":"𝕫","Zopf":"ℤ","Zscr":"𝒵","zscr":"𝓏","zwj":"‍","zwnj":"‌"}')},function(t,e,n){t.exports=n(19)(645)},function(t,e,n){"use strict";var r={};function i(t,e){var n;return"string"!=typeof e&&(e=i.defaultChars),n=function(t){var e,n,i=r[t];if(i)return i;for(i=r[t]=[],e=0;e<128;e++)n=String.fromCharCode(e),i.push(n);for(e=0;e<t.length;e++)i[n=t.charCodeAt(e)]="%"+("0"+n.toString(16).toUpperCase()).slice(-2);return i}(e),t.replace(/(%[a-f0-9]{2})+/gi,(function(t){var e,r,i,a,s,o,u,l="";for(e=0,r=t.length;e<r;e+=3)(i=parseInt(t.slice(e+1,e+3),16))<128?l+=n[i]:192==(224&i)&&e+3<r&&128==(192&(a=parseInt(t.slice(e+4,e+6),16)))?(l+=(u=i<<6&1984|63&a)<128?"��":String.fromCharCode(u),e+=3):224==(240&i)&&e+6<r&&(a=parseInt(t.slice(e+4,e+6),16),s=parseInt(t.slice(e+7,e+9),16),128==(192&a)&&128==(192&s))?(l+=(u=i<<12&61440|a<<6&4032|63&s)<2048||u>=55296&&u<=57343?"���":String.fromCharCode(u),e+=6):240==(248&i)&&e+9<r&&(a=parseInt(t.slice(e+4,e+6),16),s=parseInt(t.slice(e+7,e+9),16),o=parseInt(t.slice(e+10,e+12),16),128==(192&a)&&128==(192&s)&&128==(192&o))?((u=i<<18&1835008|a<<12&258048|s<<6&4032|63&o)<65536||u>1114111?l+="����":(u-=65536,l+=String.fromCharCode(55296+(u>>10),56320+(1023&u))),e+=9):l+="�";return l}))}i.defaultChars=";/?:@&=+$,#",i.componentChars="",t.exports=i},function(t,e,n){"use strict";t.exports=function(t){var e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&-1!==t.hostname.indexOf(":")?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||""}},function(t,e,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var i=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,o=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(o),l=["%","/","?",";","#"].concat(u),c=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},d={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};r.prototype.parse=function(t,e){var n,r,a,o,u,g=t;if(g=g.trim(),!e&&1===t.split("#").length){var v=s.exec(g);if(v)return this.pathname=v[1],v[2]&&(this.search=v[2]),this}var m=i.exec(g);if(m&&(a=(m=m[0]).toLowerCase(),this.protocol=m,g=g.substr(m.length)),(e||m||g.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(u="//"===g.substr(0,2))||m&&p[m]||(g=g.substr(2),this.slashes=!0)),!p[m]&&(u||m&&!d[m])){var y,x,_=-1;for(n=0;n<c.length;n++)-1!==(o=g.indexOf(c[n]))&&(-1===_||o<_)&&(_=o);for(-1!==(x=-1===_?g.lastIndexOf("@"):g.lastIndexOf("@",_))&&(y=g.slice(0,x),g=g.slice(x+1),this.auth=y),_=-1,n=0;n<l.length;n++)-1!==(o=g.indexOf(l[n]))&&(-1===_||o<_)&&(_=o);-1===_&&(_=g.length),":"===g[_-1]&&_--;var b=g.slice(0,_);g=g.slice(_),this.parseHost(b),this.hostname=this.hostname||"";var w="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!w){var C=this.hostname.split(/\./);for(n=0,r=C.length;n<r;n++){var k=C[n];if(k&&!k.match(h)){for(var A="",M=0,E=k.length;M<E;M++)k.charCodeAt(M)>127?A+="x":A+=k[M];if(!A.match(h)){var S=C.slice(0,n),D=C.slice(n+1),L=k.match(f);L&&(S.push(L[1]),D.unshift(L[2])),D.length&&(g=D.join(".")+g),this.hostname=S.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),w&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var T=g.indexOf("#");-1!==T&&(this.hash=g.substr(T),g=g.slice(0,T));var z=g.indexOf("?");return-1!==z&&(this.search=g.substr(z),g=g.slice(0,z)),g&&(this.pathname=g),d[a]&&this.hostname&&!this.pathname&&(this.pathname=""),this},r.prototype.parseHost=function(t){var e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)},t.exports=function(t,e){if(t&&t instanceof r)return t;var n=new r;return n.parse(t,e),n}},function(t,e,n){"use strict";e.Any=n(46),e.Cc=n(47),e.Cf=n(70),e.P=n(41),e.Z=n(48)},function(t,e){t.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804\uDCBD|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},function(t,e,n){"use strict";e.parseLinkLabel=n(72),e.parseLinkDestination=n(73),e.parseLinkTitle=n(74)},function(t,e,n){"use strict";t.exports=function(t,e,n){var r,i,a,s,o=-1,u=t.posMax,l=t.pos;for(t.pos=e+1,r=1;t.pos<u;){if(93===(a=t.src.charCodeAt(t.pos))&&0===--r){i=!0;break}if(s=t.pos,t.md.inline.skipToken(t),91===a)if(s===t.pos-1)r++;else if(n)return t.pos=l,-1}return i&&(o=t.pos),t.pos=l,o}},function(t,e,n){"use strict";var r=n(36).unescapeAll;t.exports=function(t,e,n){var i,a,s=e,o={ok:!1,pos:0,lines:0,str:""};if(60===t.charCodeAt(e)){for(e++;e<n;){if(10===(i=t.charCodeAt(e)))return o;if(62===i)return o.pos=e+1,o.str=r(t.slice(s+1,e)),o.ok=!0,o;92===i&&e+1<n?e+=2:e++}return o}for(a=0;e<n&&32!==(i=t.charCodeAt(e))&&!(i<32||127===i);)if(92===i&&e+1<n)e+=2;else{if(40===i&&a++,41===i){if(0===a)break;a--}e++}return s===e||0!==a||(o.str=r(t.slice(s,e)),o.lines=0,o.pos=e,o.ok=!0),o}},function(t,e,n){"use strict";var r=n(36).unescapeAll;t.exports=function(t,e,n){var i,a,s=0,o=e,u={ok:!1,pos:0,lines:0,str:""};if(e>=n)return u;if(34!==(a=t.charCodeAt(e))&&39!==a&&40!==a)return u;for(e++,40===a&&(a=41);e<n;){if((i=t.charCodeAt(e))===a)return u.pos=e+1,u.lines=s,u.str=r(t.slice(o+1,e)),u.ok=!0,u;10===i?s++:92===i&&e+1<n&&(e++,10===t.charCodeAt(e)&&s++),e++}return u}},function(t,e,n){"use strict";var r=n(36).assign,i=n(36).unescapeAll,a=n(36).escapeHtml,s={};function o(){this.rules=r({},s)}s.code_inline=function(t,e,n,r,i){var s=t[e];return"<code"+i.renderAttrs(s)+">"+a(t[e].content)+"</code>"},s.code_block=function(t,e,n,r,i){var s=t[e];return"<pre"+i.renderAttrs(s)+"><code>"+a(t[e].content)+"</code></pre>\n"},s.fence=function(t,e,n,r,s){var o,u,l,c,h=t[e],f=h.info?i(h.info).trim():"",p="";return f&&(p=f.split(/\s+/g)[0]),0===(o=n.highlight&&n.highlight(h.content,p)||a(h.content)).indexOf("<pre")?o+"\n":f?(u=h.attrIndex("class"),l=h.attrs?h.attrs.slice():[],u<0?l.push(["class",n.langPrefix+p]):l[u][1]+=" "+n.langPrefix+p,c={attrs:l},"<pre><code"+s.renderAttrs(c)+">"+o+"</code></pre>\n"):"<pre><code"+s.renderAttrs(h)+">"+o+"</code></pre>\n"},s.image=function(t,e,n,r,i){var a=t[e];return a.attrs[a.attrIndex("alt")][1]=i.renderInlineAsText(a.children,n,r),i.renderToken(t,e,n)},s.hardbreak=function(t,e,n){return n.xhtmlOut?"<br />\n":"<br>\n"},s.softbreak=function(t,e,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},s.text=function(t,e){return a(t[e].content)},s.html_block=function(t,e){return t[e].content},s.html_inline=function(t,e){return t[e].content},o.prototype.renderAttrs=function(t){var e,n,r;if(!t.attrs)return"";for(r="",e=0,n=t.attrs.length;e<n;e++)r+=" "+a(t.attrs[e][0])+'="'+a(t.attrs[e][1])+'"';return r},o.prototype.renderToken=function(t,e,n){var r,i="",a=!1,s=t[e];return s.hidden?"":(s.block&&-1!==s.nesting&&e&&t[e-1].hidden&&(i+="\n"),i+=(-1===s.nesting?"</":"<")+s.tag,i+=this.renderAttrs(s),0===s.nesting&&n.xhtmlOut&&(i+=" /"),s.block&&(a=!0,1===s.nesting&&e+1<t.length&&("inline"===(r=t[e+1]).type||r.hidden||-1===r.nesting&&r.tag===s.tag)&&(a=!1)),i+=a?">\n":">")},o.prototype.renderInline=function(t,e,n){for(var r,i="",a=this.rules,s=0,o=t.length;s<o;s++)void 0!==a[r=t[s].type]?i+=a[r](t,s,e,n,this):i+=this.renderToken(t,s,e);return i},o.prototype.renderInlineAsText=function(t,e,n){for(var r="",i=0,a=t.length;i<a;i++)"text"===t[i].type?r+=t[i].content:"image"===t[i].type&&(r+=this.renderInlineAsText(t[i].children,e,n));return r},o.prototype.render=function(t,e,n){var r,i,a,s="",o=this.rules;for(r=0,i=t.length;r<i;r++)"inline"===(a=t[r].type)?s+=this.renderInline(t[r].children,e,n):void 0!==o[a]?s+=o[t[r].type](t,r,e,n,this):s+=this.renderToken(t,r,e,n);return s},t.exports=o},function(t,e,n){"use strict";var r=n(42),i=[["normalize",n(77)],["block",n(78)],["inline",n(79)],["linkify",n(80)],["replacements",n(81)],["smartquotes",n(82)]];function a(){this.ruler=new r;for(var t=0;t<i.length;t++)this.ruler.push(i[t][0],i[t][1])}a.prototype.process=function(t){var e,n,r;for(e=0,n=(r=this.ruler.getRules("")).length;e<n;e++)r[e](t)},a.prototype.State=n(83),t.exports=a},function(t,e,n){"use strict";var r=/\r\n?|\n/g,i=/\0/g;t.exports=function(t){var e;e=(e=t.src.replace(r,"\n")).replace(i,"�"),t.src=e}},function(t,e,n){"use strict";t.exports=function(t){var e;t.inlineMode?((e=new t.Token("inline","",0)).content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}},function(t,e,n){"use strict";t.exports=function(t){var e,n,r,i=t.tokens;for(n=0,r=i.length;n<r;n++)"inline"===(e=i[n]).type&&t.md.inline.parse(e.content,t.md,t.env,e.children)}},function(t,e,n){"use strict";var r=n(36).arrayReplaceAt;function i(t){return/^<\/a\s*>/i.test(t)}t.exports=function(t){var e,n,a,s,o,u,l,c,h,f,p,d,g,v,m,y,x,_,b=t.tokens;if(t.md.options.linkify)for(n=0,a=b.length;n<a;n++)if("inline"===b[n].type&&t.md.linkify.pretest(b[n].content))for(g=0,e=(s=b[n].children).length-1;e>=0;e--)if("link_close"!==(u=s[e]).type){if("html_inline"===u.type&&(_=u.content,/^<a[>\s]/i.test(_)&&g>0&&g--,i(u.content)&&g++),!(g>0)&&"text"===u.type&&t.md.linkify.test(u.content)){for(h=u.content,x=t.md.linkify.match(h),l=[],d=u.level,p=0,c=0;c<x.length;c++)v=x[c].url,m=t.md.normalizeLink(v),t.md.validateLink(m)&&(y=x[c].text,y=x[c].schema?"mailto:"!==x[c].schema||/^mailto:/i.test(y)?t.md.normalizeLinkText(y):t.md.normalizeLinkText("mailto:"+y).replace(/^mailto:/,""):t.md.normalizeLinkText("http://"+y).replace(/^http:\/\//,""),(f=x[c].index)>p&&((o=new t.Token("text","",0)).content=h.slice(p,f),o.level=d,l.push(o)),(o=new t.Token("link_open","a",1)).attrs=[["href",m]],o.level=d++,o.markup="linkify",o.info="auto",l.push(o),(o=new t.Token("text","",0)).content=y,o.level=d,l.push(o),(o=new t.Token("link_close","a",-1)).level=--d,o.markup="linkify",o.info="auto",l.push(o),p=x[c].lastIndex);p<h.length&&((o=new t.Token("text","",0)).content=h.slice(p),o.level=d,l.push(o)),b[n].children=s=r(s,e,l)}}else for(e--;s[e].level!==u.level&&"link_open"!==s[e].type;)e--}},function(t,e,n){"use strict";var r=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,i=/\((c|tm|r|p)\)/i,a=/\((c|tm|r|p)\)/gi,s={c:"©",r:"®",p:"§",tm:"™"};function o(t,e){return s[e.toLowerCase()]}function u(t){var e,n,r=0;for(e=t.length-1;e>=0;e--)"text"!==(n=t[e]).type||r||(n.content=n.content.replace(a,o)),"link_open"===n.type&&"auto"===n.info&&r--,"link_close"===n.type&&"auto"===n.info&&r++}function l(t){var e,n,i=0;for(e=t.length-1;e>=0;e--)"text"!==(n=t[e]).type||i||r.test(n.content)&&(n.content=n.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1—$2").replace(/(^|\s)--(\s|$)/gm,"$1–$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1–$2")),"link_open"===n.type&&"auto"===n.info&&i--,"link_close"===n.type&&"auto"===n.info&&i++}t.exports=function(t){var e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)"inline"===t.tokens[e].type&&(i.test(t.tokens[e].content)&&u(t.tokens[e].children),r.test(t.tokens[e].content)&&l(t.tokens[e].children))}},function(t,e,n){"use strict";var r=n(36).isWhiteSpace,i=n(36).isPunctChar,a=n(36).isMdAsciiPunct,s=/['"]/,o=/['"]/g;function u(t,e,n){return t.substr(0,e)+n+t.substr(e+1)}function l(t,e){var n,s,l,c,h,f,p,d,g,v,m,y,x,_,b,w,C,k,A,M,E;for(A=[],n=0;n<t.length;n++){for(s=t[n],p=t[n].level,C=A.length-1;C>=0&&!(A[C].level<=p);C--);if(A.length=C+1,"text"===s.type){h=0,f=(l=s.content).length;t:for(;h<f&&(o.lastIndex=h,c=o.exec(l));){if(b=w=!0,h=c.index+1,k="'"===c[0],g=32,c.index-1>=0)g=l.charCodeAt(c.index-1);else for(C=n-1;C>=0&&("softbreak"!==t[C].type&&"hardbreak"!==t[C].type);C--)if("text"===t[C].type){g=t[C].content.charCodeAt(t[C].content.length-1);break}if(v=32,h<f)v=l.charCodeAt(h);else for(C=n+1;C<t.length&&("softbreak"!==t[C].type&&"hardbreak"!==t[C].type);C++)if("text"===t[C].type){v=t[C].content.charCodeAt(0);break}if(m=a(g)||i(String.fromCharCode(g)),y=a(v)||i(String.fromCharCode(v)),x=r(g),(_=r(v))?b=!1:y&&(x||m||(b=!1)),x?w=!1:m&&(_||y||(w=!1)),34===v&&'"'===c[0]&&g>=48&&g<=57&&(w=b=!1),b&&w&&(b=!1,w=y),b||w){if(w)for(C=A.length-1;C>=0&&(d=A[C],!(A[C].level<p));C--)if(d.single===k&&A[C].level===p){d=A[C],k?(M=e.md.options.quotes[2],E=e.md.options.quotes[3]):(M=e.md.options.quotes[0],E=e.md.options.quotes[1]),s.content=u(s.content,c.index,E),t[d.token].content=u(t[d.token].content,d.pos,M),h+=E.length-1,d.token===n&&(h+=M.length-1),f=(l=s.content).length,A.length=C;continue t}b?A.push({token:n,pos:c.index,single:k,level:p}):w&&k&&(s.content=u(s.content,c.index,"’"))}else k&&(s.content=u(s.content,c.index,"’"))}}}}t.exports=function(t){var e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)"inline"===t.tokens[e].type&&s.test(t.tokens[e].content)&&l(t.tokens[e].children,t)}},function(t,e,n){"use strict";var r=n(43);function i(t,e,n){this.src=t,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=e}i.prototype.Token=r,t.exports=i},function(t,e,n){"use strict";var r=n(42),i=[["table",n(85),["paragraph","reference"]],["code",n(86)],["fence",n(87),["paragraph","reference","blockquote","list"]],["blockquote",n(88),["paragraph","reference","blockquote","list"]],["hr",n(89),["paragraph","reference","blockquote","list"]],["list",n(90),["paragraph","reference","blockquote"]],["reference",n(91)],["heading",n(92),["paragraph","reference","blockquote"]],["lheading",n(93)],["html_block",n(94),["paragraph","reference","blockquote"]],["paragraph",n(96)]];function a(){this.ruler=new r;for(var t=0;t<i.length;t++)this.ruler.push(i[t][0],i[t][1],{alt:(i[t][2]||[]).slice()})}a.prototype.tokenize=function(t,e,n){for(var r,i=this.ruler.getRules(""),a=i.length,s=e,o=!1,u=t.md.options.maxNesting;s<n&&(t.line=s=t.skipEmptyLines(s),!(s>=n))&&!(t.sCount[s]<t.blkIndent);){if(t.level>=u){t.line=n;break}for(r=0;r<a&&!i[r](t,s,n,!1);r++);t.tight=!o,t.isEmpty(t.line-1)&&(o=!0),(s=t.line)<n&&t.isEmpty(s)&&(o=!0,s++,t.line=s)}},a.prototype.parse=function(t,e,n,r){var i;t&&(i=new this.State(t,e,n,r),this.tokenize(i,i.line,i.lineMax))},a.prototype.State=n(97),t.exports=a},function(t,e,n){"use strict";var r=n(36).isSpace;function i(t,e){var n=t.bMarks[e]+t.blkIndent,r=t.eMarks[e];return t.src.substr(n,r-n)}function a(t){var e,n=[],r=0,i=t.length,a=0,s=0,o=!1,u=0;for(e=t.charCodeAt(r);r<i;)96===e?o?(o=!1,u=r):a%2==0&&(o=!0,u=r):124!==e||a%2!=0||o||(n.push(t.substring(s,r)),s=r+1),92===e?a++:a=0,++r===i&&o&&(o=!1,r=u+1),e=t.charCodeAt(r);return n.push(t.substring(s)),n}t.exports=function(t,e,n,s){var o,u,l,c,h,f,p,d,g,v,m,y;if(e+2>n)return!1;if(h=e+1,t.sCount[h]<t.blkIndent)return!1;if(t.sCount[h]-t.blkIndent>=4)return!1;if((l=t.bMarks[h]+t.tShift[h])>=t.eMarks[h])return!1;if(124!==(o=t.src.charCodeAt(l++))&&45!==o&&58!==o)return!1;for(;l<t.eMarks[h];){if(124!==(o=t.src.charCodeAt(l))&&45!==o&&58!==o&&!r(o))return!1;l++}for(f=(u=i(t,e+1)).split("|"),g=[],c=0;c<f.length;c++){if(!(v=f[c].trim())){if(0===c||c===f.length-1)continue;return!1}if(!/^:?-+:?$/.test(v))return!1;58===v.charCodeAt(v.length-1)?g.push(58===v.charCodeAt(0)?"center":"right"):58===v.charCodeAt(0)?g.push("left"):g.push("")}if(-1===(u=i(t,e).trim()).indexOf("|"))return!1;if(t.sCount[e]-t.blkIndent>=4)return!1;if((p=(f=a(u.replace(/^\||\|$/g,""))).length)>g.length)return!1;if(s)return!0;for((d=t.push("table_open","table",1)).map=m=[e,0],(d=t.push("thead_open","thead",1)).map=[e,e+1],(d=t.push("tr_open","tr",1)).map=[e,e+1],c=0;c<f.length;c++)(d=t.push("th_open","th",1)).map=[e,e+1],g[c]&&(d.attrs=[["style","text-align:"+g[c]]]),(d=t.push("inline","",0)).content=f[c].trim(),d.map=[e,e+1],d.children=[],d=t.push("th_close","th",-1);for(d=t.push("tr_close","tr",-1),d=t.push("thead_close","thead",-1),(d=t.push("tbody_open","tbody",1)).map=y=[e+2,0],h=e+2;h<n&&!(t.sCount[h]<t.blkIndent)&&-1!==(u=i(t,h).trim()).indexOf("|")&&!(t.sCount[h]-t.blkIndent>=4);h++){for(f=a(u.replace(/^\||\|$/g,"")),d=t.push("tr_open","tr",1),c=0;c<p;c++)d=t.push("td_open","td",1),g[c]&&(d.attrs=[["style","text-align:"+g[c]]]),(d=t.push("inline","",0)).content=f[c]?f[c].trim():"",d.children=[],d=t.push("td_close","td",-1);d=t.push("tr_close","tr",-1)}return d=t.push("tbody_close","tbody",-1),d=t.push("table_close","table",-1),m[1]=y[1]=h,t.line=h,!0}},function(t,e,n){"use strict";t.exports=function(t,e,n){var r,i,a;if(t.sCount[e]-t.blkIndent<4)return!1;for(i=r=e+1;r<n;)if(t.isEmpty(r))r++;else{if(!(t.sCount[r]-t.blkIndent>=4))break;i=++r}return t.line=i,(a=t.push("code_block","code",0)).content=t.getLines(e,i,4+t.blkIndent,!0),a.map=[e,t.line],!0}},function(t,e,n){"use strict";t.exports=function(t,e,n,r){var i,a,s,o,u,l,c,h=!1,f=t.bMarks[e]+t.tShift[e],p=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(f+3>p)return!1;if(126!==(i=t.src.charCodeAt(f))&&96!==i)return!1;if(u=f,(a=(f=t.skipChars(f,i))-u)<3)return!1;if(c=t.src.slice(u,f),s=t.src.slice(f,p),96===i&&s.indexOf(String.fromCharCode(i))>=0)return!1;if(r)return!0;for(o=e;!(++o>=n)&&!((f=u=t.bMarks[o]+t.tShift[o])<(p=t.eMarks[o])&&t.sCount[o]<t.blkIndent);)if(t.src.charCodeAt(f)===i&&!(t.sCount[o]-t.blkIndent>=4||(f=t.skipChars(f,i))-u<a||(f=t.skipSpaces(f))<p)){h=!0;break}return a=t.sCount[e],t.line=o+(h?1:0),(l=t.push("fence","code",0)).info=s,l.content=t.getLines(e+1,o,a,!0),l.markup=c,l.map=[e,t.line],!0}},function(t,e,n){"use strict";var r=n(36).isSpace;t.exports=function(t,e,n,i){var a,s,o,u,l,c,h,f,p,d,g,v,m,y,x,_,b,w,C,k,A=t.lineMax,M=t.bMarks[e]+t.tShift[e],E=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(62!==t.src.charCodeAt(M++))return!1;if(i)return!0;for(u=p=t.sCount[e]+M-(t.bMarks[e]+t.tShift[e]),32===t.src.charCodeAt(M)?(M++,u++,p++,a=!1,_=!0):9===t.src.charCodeAt(M)?(_=!0,(t.bsCount[e]+p)%4==3?(M++,u++,p++,a=!1):a=!0):_=!1,d=[t.bMarks[e]],t.bMarks[e]=M;M<E&&(s=t.src.charCodeAt(M),r(s));)9===s?p+=4-(p+t.bsCount[e]+(a?1:0))%4:p++,M++;for(g=[t.bsCount[e]],t.bsCount[e]=t.sCount[e]+1+(_?1:0),c=M>=E,y=[t.sCount[e]],t.sCount[e]=p-u,x=[t.tShift[e]],t.tShift[e]=M-t.bMarks[e],w=t.md.block.ruler.getRules("blockquote"),m=t.parentType,t.parentType="blockquote",k=!1,f=e+1;f<n&&(t.sCount[f]<t.blkIndent&&(k=!0),!((M=t.bMarks[f]+t.tShift[f])>=(E=t.eMarks[f])));f++)if(62!==t.src.charCodeAt(M++)||k){if(c)break;for(b=!1,o=0,l=w.length;o<l;o++)if(w[o](t,f,n,!0)){b=!0;break}if(b){t.lineMax=f,0!==t.blkIndent&&(d.push(t.bMarks[f]),g.push(t.bsCount[f]),x.push(t.tShift[f]),y.push(t.sCount[f]),t.sCount[f]-=t.blkIndent);break}d.push(t.bMarks[f]),g.push(t.bsCount[f]),x.push(t.tShift[f]),y.push(t.sCount[f]),t.sCount[f]=-1}else{for(u=p=t.sCount[f]+M-(t.bMarks[f]+t.tShift[f]),32===t.src.charCodeAt(M)?(M++,u++,p++,a=!1,_=!0):9===t.src.charCodeAt(M)?(_=!0,(t.bsCount[f]+p)%4==3?(M++,u++,p++,a=!1):a=!0):_=!1,d.push(t.bMarks[f]),t.bMarks[f]=M;M<E&&(s=t.src.charCodeAt(M),r(s));)9===s?p+=4-(p+t.bsCount[f]+(a?1:0))%4:p++,M++;c=M>=E,g.push(t.bsCount[f]),t.bsCount[f]=t.sCount[f]+1+(_?1:0),y.push(t.sCount[f]),t.sCount[f]=p-u,x.push(t.tShift[f]),t.tShift[f]=M-t.bMarks[f]}for(v=t.blkIndent,t.blkIndent=0,(C=t.push("blockquote_open","blockquote",1)).markup=">",C.map=h=[e,0],t.md.block.tokenize(t,e,f),(C=t.push("blockquote_close","blockquote",-1)).markup=">",t.lineMax=A,t.parentType=m,h[1]=t.line,o=0;o<x.length;o++)t.bMarks[o+e]=d[o],t.tShift[o+e]=x[o],t.sCount[o+e]=y[o],t.bsCount[o+e]=g[o];return t.blkIndent=v,!0}},function(t,e,n){"use strict";var r=n(36).isSpace;t.exports=function(t,e,n,i){var a,s,o,u,l=t.bMarks[e]+t.tShift[e],c=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(42!==(a=t.src.charCodeAt(l++))&&45!==a&&95!==a)return!1;for(s=1;l<c;){if((o=t.src.charCodeAt(l++))!==a&&!r(o))return!1;o===a&&s++}return!(s<3)&&(i||(t.line=e+1,(u=t.push("hr","hr",0)).map=[e,t.line],u.markup=Array(s+1).join(String.fromCharCode(a))),!0)}},function(t,e,n){"use strict";var r=n(36).isSpace;function i(t,e){var n,i,a,s;return i=t.bMarks[e]+t.tShift[e],a=t.eMarks[e],42!==(n=t.src.charCodeAt(i++))&&45!==n&&43!==n||i<a&&(s=t.src.charCodeAt(i),!r(s))?-1:i}function a(t,e){var n,i=t.bMarks[e]+t.tShift[e],a=i,s=t.eMarks[e];if(a+1>=s)return-1;if((n=t.src.charCodeAt(a++))<48||n>57)return-1;for(;;){if(a>=s)return-1;if(!((n=t.src.charCodeAt(a++))>=48&&n<=57)){if(41===n||46===n)break;return-1}if(a-i>=10)return-1}return a<s&&(n=t.src.charCodeAt(a),!r(n))?-1:a}t.exports=function(t,e,n,r){var s,o,u,l,c,h,f,p,d,g,v,m,y,x,_,b,w,C,k,A,M,E,S,D,L,T,z,N,q=!1,F=!0;if(t.sCount[e]-t.blkIndent>=4)return!1;if(t.listIndent>=0&&t.sCount[e]-t.listIndent>=4&&t.sCount[e]<t.blkIndent)return!1;if(r&&"paragraph"===t.parentType&&t.tShift[e]>=t.blkIndent&&(q=!0),(S=a(t,e))>=0){if(f=!0,L=t.bMarks[e]+t.tShift[e],y=Number(t.src.substr(L,S-L-1)),q&&1!==y)return!1}else{if(!((S=i(t,e))>=0))return!1;f=!1}if(q&&t.skipSpaces(S)>=t.eMarks[e])return!1;if(m=t.src.charCodeAt(S-1),r)return!0;for(v=t.tokens.length,f?(N=t.push("ordered_list_open","ol",1),1!==y&&(N.attrs=[["start",y]])):N=t.push("bullet_list_open","ul",1),N.map=g=[e,0],N.markup=String.fromCharCode(m),_=e,D=!1,z=t.md.block.ruler.getRules("list"),C=t.parentType,t.parentType="list";_<n;){for(E=S,x=t.eMarks[_],h=b=t.sCount[_]+S-(t.bMarks[e]+t.tShift[e]);E<x;){if(9===(s=t.src.charCodeAt(E)))b+=4-(b+t.bsCount[_])%4;else{if(32!==s)break;b++}E++}if((c=(o=E)>=x?1:b-h)>4&&(c=1),l=h+c,(N=t.push("list_item_open","li",1)).markup=String.fromCharCode(m),N.map=p=[e,0],M=t.tight,A=t.tShift[e],k=t.sCount[e],w=t.listIndent,t.listIndent=t.blkIndent,t.blkIndent=l,t.tight=!0,t.tShift[e]=o-t.bMarks[e],t.sCount[e]=b,o>=x&&t.isEmpty(e+1)?t.line=Math.min(t.line+2,n):t.md.block.tokenize(t,e,n,!0),t.tight&&!D||(F=!1),D=t.line-e>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=w,t.tShift[e]=A,t.sCount[e]=k,t.tight=M,(N=t.push("list_item_close","li",-1)).markup=String.fromCharCode(m),_=e=t.line,p[1]=_,o=t.bMarks[e],_>=n)break;if(t.sCount[_]<t.blkIndent)break;if(t.sCount[e]-t.blkIndent>=4)break;for(T=!1,u=0,d=z.length;u<d;u++)if(z[u](t,_,n,!0)){T=!0;break}if(T)break;if(f){if((S=a(t,_))<0)break}else if((S=i(t,_))<0)break;if(m!==t.src.charCodeAt(S-1))break}return(N=f?t.push("ordered_list_close","ol",-1):t.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(m),g[1]=_,t.line=_,t.parentType=C,F&&function(t,e){var n,r,i=t.level+2;for(n=e+2,r=t.tokens.length-2;n<r;n++)t.tokens[n].level===i&&"paragraph_open"===t.tokens[n].type&&(t.tokens[n+2].hidden=!0,t.tokens[n].hidden=!0,n+=2)}(t,v),!0}},function(t,e,n){"use strict";var r=n(36).normalizeReference,i=n(36).isSpace;t.exports=function(t,e,n,a){var s,o,u,l,c,h,f,p,d,g,v,m,y,x,_,b,w=0,C=t.bMarks[e]+t.tShift[e],k=t.eMarks[e],A=e+1;if(t.sCount[e]-t.blkIndent>=4)return!1;if(91!==t.src.charCodeAt(C))return!1;for(;++C<k;)if(93===t.src.charCodeAt(C)&&92!==t.src.charCodeAt(C-1)){if(C+1===k)return!1;if(58!==t.src.charCodeAt(C+1))return!1;break}for(l=t.lineMax,_=t.md.block.ruler.getRules("reference"),g=t.parentType,t.parentType="reference";A<l&&!t.isEmpty(A);A++)if(!(t.sCount[A]-t.blkIndent>3||t.sCount[A]<0)){for(x=!1,h=0,f=_.length;h<f;h++)if(_[h](t,A,l,!0)){x=!0;break}if(x)break}for(k=(y=t.getLines(e,A,t.blkIndent,!1).trim()).length,C=1;C<k;C++){if(91===(s=y.charCodeAt(C)))return!1;if(93===s){d=C;break}(10===s||92===s&&++C<k&&10===y.charCodeAt(C))&&w++}if(d<0||58!==y.charCodeAt(d+1))return!1;for(C=d+2;C<k;C++)if(10===(s=y.charCodeAt(C)))w++;else if(!i(s))break;if(!(v=t.md.helpers.parseLinkDestination(y,C,k)).ok)return!1;if(c=t.md.normalizeLink(v.str),!t.md.validateLink(c))return!1;for(o=C=v.pos,u=w+=v.lines,m=C;C<k;C++)if(10===(s=y.charCodeAt(C)))w++;else if(!i(s))break;for(v=t.md.helpers.parseLinkTitle(y,C,k),C<k&&m!==C&&v.ok?(b=v.str,C=v.pos,w+=v.lines):(b="",C=o,w=u);C<k&&(s=y.charCodeAt(C),i(s));)C++;if(C<k&&10!==y.charCodeAt(C)&&b)for(b="",C=o,w=u;C<k&&(s=y.charCodeAt(C),i(s));)C++;return!(C<k&&10!==y.charCodeAt(C))&&(!!(p=r(y.slice(1,d)))&&(a||(void 0===t.env.references&&(t.env.references={}),void 0===t.env.references[p]&&(t.env.references[p]={title:b,href:c}),t.parentType=g,t.line=e+w+1),!0))}},function(t,e,n){"use strict";var r=n(36).isSpace;t.exports=function(t,e,n,i){var a,s,o,u,l=t.bMarks[e]+t.tShift[e],c=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(35!==(a=t.src.charCodeAt(l))||l>=c)return!1;for(s=1,a=t.src.charCodeAt(++l);35===a&&l<c&&s<=6;)s++,a=t.src.charCodeAt(++l);return!(s>6||l<c&&!r(a))&&(i||(c=t.skipSpacesBack(c,l),(o=t.skipCharsBack(c,35,l))>l&&r(t.src.charCodeAt(o-1))&&(c=o),t.line=e+1,(u=t.push("heading_open","h"+String(s),1)).markup="########".slice(0,s),u.map=[e,t.line],(u=t.push("inline","",0)).content=t.src.slice(l,c).trim(),u.map=[e,t.line],u.children=[],(u=t.push("heading_close","h"+String(s),-1)).markup="########".slice(0,s)),!0)}},function(t,e,n){"use strict";t.exports=function(t,e,n){var r,i,a,s,o,u,l,c,h,f,p=e+1,d=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;for(f=t.parentType,t.parentType="paragraph";p<n&&!t.isEmpty(p);p++)if(!(t.sCount[p]-t.blkIndent>3)){if(t.sCount[p]>=t.blkIndent&&(u=t.bMarks[p]+t.tShift[p])<(l=t.eMarks[p])&&(45===(h=t.src.charCodeAt(u))||61===h)&&(u=t.skipChars(u,h),(u=t.skipSpaces(u))>=l)){c=61===h?1:2;break}if(!(t.sCount[p]<0)){for(i=!1,a=0,s=d.length;a<s;a++)if(d[a](t,p,n,!0)){i=!0;break}if(i)break}}return!!c&&(r=t.getLines(e,p,t.blkIndent,!1).trim(),t.line=p+1,(o=t.push("heading_open","h"+String(c),1)).markup=String.fromCharCode(h),o.map=[e,t.line],(o=t.push("inline","",0)).content=r,o.map=[e,t.line-1],o.children=[],(o=t.push("heading_close","h"+String(c),-1)).markup=String.fromCharCode(h),t.parentType=f,!0)}},function(t,e,n){"use strict";var r=n(95),i=n(49).HTML_OPEN_CLOSE_TAG_RE,a=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+r.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(i.source+"\\s*$"),/^$/,!1]];t.exports=function(t,e,n,r){var i,s,o,u,l=t.bMarks[e]+t.tShift[e],c=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(!t.md.options.html)return!1;if(60!==t.src.charCodeAt(l))return!1;for(u=t.src.slice(l,c),i=0;i<a.length&&!a[i][0].test(u);i++);if(i===a.length)return!1;if(r)return a[i][2];if(s=e+1,!a[i][1].test(u))for(;s<n&&!(t.sCount[s]<t.blkIndent);s++)if(l=t.bMarks[s]+t.tShift[s],c=t.eMarks[s],u=t.src.slice(l,c),a[i][1].test(u)){0!==u.length&&s++;break}return t.line=s,(o=t.push("html_block","",0)).map=[e,s],o.content=t.getLines(e,s,t.blkIndent,!0),!0}},function(t,e,n){"use strict";t.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},function(t,e,n){"use strict";t.exports=function(t,e){var n,r,i,a,s,o,u=e+1,l=t.md.block.ruler.getRules("paragraph"),c=t.lineMax;for(o=t.parentType,t.parentType="paragraph";u<c&&!t.isEmpty(u);u++)if(!(t.sCount[u]-t.blkIndent>3||t.sCount[u]<0)){for(r=!1,i=0,a=l.length;i<a;i++)if(l[i](t,u,c,!0)){r=!0;break}if(r)break}return n=t.getLines(e,u,t.blkIndent,!1).trim(),t.line=u,(s=t.push("paragraph_open","p",1)).map=[e,t.line],(s=t.push("inline","",0)).content=n,s.map=[e,t.line],s.children=[],s=t.push("paragraph_close","p",-1),t.parentType=o,!0}},function(t,e,n){"use strict";var r=n(43),i=n(36).isSpace;function a(t,e,n,r){var a,s,o,u,l,c,h,f;for(this.src=t,this.md=e,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",f=!1,o=u=c=h=0,l=(s=this.src).length;u<l;u++){if(a=s.charCodeAt(u),!f){if(i(a)){c++,9===a?h+=4-h%4:h++;continue}f=!0}10!==a&&u!==l-1||(10!==a&&u++,this.bMarks.push(o),this.eMarks.push(u),this.tShift.push(c),this.sCount.push(h),this.bsCount.push(0),f=!1,c=0,h=0,o=u+1)}this.bMarks.push(s.length),this.eMarks.push(s.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}a.prototype.push=function(t,e,n){var i=new r(t,e,n);return i.block=!0,n<0&&this.level--,i.level=this.level,n>0&&this.level++,this.tokens.push(i),i},a.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]},a.prototype.skipEmptyLines=function(t){for(var e=this.lineMax;t<e&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t},a.prototype.skipSpaces=function(t){for(var e,n=this.src.length;t<n&&(e=this.src.charCodeAt(t),i(e));t++);return t},a.prototype.skipSpacesBack=function(t,e){if(t<=e)return t;for(;t>e;)if(!i(this.src.charCodeAt(--t)))return t+1;return t},a.prototype.skipChars=function(t,e){for(var n=this.src.length;t<n&&this.src.charCodeAt(t)===e;t++);return t},a.prototype.skipCharsBack=function(t,e,n){if(t<=n)return t;for(;t>n;)if(e!==this.src.charCodeAt(--t))return t+1;return t},a.prototype.getLines=function(t,e,n,r){var a,s,o,u,l,c,h,f=t;if(t>=e)return"";for(c=new Array(e-t),a=0;f<e;f++,a++){for(s=0,h=u=this.bMarks[f],l=f+1<e||r?this.eMarks[f]+1:this.eMarks[f];u<l&&s<n;){if(o=this.src.charCodeAt(u),i(o))9===o?s+=4-(s+this.bsCount[f])%4:s++;else{if(!(u-h<this.tShift[f]))break;s++}u++}c[a]=s>n?new Array(s-n+1).join(" ")+this.src.slice(u,l):this.src.slice(u,l)}return c.join("")},a.prototype.Token=r,t.exports=a},function(t,e,n){"use strict";var r=n(42),i=[["text",n(99)],["newline",n(100)],["escape",n(101)],["backticks",n(102)],["strikethrough",n(50).tokenize],["emphasis",n(51).tokenize],["link",n(103)],["image",n(104)],["autolink",n(105)],["html_inline",n(106)],["entity",n(107)]],a=[["balance_pairs",n(108)],["strikethrough",n(50).postProcess],["emphasis",n(51).postProcess],["text_collapse",n(109)]];function s(){var t;for(this.ruler=new r,t=0;t<i.length;t++)this.ruler.push(i[t][0],i[t][1]);for(this.ruler2=new r,t=0;t<a.length;t++)this.ruler2.push(a[t][0],a[t][1])}s.prototype.skipToken=function(t){var e,n,r=t.pos,i=this.ruler.getRules(""),a=i.length,s=t.md.options.maxNesting,o=t.cache;if(void 0===o[r]){if(t.level<s)for(n=0;n<a&&(t.level++,e=i[n](t,!0),t.level--,!e);n++);else t.pos=t.posMax;e||t.pos++,o[r]=t.pos}else t.pos=o[r]},s.prototype.tokenize=function(t){for(var e,n,r=this.ruler.getRules(""),i=r.length,a=t.posMax,s=t.md.options.maxNesting;t.pos<a;){if(t.level<s)for(n=0;n<i&&!(e=r[n](t,!1));n++);if(e){if(t.pos>=a)break}else t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()},s.prototype.parse=function(t,e,n,r){var i,a,s,o=new this.State(t,e,n,r);for(this.tokenize(o),s=(a=this.ruler2.getRules("")).length,i=0;i<s;i++)a[i](o)},s.prototype.State=n(110),t.exports=s},function(t,e,n){"use strict";function r(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}t.exports=function(t,e){for(var n=t.pos;n<t.posMax&&!r(t.src.charCodeAt(n));)n++;return n!==t.pos&&(e||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}},function(t,e,n){"use strict";var r=n(36).isSpace;t.exports=function(t,e){var n,i,a=t.pos;if(10!==t.src.charCodeAt(a))return!1;for(n=t.pending.length-1,i=t.posMax,e||(n>=0&&32===t.pending.charCodeAt(n)?n>=1&&32===t.pending.charCodeAt(n-1)?(t.pending=t.pending.replace(/ +$/,""),t.push("hardbreak","br",0)):(t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0)):t.push("softbreak","br",0)),a++;a<i&&r(t.src.charCodeAt(a));)a++;return t.pos=a,!0}},function(t,e,n){"use strict";for(var r=n(36).isSpace,i=[],a=0;a<256;a++)i.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(t){i[t.charCodeAt(0)]=1})),t.exports=function(t,e){var n,a=t.pos,s=t.posMax;if(92!==t.src.charCodeAt(a))return!1;if(++a<s){if((n=t.src.charCodeAt(a))<256&&0!==i[n])return e||(t.pending+=t.src[a]),t.pos+=2,!0;if(10===n){for(e||t.push("hardbreak","br",0),a++;a<s&&(n=t.src.charCodeAt(a),r(n));)a++;return t.pos=a,!0}}return e||(t.pending+="\\"),t.pos++,!0}},function(t,e,n){"use strict";t.exports=function(t,e){var n,r,i,a,s,o,u=t.pos;if(96!==t.src.charCodeAt(u))return!1;for(n=u,u++,r=t.posMax;u<r&&96===t.src.charCodeAt(u);)u++;for(i=t.src.slice(n,u),a=s=u;-1!==(a=t.src.indexOf("`",s));){for(s=a+1;s<r&&96===t.src.charCodeAt(s);)s++;if(s-a===i.length)return e||((o=t.push("code_inline","code",0)).markup=i,o.content=t.src.slice(u,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),t.pos=s,!0}return e||(t.pending+=i),t.pos+=i.length,!0}},function(t,e,n){"use strict";var r=n(36).normalizeReference,i=n(36).isSpace;t.exports=function(t,e){var n,a,s,o,u,l,c,h,f,p="",d=t.pos,g=t.posMax,v=t.pos,m=!0;if(91!==t.src.charCodeAt(t.pos))return!1;if(u=t.pos+1,(o=t.md.helpers.parseLinkLabel(t,t.pos,!0))<0)return!1;if((l=o+1)<g&&40===t.src.charCodeAt(l)){for(m=!1,l++;l<g&&(a=t.src.charCodeAt(l),i(a)||10===a);l++);if(l>=g)return!1;for(v=l,(c=t.md.helpers.parseLinkDestination(t.src,l,t.posMax)).ok&&(p=t.md.normalizeLink(c.str),t.md.validateLink(p)?l=c.pos:p=""),v=l;l<g&&(a=t.src.charCodeAt(l),i(a)||10===a);l++);if(c=t.md.helpers.parseLinkTitle(t.src,l,t.posMax),l<g&&v!==l&&c.ok)for(f=c.str,l=c.pos;l<g&&(a=t.src.charCodeAt(l),i(a)||10===a);l++);else f="";(l>=g||41!==t.src.charCodeAt(l))&&(m=!0),l++}if(m){if(void 0===t.env.references)return!1;if(l<g&&91===t.src.charCodeAt(l)?(v=l+1,(l=t.md.helpers.parseLinkLabel(t,l))>=0?s=t.src.slice(v,l++):l=o+1):l=o+1,s||(s=t.src.slice(u,o)),!(h=t.env.references[r(s)]))return t.pos=d,!1;p=h.href,f=h.title}return e||(t.pos=u,t.posMax=o,t.push("link_open","a",1).attrs=n=[["href",p]],f&&n.push(["title",f]),t.md.inline.tokenize(t),t.push("link_close","a",-1)),t.pos=l,t.posMax=g,!0}},function(t,e,n){"use strict";var r=n(36).normalizeReference,i=n(36).isSpace;t.exports=function(t,e){var n,a,s,o,u,l,c,h,f,p,d,g,v,m="",y=t.pos,x=t.posMax;if(33!==t.src.charCodeAt(t.pos))return!1;if(91!==t.src.charCodeAt(t.pos+1))return!1;if(l=t.pos+2,(u=t.md.helpers.parseLinkLabel(t,t.pos+1,!1))<0)return!1;if((c=u+1)<x&&40===t.src.charCodeAt(c)){for(c++;c<x&&(a=t.src.charCodeAt(c),i(a)||10===a);c++);if(c>=x)return!1;for(v=c,(f=t.md.helpers.parseLinkDestination(t.src,c,t.posMax)).ok&&(m=t.md.normalizeLink(f.str),t.md.validateLink(m)?c=f.pos:m=""),v=c;c<x&&(a=t.src.charCodeAt(c),i(a)||10===a);c++);if(f=t.md.helpers.parseLinkTitle(t.src,c,t.posMax),c<x&&v!==c&&f.ok)for(p=f.str,c=f.pos;c<x&&(a=t.src.charCodeAt(c),i(a)||10===a);c++);else p="";if(c>=x||41!==t.src.charCodeAt(c))return t.pos=y,!1;c++}else{if(void 0===t.env.references)return!1;if(c<x&&91===t.src.charCodeAt(c)?(v=c+1,(c=t.md.helpers.parseLinkLabel(t,c))>=0?o=t.src.slice(v,c++):c=u+1):c=u+1,o||(o=t.src.slice(l,u)),!(h=t.env.references[r(o)]))return t.pos=y,!1;m=h.href,p=h.title}return e||(s=t.src.slice(l,u),t.md.inline.parse(s,t.md,t.env,g=[]),(d=t.push("image","img",0)).attrs=n=[["src",m],["alt",""]],d.children=g,d.content=s,p&&n.push(["title",p])),t.pos=c,t.posMax=x,!0}},function(t,e,n){"use strict";var r=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,i=/^<([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)>/;t.exports=function(t,e){var n,a,s,o,u,l,c=t.pos;return 60===t.src.charCodeAt(c)&&(!((n=t.src.slice(c)).indexOf(">")<0)&&(i.test(n)?(o=(a=n.match(i))[0].slice(1,-1),u=t.md.normalizeLink(o),!!t.md.validateLink(u)&&(e||((l=t.push("link_open","a",1)).attrs=[["href",u]],l.markup="autolink",l.info="auto",(l=t.push("text","",0)).content=t.md.normalizeLinkText(o),(l=t.push("link_close","a",-1)).markup="autolink",l.info="auto"),t.pos+=a[0].length,!0)):!!r.test(n)&&(o=(s=n.match(r))[0].slice(1,-1),u=t.md.normalizeLink("mailto:"+o),!!t.md.validateLink(u)&&(e||((l=t.push("link_open","a",1)).attrs=[["href",u]],l.markup="autolink",l.info="auto",(l=t.push("text","",0)).content=t.md.normalizeLinkText(o),(l=t.push("link_close","a",-1)).markup="autolink",l.info="auto"),t.pos+=s[0].length,!0))))}},function(t,e,n){"use strict";var r=n(49).HTML_TAG_RE;t.exports=function(t,e){var n,i,a,s=t.pos;return!!t.md.options.html&&(a=t.posMax,!(60!==t.src.charCodeAt(s)||s+2>=a)&&(!(33!==(n=t.src.charCodeAt(s+1))&&63!==n&&47!==n&&!function(t){var e=32|t;return e>=97&&e<=122}(n))&&(!!(i=t.src.slice(s).match(r))&&(e||(t.push("html_inline","",0).content=t.src.slice(s,s+i[0].length)),t.pos+=i[0].length,!0))))}},function(t,e,n){"use strict";var r=n(44),i=n(36).has,a=n(36).isValidEntityCode,s=n(36).fromCodePoint,o=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,u=/^&([a-z][a-z0-9]{1,31});/i;t.exports=function(t,e){var n,l,c=t.pos,h=t.posMax;if(38!==t.src.charCodeAt(c))return!1;if(c+1<h)if(35===t.src.charCodeAt(c+1)){if(l=t.src.slice(c).match(o))return e||(n="x"===l[1][0].toLowerCase()?parseInt(l[1].slice(1),16):parseInt(l[1],10),t.pending+=a(n)?s(n):s(65533)),t.pos+=l[0].length,!0}else if((l=t.src.slice(c).match(u))&&i(r,l[1]))return e||(t.pending+=r[l[1]]),t.pos+=l[0].length,!0;return e||(t.pending+="&"),t.pos++,!0}},function(t,e,n){"use strict";function r(t,e){var n,r,i,a,s,o,u,l,c={},h=e.length;for(n=0;n<h;n++)if((i=e[n]).length=i.length||0,i.close){for(c.hasOwnProperty(i.marker)||(c[i.marker]=[-1,-1,-1]),s=c[i.marker][i.length%3],o=-1,r=n-i.jump-1;r>s;r-=a.jump+1)if((a=e[r]).marker===i.marker&&(-1===o&&(o=r),a.open&&a.end<0&&a.level===i.level&&(u=!1,(a.close||i.open)&&(a.length+i.length)%3==0&&(a.length%3==0&&i.length%3==0||(u=!0)),!u))){l=r>0&&!e[r-1].open?e[r-1].jump+1:0,i.jump=n-r+l,i.open=!1,a.end=n,a.jump=l,a.close=!1,o=-1;break}-1!==o&&(c[i.marker][(i.length||0)%3]=o)}}t.exports=function(t){var e,n=t.tokens_meta,i=t.tokens_meta.length;for(r(0,t.delimiters),e=0;e<i;e++)n[e]&&n[e].delimiters&&r(0,n[e].delimiters)}},function(t,e,n){"use strict";t.exports=function(t){var e,n,r=0,i=t.tokens,a=t.tokens.length;for(e=n=0;e<a;e++)i[e].nesting<0&&r--,i[e].level=r,i[e].nesting>0&&r++,"text"===i[e].type&&e+1<a&&"text"===i[e+1].type?i[e+1].content=i[e].content+i[e+1].content:(e!==n&&(i[n]=i[e]),n++);e!==n&&(i.length=n)}},function(t,e,n){"use strict";var r=n(43),i=n(36).isWhiteSpace,a=n(36).isPunctChar,s=n(36).isMdAsciiPunct;function o(t,e,n,r){this.src=t,this.env=n,this.md=e,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[]}o.prototype.pushPending=function(){var t=new r("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t},o.prototype.push=function(t,e,n){this.pending&&this.pushPending();var i=new r(t,e,n),a=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),i.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],a={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(i),this.tokens_meta.push(a),i},o.prototype.scanDelims=function(t,e){var n,r,o,u,l,c,h,f,p,d=t,g=!0,v=!0,m=this.posMax,y=this.src.charCodeAt(t);for(n=t>0?this.src.charCodeAt(t-1):32;d<m&&this.src.charCodeAt(d)===y;)d++;return o=d-t,r=d<m?this.src.charCodeAt(d):32,h=s(n)||a(String.fromCharCode(n)),p=s(r)||a(String.fromCharCode(r)),c=i(n),(f=i(r))?g=!1:p&&(c||h||(g=!1)),c?v=!1:h&&(f||p||(v=!1)),e?(u=g,l=v):(u=g&&(!v||h),l=v&&(!g||p)),{can_open:u,can_close:l,length:o}},o.prototype.Token=r,t.exports=o},function(t,e,n){"use strict";function r(t){var e=Array.prototype.slice.call(arguments,1);return e.forEach((function(e){e&&Object.keys(e).forEach((function(n){t[n]=e[n]}))})),t}function i(t){return Object.prototype.toString.call(t)}function a(t){return"[object Function]"===i(t)}function s(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var o={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var u={"http:":{validate:function(t,e,n){var r=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){var r=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?e>=3&&":"===t[e-3]||e>=3&&"/"===t[e-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){var r=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},l="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function c(t){var e=t.re=n(112)(t.__opts__),r=t.__tlds__.slice();function o(t){return t.replace("%TLDS%",e.src_tlds)}t.onCompile(),t.__tlds_replaced__||r.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),r.push(e.src_xn),e.src_tlds=r.join("|"),e.email_fuzzy=RegExp(o(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(o(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(o(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(o(e.tpl_host_fuzzy_test),"i");var u=[];function l(t,e){throw new Error('(LinkifyIt) Invalid schema "'+t+'": '+e)}t.__compiled__={},Object.keys(t.__schemas__).forEach((function(e){var n=t.__schemas__[e];if(null!==n){var r={validate:null,link:null};if(t.__compiled__[e]=r,"[object Object]"===i(n))return!function(t){return"[object RegExp]"===i(t)}(n.validate)?a(n.validate)?r.validate=n.validate:l(e,n):r.validate=function(t){return function(e,n){var r=e.slice(n);return t.test(r)?r.match(t)[0].length:0}}(n.validate),void(a(n.normalize)?r.normalize=n.normalize:n.normalize?l(e,n):r.normalize=function(t,e){e.normalize(t)});!function(t){return"[object String]"===i(t)}(n)?l(e,n):u.push(e)}})),u.forEach((function(e){t.__compiled__[t.__schemas__[e]]&&(t.__compiled__[e].validate=t.__compiled__[t.__schemas__[e]].validate,t.__compiled__[e].normalize=t.__compiled__[t.__schemas__[e]].normalize)})),t.__compiled__[""]={validate:null,normalize:function(t,e){e.normalize(t)}};var c=Object.keys(t.__compiled__).filter((function(e){return e.length>0&&t.__compiled__[e]})).map(s).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+e.src_ZPCc+"))("+c+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+e.src_ZPCc+"))("+c+")","ig"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),function(t){t.__index__=-1,t.__text_cache__=""}(t)}function h(t,e){var n=t.__index__,r=t.__last_index__,i=t.__text_cache__.slice(n,r);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=r+e,this.raw=i,this.text=i,this.url=i}function f(t,e){var n=new h(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function p(t,e){if(!(this instanceof p))return new p(t,e);var n;e||(n=t,Object.keys(n||{}).reduce((function(t,e){return t||o.hasOwnProperty(e)}),!1)&&(e=t,t={})),this.__opts__=r({},o,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},u,t),this.__compiled__={},this.__tlds__=l,this.__tlds_replaced__=!1,this.re={},c(this)}p.prototype.add=function(t,e){return this.__schemas__[t]=e,c(this),this},p.prototype.set=function(t){return this.__opts__=r(this.__opts__,t),this},p.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;var e,n,r,i,a,s,o,u;if(this.re.schema_test.test(t))for((o=this.re.schema_search).lastIndex=0;null!==(e=o.exec(t));)if(i=this.testSchemaAt(t,e[2],o.lastIndex)){this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(u=t.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||u<this.__index__)&&null!==(n=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(a=n.index+n[1].length,(this.__index__<0||a<this.__index__)&&(this.__schema__="",this.__index__=a,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&t.indexOf("@")>=0&&null!==(r=t.match(this.re.email_fuzzy))&&(a=r.index+r[1].length,s=r.index+r[0].length,(this.__index__<0||a<this.__index__||a===this.__index__&&s>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=a,this.__last_index__=s)),this.__index__>=0},p.prototype.pretest=function(t){return this.re.pretest.test(t)},p.prototype.testSchemaAt=function(t,e,n){return this.__compiled__[e.toLowerCase()]?this.__compiled__[e.toLowerCase()].validate(t,n,this):0},p.prototype.match=function(t){var e=0,n=[];this.__index__>=0&&this.__text_cache__===t&&(n.push(f(this,e)),e=this.__last_index__);for(var r=e?t.slice(e):t;this.test(r);)n.push(f(this,e)),r=r.slice(this.__last_index__),e+=this.__last_index__;return n.length?n:null},p.prototype.tlds=function(t,e){return t=Array.isArray(t)?t:[t],e?(this.__tlds__=this.__tlds__.concat(t).sort().filter((function(t,e,n){return t!==n[e-1]})).reverse(),c(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,c(this),this)},p.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),"mailto:"!==t.schema||/^mailto:/i.test(t.url)||(t.url="mailto:"+t.url)},p.prototype.onCompile=function(){},t.exports=p},function(t,e,n){"use strict";t.exports=function(t){var e={};e.src_Any=n(46).source,e.src_Cc=n(47).source,e.src_Z=n(48).source,e.src_P=n(41).source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");return e.src_pseudo_letter="(?:(?![><｜]|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|[><｜]|"+e.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+"[><｜]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-]).|\\.{2,3}[a-zA-Z0-9%/]|\\.(?!"+e.src_ZCc+"|[.]).|"+(t&&t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+e.src_ZCc+").|\\!(?!"+e.src_ZCc+"|[!]).|\\?(?!"+e.src_ZCc+"|[?]).)+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]+',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-(?!-)|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|[><｜]|\\(|"+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+e.src_ZPCc+"))((?![$+<=>^`|｜])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+e.src_ZPCc+"))((?![$+<=>^`|｜])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}},function(t,e,n){(function(t,r){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(a){e&&e.nodeType,t&&t.nodeType;var s="object"==typeof r&&r;s.global!==s&&s.window!==s&&s.self;var o,u=2147483647,l=36,c=/^xn--/,h=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,g=String.fromCharCode;function v(t){throw new RangeError(p[t])}function m(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function y(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+m((t=t.replace(f,".")).split("."),e).join(".")}function x(t){for(var e,n,r=[],i=0,a=t.length;i<a;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<a?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function _(t){return m(t,(function(t){var e="";return t>65535&&(e+=g((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=g(t)})).join("")}function b(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function w(t,e,n){var r=0;for(t=n?d(t/700):t>>1,t+=d(t/e);t>455;r+=l)t=d(t/35);return d(r+36*t/(t+38))}function C(t){var e,n,r,i,a,s,o,c,h,f,p,g=[],m=t.length,y=0,x=128,b=72;for((n=t.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&v("not-basic"),g.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<m;){for(a=y,s=1,o=l;i>=m&&v("invalid-input"),((c=(p=t.charCodeAt(i++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:l)>=l||c>d((u-y)/s))&&v("overflow"),y+=c*s,!(c<(h=o<=b?1:o>=b+26?26:o-b));o+=l)s>d(u/(f=l-h))&&v("overflow"),s*=f;b=w(y-a,e=g.length+1,0==a),d(y/e)>u-x&&v("overflow"),x+=d(y/e),y%=e,g.splice(y++,0,x)}return _(g)}function k(t){var e,n,r,i,a,s,o,c,h,f,p,m,y,_,C,k=[];for(m=(t=x(t)).length,e=128,n=0,a=72,s=0;s<m;++s)(p=t[s])<128&&k.push(g(p));for(r=i=k.length,i&&k.push("-");r<m;){for(o=u,s=0;s<m;++s)(p=t[s])>=e&&p<o&&(o=p);for(o-e>d((u-n)/(y=r+1))&&v("overflow"),n+=(o-e)*y,e=o,s=0;s<m;++s)if((p=t[s])<e&&++n>u&&v("overflow"),p==e){for(c=n,h=l;!(c<(f=h<=a?1:h>=a+26?26:h-a));h+=l)C=c-f,_=l-f,k.push(g(b(f+C%_,0))),c=d(C/_);k.push(g(b(c,0))),a=w(n,y,r==i),n=0,++r}++n,++e}return k.join("")}o={version:"1.4.1",ucs2:{decode:x,encode:_},decode:C,encode:k,toASCII:function(t){return y(t,(function(t){return h.test(t)?"xn--"+k(t):t}))},toUnicode:function(t){return y(t,(function(t){return c.test(t)?C(t.slice(4).toLowerCase()):t}))}},void 0===(i=function(){return o}.call(e,n,e,t))||(t.exports=i)}()}).call(this,n(114)(t),n(115))},function(t,e,n){t.exports=n(19)(402)},function(t,e,n){t.exports=n(19)(105)},function(t,e,n){"use strict";t.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},function(t,e,n){"use strict";t.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}},function(t,e,n){"use strict";t.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}},function(t,e,n){t.exports=n(19)(114)},function(t,e,n){"use strict";n.r(e),n.d(e,"Vis",(function(){return vis_Vis}));var r=n(8),i=n.n(r),a=n(37),s=n.n(a),o=n(61),u=n(0),l=n(12);class errors_VislibError extends l.KbnError{constructor(t){super(t)}displayToScreen(t){t.error(this.message)}}class InvalidLogScaleValues extends errors_VislibError{constructor(){super("Values less than 1 cannot be displayed on a log scale")}}class ContainerTooSmall extends errors_VislibError{constructor(){super("This container is too small to render the visualization")}}class PieContainsAllZeros extends errors_VislibError{constructor(){super("No results displayed because all values equal 0.")}}class errors_NoResults extends errors_VislibError{constructor(){super(u.i18n.translate("visTypeVislib.vislib.errors.noResultsFoundTitle",{defaultMessage:"No results found"}))}}var c=n(27);function h(t){if(!t.id)return;const e=t.id.indexOf("[");return e>-1?t.id.substring(0,e):t.id.indexOf(".")>-1?t.id.split(".")[0]:t.id}const f=(t,e)=>({type:"point_series",addTimeMarker:t.addTimeMarker,series:i.a.map(e,(e=>((t,e)=>{const n=h(e),r=t.seriesParams?t.seriesParams.find((t=>n===t.data.id)):null,i=t.smoothLines?"cardinal":t.interpolate;if(!r){const n=Array.isArray(t.seriesParams)&&t.seriesParams[0]?t.seriesParams[0]:t,r=["stacked","percentage","wiggle","silhouette"].includes(t.mode);return{show:!0,type:t.type||"line",mode:r?"stacked":"normal",interpolate:i,drawLinesBetweenPoints:n.drawLinesBetweenPoints,showCircles:n.showCircles,radiusRatio:t.radiusRatio,data:e}}return{...r,data:e,radiusRatio:t.radiusRatio}})(t,e)))});function p(t){return t=t||{},function(e,n){const r=e.setYExtents,a=e.defaultYExtents,s=i.a.cloneDeep(e);if(i.a.defaultsDeep(s,{chartTitle:{},mode:"normal"},t),s.type="point_series",s.tooltip||(s.tooltip={show:e.addTooltip}),s.valueAxes)s.valueAxes.forEach((t=>{if(t.labels){t.labels.axisFormatter=n.data.yAxisFormatter||n.get("yAxisFormatter");const e=s.seriesParams&&s.seriesParams.find((e=>e.valueAxis===t.id));if(e){const r=e.data.id,i=(n.data.series||n.get("series")).find((t=>h(t)===r));i&&(t.labels.axisFormatter=i.yAxisFormatter)}}}));else{let t=s.mode;["stacked","overlap"].includes(t)&&(t="normal"),s.valueAxes=[{id:"ValueAxis-1",type:"value",scale:{type:s.scale,setYExtents:s.setYExtents,defaultYExtents:s.defaultYExtents,boundsMargin:a?s.boundsMargin:0,min:r?s.yAxis.min:void 0,max:r?s.yAxis.max:void 0,mode:t},labels:{axisFormatter:n.data.yAxisFormatter||n.get("yAxisFormatter")},title:{text:n.get("yAxisLabel")}}]}if(s.categoryAxes){const t=s.categoryAxes.find((t=>"CategoryAxis-1"===t.id));t&&(t.title.text=n.get("xAxisLabel"))}else s.categoryAxes=[{id:"CategoryAxis-1",type:"category",labels:{axisFormatter:n.data.xAxisFormatter||n.get("xAxisFormatter")},scale:{expandLastBucket:t.expandLastBucket},title:{text:n.get("xAxisLabel")}}];return s.charts||(s.charts=((t,e)=>{if(e.rows||e.columns)return(e.rows?e.rows:e.columns).map((e=>f(t,e.series)));return[f(t,e.series)]})(e,n.data)),void 0===s.enableHover&&(s.enableHover=!0),s}}function d(t){return t}const g={pie:function(t){return t.chart||(t.chart=i.a.defaults({},t,{type:"pie",labels:{show:!1,truncate:100}})),t},heatmap:{heatmap:(t,e)=>{const n=p()(t,e),r=n.charts.length,i=n.charts.length&&n.charts[0].series.length>t.heatmapMaxBuckets;return r&&i&&(n.error=u.i18n.translate("visTypeVislib.vislib.heatmap.maxBucketsText",{defaultMessage:"There are too many series defined ({nr}). The configured maximum is {max}.",values:{max:t.heatmapMaxBuckets,nr:n.charts[0].series.length},description:"This message appears at heatmap visualizations"})),n.valueAxes[0].show=!1,n.categoryAxes[0].style={rangePadding:0,rangeOuterPadding:0},n.categoryAxes.push({id:"CategoryAxis-2",type:"category",position:"left",values:e.getLabels(),scale:{inverted:!0},labels:{filter:!1,axisFormatter:function(t){return t}},style:{rangePadding:0,rangeOuterPadding:0},title:{text:e.get("zAxisLabel")||""}}),n}}.heatmap,gauge:d,goal:d,metric:d};var v=n(11),m=n.n(v);function y(t){if(!Object(r.isObject)(t))throw new TypeError("getUniqKeys expects an object");const e=function(t){let e;if(!i.a.isObject(t)||!t.rows&&!t.columns&&!t.series)throw new TypeError("flattenData expects an object with a series, rows, or columns key");return t.series||(e=t.rows?t.rows:t.columns),i()(e||[t]).map("series").flattenDeep().map("values").flattenDeep().filter(Boolean).value()}(t),n=new Map;let a;a=t.series?[t]:t.rows?t.rows:t.columns;const s=a.every((t=>t.ordered&&t.ordered.date)),o=a.every((t=>t.ordered)),u=(t,e)=>{n.set(t,{index:e,isDate:s,isOrdered:o,isNumber:Object(r.isNumber)(t),sum:0})};return t.xAxisOrderedValues&&t.xAxisOrderedValues.forEach(u),e.forEach((t=>{const e=t.x;let r=n.get(e);r||(u(e,n.size),r=n.get(e)),n.set(e,{...r,sum:r.sum+t.y})})),n}function x(t,e=!1){if(!i.a.isObject(t))throw new Error("orderXValues expects an object");const n=[...y(t).entries()],r=i.a.get(t,"ordered.interval"),a=!!m.a.isDuration(r)&&r;return i()(n).sortBy((function(t){return t[1].isDate||t[1].isOrdered?+t[0]:e?-t[1].sum:t[1].index})).map((function(t,e,n){if(!t[1].isNumber)return t[0];const s=+t[0];if(null==r)return s;const o=parseFloat(i.a.get(n,[e+1,0]));if(isNaN(o))return s;const u=[];let l=s;if(a)for(l=m()(s);l<o;)u.push(l.valueOf()),l.add(a);else for(;l<o;)u.push(l),l+=r;return u})).flatten().value()}function _(t,e,n=!1){const r=x(e,n);return t.forEach((function(t){const e=function(t,e){if(!Array.isArray(t))throw new Error("createZeroFilledArray expects an array of strings or numbers");const n=[];return t.forEach((function(t){n.push({x:t,xi:1/0,y:0,series:e})})),n}(r,t.label);t.values=function(t,e){if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("zeroFillDataArray expects 2 arrays");let n,r,a;const s=e.length,o=function(t){return t.x===r.x};for(n=0;n<s;n++)r=e[n],a=i.a.findIndex(t,o),t.splice(a,1,r);return t}(e,t.values)})),t}function b(t){if(!i.a.isObject(t)||!t.rows&&!t.columns&&!t.series)throw new TypeError("GetArrayUtilService expects an object with a series, rows, or columns key");return t.series?t.series:function(t){if(!i.a.isObject(t)||!t.rows&&!t.columns)throw new TypeError("GetSeriesUtilService expects an object with either a rows or columns key");return t=t.rows?t.rows:t.columns,i.a.chain(t).map("series").flattenDeep().value()}(t)}function w(t){if(!i.a.isObject(t))throw new TypeError("LabelUtil expects an object");return function(t){if(!Array.isArray(t))throw new TypeError("UniqLabelUtil expects an array of objects");return i()(t).map("label").uniq().value()}(b(t))}var C=n(6);class D3MappableObject{constructor(t){for(const e in t)t.hasOwnProperty(e)&&(this[e]=t[e])}toString(){return JSON.stringify(this)}}class data_Data{constructor(t,e,n){this.uiState=e,this.createColorLookupFunction=n,this.data=this.copyDataObj(t),this.type=this.getDataType(),this._cleanVisData(),this.labels=this._getLabels(this.data),this.color=this.labels?n(this.labels,e.get("vis.colors")):void 0,this._normalizeOrdered()}copyDataObj(t){const e=t=>{const e={};Object.keys(t).forEach((n=>{e[n]="xAxisOrderedValues"===n?t[n].map((t=>"object"==typeof t?new D3MappableObject(t):t)):"series"===n?t[n].map((t=>{const e=Object(C.b)().deserialize(t.format),n=Object(C.b)().deserialize(t.zFormat);return{id:t.id,rawId:t.rawId,label:t.label,zLabel:t.zLabel,values:t.values.map((e=>{const n=i.a.clone(e);return n.extraMetrics=e.extraMetrics,n.series=e.series||t.label,"object"==typeof n.x&&(n.x=new D3MappableObject(n.x)),n})),yAxisFormatter:t=>e.convert(t),zAxisFormatter:t=>n.convert(t)}})):t[n]}));const n=Object(C.b)().deserialize(e.xAxisFormat),r=Object(C.b)().deserialize(e.yAxisFormat),a=Object(C.b)().deserialize(e.zAxisFormat);return e.xAxisFormatter=t=>n.convert(t),e.yAxisFormatter=t=>r.convert(t),e.zAxisFormatter=t=>a.convert(t),e};if(!t.series){const n={};return Object.keys(t).forEach((r=>{["rows","columns"].includes(r)?n[r]=t[r].map((t=>e(t))):n[r]=t[r]})),n}return e(t)}_getLabels(t){return"series"===this.type?w(t):[]}getDataType(){let t;return this.getVisData().forEach((function(e){e.series?t="series":e.slices?t="slices":e.geoJson&&(t="geoJson")})),t}chartData(){if(!this.data.series){const t=this.data.rows?this.data.rows:this.data.columns;return i.a.toArray(t)}return[this.data]}shouldBeStacked(t){return!!t&&"stacked"===t.mode}getStackedSeries(t,e,n,r=!1){const i=[];return t.series.forEach(((t,a)=>{(t.valueAxis===e.axisConfig.get("id")||!t.valueAxis&&r)&&(this.shouldBeStacked(t)||e.axisConfig.get("scale.stacked"))&&i.push(n[a])})),i}stackChartData(t,e,n){const r={};return t.valueAxes.forEach(((a,s)=>{const o=a.axisConfig.get("id");r[o]=this.getStackedSeries(n,a,e,0===s),r[o]=this.injectZeros(r[o],t.visConfig.get("orderBucketsBySum",!1)),a.axisConfig.set("stackedSeries",r[o].length),a.stack(i.a.map(r[o],"values"))})),r}stackData(t){const e=this.data;if(e.rows||e.columns){(e.rows?e.rows:e.columns).forEach(((e,n)=>{this.stackChartData(t,e.series,t.visConfig.get(`charts[${n}]`))}))}else this.stackChartData(t,e.series,t.visConfig.get("charts[0]"))}getVisData(){let t;return t=this.data.rows?this.data.rows:this.data.columns?this.data.columns:[this.data],t}getGeoExtents(){const t=this.getVisData();return i.a.reduce(i.a.map(t,"geoJson.properties"),(function(t,e){return{min:Math.min(e.min,t.min),max:Math.max(e.max,t.max)}}),{min:1/0,max:-1/0})}pieData(){return this.data.slices?[this.data]:this.data.rows?this.data.rows:this.data.columns}get(t,e){const n=(this.data.rows||this.data.columns||[this.data])[0];return i.a.get(n,t,e)}hasNullValues(){return this.chartData().some((function(t){return t.series.some((function(t){return t.values.some((function(t){return null===t.y}))}))}))}flatten(){return i()(this.chartData()).map("series").flattenDeep().map("values").flattenDeep().value()}validateUserDefinedYMin(t){if(!i.a.isNumber(t))throw new Error("validateUserDefinedYMin expects a number");return t}returnNames(t,e,n){const r=[],a=this;return i.a.forEach(t,(function(t){if(r.push({label:t.name,values:[t.rawData],index:e}),t.children){const s=e+1;i.a.forEach(a.returnNames(t.children,s,n),(function(t){r.push(t)}))}})),r}getNames(t,e){const n=t.slices;if(n.children){const t=this.returnNames(n.children,0,e);return i()(t).sortBy((function(t){return t.index})).uniqBy((function(t){return t.label})).value()}}_cleanVisData(){const t=this.getVisData();"slices"===this.type&&this._cleanPieChartData(t)}_cleanPieChartData(t){i.a.forEach(t,(t=>{t.slices=this._removeZeroSlices(t.slices)}))}_removeZeroSlices(t){return t.children?((t=i.a.clone(t)).children=t.children.reduce(((t,e)=>0!==e.size?[...t,this._removeZeroSlices(e)]:t),[]),t):t}pieNames(t){const e=this,n=[];return i.a.forEach(t,(function(t){const r=t.raw?t.raw.columns:void 0;i.a.forEach(e.getNames(t,r),(function(t){n.push(t)}))})),i.a.uniqBy(n,"label")}injectZeros(t,e=!1){return _(t,this.data,e)}xValues(t=!1){return x(this.data,t)}getLabels(){return w(this.data)}getColorFunc(){if("slices"===this.type)return this.getPieColorFunc();const t=this.uiState.get("vis.defaultColors"),e=this.uiState.get("vis.colors"),n=t?i.a.defaults({},e,t):e;return this.createColorLookupFunction(this.getLabels(),n)}getPieColorFunc(){return this.createColorLookupFunction(this.pieNames(this.getVisData()).map((function(t){return t.label})),this.uiState.get("vis.colors"))}_normalizeOrdered(){const t=this.getVisData(),e=this;t.forEach((function(t){if(!t.ordered||!t.ordered.date)return;const n=null==t.ordered.min,r=null==t.ordered.max;if(r||n){const i=s.a.extent(e.xValues());n&&(t.ordered.min=i[0]),r&&(t.ordered.max=i[1])}}))}mapDataExtents(t){const e=i.a.map(t.rows,(function(t){return t[t.length-1]}));return[i.a.min(e),i.a.max(e)]}maxNumberOfSeries(){return this.chartData().reduce((function(t,e){return Math.max(t,e.series.length)}),0)}}const k={style:{margin:{top:10,right:3,bottom:5,left:3}},alerts:[],categoryAxes:[],valueAxes:[],grid:{}};class vis_config_VisConfig{constructor(t,e,n,r,a){this.data=new data_Data(e,n,a);const s=(0,g[t.type])(t,this.data);this._values=i.a.defaultsDeep({...s},k),this._values.el=r}get(t,e){if(i.a.has(this._values,t)||void 0!==e)return i.a.get(this._values,t,e);throw new Error(`Accessing invalid config property: ${t}`)}set(t,e){return Object(c.set)(this._values,t,e)}}var A=n(62),M=n.n(A),E=n(23),S=n.n(E),D=n(38),L=n.n(D);class binder_Binder{constructor(){L()(this,"disposal",[])}on(t,...e){const n=t.on||t.addListener,r=t.off||t.removeListener;n.apply(t,e),this.disposal.push((()=>r.apply(t,e)))}destroy(){const t=this.disposal;this.disposal=[],t.forEach((t=>t()))}jqOn(t,...e){const n=S()(t);n.on(...e),this.disposal.push((()=>n.off(...e)))}fakeD3Bind(t,e,n){this.jqOn(t,e,(t=>{const e=s.a.event;s.a.event=t;try{n.apply(this,[this.__data__])}finally{s.a.event=e}}))}}let T;const z={top:"north",left:"west"};function N(t,e){if(!t)return;const n=S()(t.$chart),r=S()(t.$el),i=S()(t.$window||window),a=S()(t.$sizer),s=n.data("previousPlacement")||{},o=t.event;if(!n.length||!r.length)return;const u=q(e||r.html(),a),l=F(u,o),c=I(l,s,R(u,l,[n,i]));return n.data("previousPlacement",c),c}function q(t,e){e.html()!==t&&e.html(t);return{width:e.outerWidth(),height:e.outerHeight()}}function F(t,e){return{east:e.clientX+10,west:e.clientX-t.width-10,south:e.clientY+10,north:e.clientY-t.height-10}}function O(t){const e=S.a.isWindow(t[0])?{top:0,left:0}:t.offset();return e.top+=t.scrollTop(),e.left+=t.scrollLeft(),e.bottom=e.top+t.outerHeight(),e.right=e.left+t.outerWidth(),e.area=(e.bottom-e.top)*(e.right-e.left),e}function R(t,e,n){const r={};return n.map(O).sort((function(t,e){return t.area-e.area})).forEach((function(n){var a,s;a=r,s={north:n.top-e.north,east:e.east+t.width-n.right,south:e.south+t.height-n.bottom,west:n.left-e.west},i.a.mergeWith(a,s,(function(t,e){return null==t||null==e?t||e:t<0&&e<0?Math.min(t,e):Math.max(t,e)})),a.east&&a.west&&a.east>0&&a.west>0&&(s.east<0||s.west<0)&&(s.east<s.west?a.east=s.east:a.west=s.west)})),(window.overflows||(window.overflows=[])).push(r),r}function j(t,e,n,r,a,s,o){const u="_"+t,l=i.a.uniq([r[u],a,s].filter(Boolean));let c,h;for(let t=0;t<l.length;t++)if(c=l[t],!(n[c]>0)){h=e[c];break}if(null==h){c=l[0];let r=n[c];z[t]===c&&(r*=-1),h=e[c]-r}o[t]=h,o[u]=c}function I(t,e,n){const r={};return j("top",t,n,e,"south","north",r),j("left",t,n,e,"east","west",r),r}N.getTtSize=q,N.getBasePosition=F,N.getOverflow=R,N.getBounds=O,N.placeToAvoidOverflow=I,N.removeClone=function(){T&&T.remove(),T=null};var P=n(34);let B=[];const H=2*parseInt(P.euiLightVars.euiSizeXS||0,10),V=2*parseInt(P.euiLightVars.euiSizeS||0,10),U=10*parseInt(P.euiLightVars.euiSizeXL||0,10);function $(t,e,n,r,a){if(!(this instanceof $))return new $(t,e,n,r,a);this.id=t,this.el=e,this.order=100,this.formatter=n,this.events=r,this.uiSettings=a,this.containerClass="visWrapper",this.tooltipClass="visTooltip",this.tooltipSizerClass="visTooltip__sizingClone",this.showCondition=i.a.constant(!0),this.binder=new binder_Binder}$.prototype.$get=i.a.once((function(){return S()("<div>").addClass(this.tooltipClass).appendTo(document.body)})),$.prototype.$getSizer=i.a.once((function(){return this.$get().clone().removeClass(this.tooltipClass).addClass(this.tooltipSizerClass).appendTo(document.body)})),$.prototype.show=function(){const t=this.$get(),e=this.$getChart(),n=t.html();if(!e)return;const r=N({$window:S()(window),$chart:e,$el:t,$sizer:this.$getSizer(),event:s.a.event},n);t.css({visibility:"visible",left:r.left,top:r.top});const i=t.find("tbody > tr:nth-of-type(1) > td").length;if(2===i){const e=t.outerWidth(),n=t.find("tr:nth-of-type(1) > td:nth-child(2)");if(1!==n.length)return;const r=n.outerWidth(),i=r>e/2,a=i?e/2-V-2*H:e-r-V-H;t.find(".visTooltip__labelContainer").css({"max-width":a}),i&&e===U&&t.find(".visTooltip__valueContainer").css({"max-width":a})}else if(3===i){const e=t.outerWidth(),n=t.find("tr:nth-of-type(1) > td:nth-child(3)");if(1!==n.length)return;const r=(e-n.outerWidth()-V)/2-H;t.find(".visTooltip__labelContainer").css({"max-width":r})}},$.prototype.hide=function(){const t=this.$get();B=[],t.css({visibility:"hidden",left:"-500px",top:"-500px"})},$.prototype.$getChart=function(){const t=S()(this.container&&this.container.node());return!!t.length&&t},$.prototype.render=function(){const t=this;return function(e){const n=t.$get(),r=t.id,a=t.order;void 0!==t.container&&t.container===s.a.select(t.el).select("."+t.containerClass)||(t.container=s.a.select(t.el).select("."+t.containerClass));const o=t.$getChart();o&&t.binder.jqOn(o,"mouseleave",(function(){o.removeData("previousPlacement")})),e.each((function(e,o){const u=s.a.select(this);function l(e){B=i.a.filter(B,(function(t){return t.id!==r})),e&&B.push({id:r,html:e,order:a});const s=i()(B).sortBy("order").map("html").compact().join("\n");s?(n.html(s),t.show()):t.hide()}t.binder.fakeD3Bind(this,"mousemove",(function(){if(!t.showCondition.call(u,e,o))return l();const n=t.events?t.events.eventResponse(e,o):e;return l(t.formatter(n,t.uiSettings))})),t.binder.fakeD3Bind(this,"mouseleave",(function(){l()}))}))}},$.prototype.destroy=function(){this.hide(),this.binder.destroy()};n(10);var Z=n(30),G=n.n(Z),W=n(28),Y=n.n(W),X=n(25);var J=n(9);function K(t){return function({datum:e}){const n=function t(e,n){const r=e.depth-1;return n.unshift({depth:r,field:function(t){if(t.rawData&&t.rawData.column>-1){const{column:e,table:n}=t.rawData;return n.columns[e].name}return t.name||`level ${t.depth}`}(e),bucket:e.name,metric:e.size,item:e}),e.parent&&e.parent.parent?t(e.parent,n):n}(e,[]);return i.a.forEachRight(n,(function(e){let n;return e.spacer=i.a.escape(i.a.repeat("&nbsp;",e.depth)),null!==e.item.percentOfGroup&&void 0!==e.item.percentOfGroup&&(n=e.item.percentOfGroup),e.metric=t?t.convert(e.metric):e.metric,null!=n&&(e.metric+=" ("+G()(n).format("0.[00]%")+")"),e})),Object(W.renderToStaticMarkup)(Object(J.jsx)(X.I18nProvider,null,Object(J.jsx)("table",{className:"visTooltip__table"},Object(J.jsx)("thead",null,Object(J.jsx)("tr",{className:"eui-textLeft visTooltip__label"},Object(J.jsx)(X.FormattedMessage,{tagName:"th",scope:"col",id:"visTypeVislib.vislib.tooltip.fieldLabel",defaultMessage:"field"}),Object(J.jsx)(X.FormattedMessage,{tagName:"th",scope:"col",id:"visTypeVislib.vislib.tooltip.valueLabel",defaultMessage:"value"}),Object(J.jsx)("th",{scope:"col"}))),Object(J.jsx)("tbody",null,n.map(((t,e)=>Object(J.jsx)("tr",{className:"visTooltip__value",key:e},Object(J.jsx)("td",null,Object(J.jsx)("div",{className:"visTooltip__labelContainer"},Object(J.jsx)("span",{"ng-bind-html":"row.spacer"}),t.field)),Object(J.jsx)("td",null,Object(J.jsx)("div",{className:"visTooltip__labelContainer"},t.bucket)),Object(J.jsx)("td",null,t.metric))))))))}}var Q=n(29);function tt(t,e){return Object(C.b)().getInstance("percent",{pattern:e}).convert(t)}function et(){return function({datum:t,data:e,config:n,handler:i},a){if(!t)return"";const s=[],o=n.get("gauge",!1),u=n.get("type",void 0),l=n.get(o?"gauge.percentageMode":"percentageMode",!1),c=n.get("setColorRange",!1),h=e.series&&e.series.find((e=>e.rawId===t.seriesId)),f=(t,e)=>s.push({label:t,value:e});if(t.extraMetrics&&t.extraMetrics.forEach((t=>{f(t.label,t.value)})),null===t.x||void 0===t.x||["goal","gauge"].includes(u)||f(e.xAxisLabel,e.xAxisFormatter(t.x)),null!==t.y&&void 0!==t.y){let e=t.yScale?t.yScale*t.y:t.y;if(l&&!c){const t=n.get(o?"gauge.percentageFormatPattern":"percentageFormatPattern",a.get(Q.FORMATS_UI_SETTINGS.FORMAT_PERCENT_DEFAULT_PATTERN));e=tt(e/function(t,e,n){let i;i=t.pointSeries?t.pointSeries.getSeries().getValueAxis().getScale().domain()[1]:Object(r.last)(e.get(n?"gauge.colorsRange":"colorsRange",[{}])).to;return i}(i,n,o),t),f(h.label,e)}else f(h.label,h.yAxisFormatter(e))}if(null!==t.z&&void 0!==t.z&&f(h.zLabel,h.zAxisFormatter(t.z)),t.series&&t.parent){const e=t.parent;f(e.title,t.series)}return t.tableRaw&&f(t.tableRaw.title,t.tableRaw.value),Object(W.renderToStaticMarkup)(Object(J.jsx)("table",null,Object(J.jsx)("tbody",null,s.map(((t,e)=>Object(J.jsx)("tr",{key:e},Object(J.jsx)("td",{className:"visTooltip__label"},Object(J.jsx)("div",{className:"visTooltip__labelContainer"},t.label)),Object(J.jsx)("td",{className:"visTooltip__value"},Object(J.jsx)("div",{className:"visTooltip__valueContainer"},t.value,t.percent&&Object(J.jsx)("span",null," (",t.percent,")")))))))))}}const nt="visualization:dimmingOpacity";class dispatch_Dispatch{constructor(t,e){L()(this,"emit",Object(r.rest)((function(t,e){if(!this._listeners[t])return this;const n=this.listeners(t);let r=-1;for(;++r<n.length;)n[r].apply(this,e);return this}))),this.handler=t,this.uiSettings=e,this._listeners={}}on(t,e){let n=this._listeners[t];return n||(this._listeners[t]=[],n=this._listeners[t]),n.push(e),this}off(t,e){return this._listeners[t]?(e?Object(r.pull)(this._listeners[t],e):this._listeners[t]=null,this):this}removeAllListeners(){return this._listeners={},this}listeners(t){return this._listeners[t]?this._listeners[t].slice(0):[]}listenerCount(t){return t?Object(r.size)(this._listeners[t]):Object(r.reduce)(this._listeners,((t,e)=>t+Object(r.size)(e)),0)}_pieClickResponse(t){const e=[];let n=t;for(;n&&n.rawData;)e.push(n.rawData),n=n.parent;if(Object(r.get)(t,"rawData.table.$parent")){const{table:n,column:i,row:a,key:s}=Object(r.get)(t,"rawData.table.$parent");e.push({table:n,column:i,row:a,value:s})}return e}_seriesClickResponse(t){const e=[];return["xRaw","yRaw","zRaw","seriesRaw","rawData","tableRaw"].forEach((n=>{t[n]&&void 0!==t[n].column&&void 0!==t[n].row&&e.push(t[n])})),e}clickEventResponse(t,e={}){let n=e.isSlices;if(void 0===n){const t=s.a.event.target.nearestViewportElement?s.a.event.target.nearestViewportElement.__data__:s.a.event.target.__data__;n=!(!t||!t.slices)}const r=t.input||t;return{data:n?this._pieClickResponse(r):this._seriesClickResponse(r)}}_isSeriesInPercentageMode(t,e,n){if(!t||!Array.isArray(e)||!n)return!1;const{id:i}=e.find((e=>e.rawId===t));if(!i)return!1;const a=n.get("seriesParams",[]),{valueAxis:s}=a.find((t=>t.data.id===i))||{};if(!s)return!1;const o=n.get("valueAxes",[]).find((t=>t.id===s));return"percentage"===Object(r.get)(o,"scale.mode")}eventResponse(t,e){const n=t._input||t,i=s.a.event.target.nearestViewportElement?s.a.event.target.nearestViewportElement.__data__:s.a.event.target.__data__,a=t.label?t.label:t.series||"Count",o=!(!i||!i.series),u=!(!i||!i.slices),l=o?i.series:void 0,c=u?i.slices:void 0,h=this.handler,f=Object(r.get)(h,"data.color"),p=h&&h.visConfig,d=this._isSeriesInPercentageMode(t.seriesId,l,p);return{value:t.y,point:n,datum:n,label:a,color:f?f(a):void 0,pointIndex:e,series:l,slices:c,config:p,data:i,e:s.a.event,handler:h,isPercentageMode:d}}addEvent(t,e){return function(n){n.each((function(){const n=s.a.select(this);if("function"==typeof e)return n.on(t,e)}))}}addHoverEvent(){const t=this,e=this.listenerCount("click")>0,n=this.addEvent,r=this.handler.el;return this.handler.highlight||(this.handler.highlight=t.getHighlighter(t.uiSettings)),n("mouseover",(function(n,i){e&&t.addMousePointer.call(this,arguments),t.handler.highlight.call(this,r),t.emit("hover",t.eventResponse(n,i))}))}addMouseoutEvent(){const t=this,e=this.addEvent,n=this.handler.el;return this.handler.unHighlight||(this.handler.unHighlight=t.unHighlight),e("mouseout",(function(){t.handler.unHighlight.call(this,n)}))}addClickEvent(){return this.addEvent("click",(t=>this.emit("click",this.clickEventResponse(t))))}allowBrushing(){const t=this.handler.categoryAxes[0];return Boolean(t.ordered)}isBrushable(){return this.allowBrushing()&&this.listenerCount("brush")>0}addBrushEvent(t){if(!this.isBrushable())return;const e=this.handler.categoryAxes[0].getScale();this.createBrush(e,t)}addMousePointer(){return s.a.select(this).style("cursor","pointer")}getHighlighter(t){return function(e){const n=this.getAttribute("data-label");if(!n)return;const r=t.get(nt);S()(e).parent().find("[data-label]").css("opacity",1).not(((t,e)=>String(S()(e).data("label"))===n)).css("opacity",function(t){const e=parseFloat(t,10),n=.5;return 0<=e&&e<=1?e:n}(r))}}unHighlight(t){S()("[data-label]",t.parentNode).css("opacity",1)}createBrush(t,e){const n=this,{width:r,height:i}=e.node().getBBox(),a=n.handler.categoryAxes[0].axisConfig.isHorizontal(),o=s.a.svg.brush();if(a?o.x(t):o.y(t),o.on("brushend",(function(){const e=s.a.select(this).data()[0],r=e.ordered&&e.ordered.date,i=t.domain().filter((e=>o.extent()[0]<=t(e)&&t(e)<=o.extent()[1])),a=r?o.extent():i;return n.emit("brush",{range:a,data:e})})),n.listenerCount("brush")){const t=e.insert("g","g").attr("class","brush").call(o).call((t=>{const e=t.on("mousedown.brush");e&&t.on("mousedown.brush",(function(){rt(s.a.event)&&e.apply(this,arguments)}))})).selectAll("rect");return a?t.attr("height",i):t.attr("width",r),o}}}function rt(t){return 0===t.button}class _chart_Chart{constructor(t,e,n,r){this.handler=t,this.chartEl=e,this.chartData=n,this.tooltips=[];const a=this.events=new dispatch_Dispatch(t,r),s=Object(C.b)().deserialize(this.handler.data.get("tooltipFormatter")),o=("pie"===this.handler.visConfig.get("type")?K:et)(s);if(this.handler.visConfig&&this.handler.visConfig.get("addTooltip",!1)){const t=this.handler.el;this.tooltip=new $("chart",t,o,a,r),this.tooltips.push(this.tooltip)}this._addIdentifier=i.a.bind(this._addIdentifier,this)}render(){const t=s.a.select(this.chartEl);t.selectAll("*").remove(),t.call(this.draw())}_addIdentifier(t,e){e=e||"label";const n=this.handler.data.labels;t.each((function(t){const r=function(t){return 1===n.length?n[0]:t[0]?t[0][e]:t[e]}(t);null!=r&&function(t,e){s.a.select(t).attr("data-label",e)}(this,r)}))}destroy(){const t=s.a.select(this.chartEl);this.events.removeAllListeners(),this.tooltips.forEach((function(t){t.destroy()})),t.remove()}}var it=n(119),at=n.n(it);class time_marker_TimeMarker{constructor(t,e,n){const r=[{time:(new Date).getTime(),class:"time-marker",color:"#c80000",opacity:.3,width:2}];this.xScale=e,this.height=n,this.times=t.length?t.map((function(t){return{time:at.a.parse(t.time),class:t.class||"time-marker",color:t.color||"#c80000",opacity:t.opacity||.3,width:t.width||2}})):r}_isTimeBasedChart(t){return t.data().every((function(t){return t.ordered&&t.ordered.date}))}render(t){const e=this;e._isTimeBasedChart(t)&&t.each((function(){s.a.select(this).selectAll("time-marker").data(e.times).enter().append("line").attr("class",(function(t){return t.class})).attr("pointer-events","none").attr("stroke",(function(t){return t.color})).attr("stroke-width",(function(t){return t.width})).attr("stroke-opacity",(function(t){return t.opacity})).attr("x1",(function(t){return e.xScale(t.time)})).attr("x2",(function(t){return e.xScale(t.time)})).attr("y1",e.height).attr("y2",e.xScale.range()[0])}))}}var st=n(24),ot=n(35);const ut={show:!1,value:10,width:1,style:"full",color:Object(ot.euiPaletteColorBlind)()[9]};var lt=n(3);const ct={color:void 0,fillColor:void 0};class heatmap_chart_HeatmapChart extends class _point_series_PointSeries{constructor(t,e,n,r){this.handler=t,this.baseChart=t.pointSeries,this.chartEl=e,this.chartData=n,this.seriesConfig=r,this.thresholdLineOptions=i.a.defaults(t.visConfig.get("thresholdLine",{}),ut)}getGroupedCount(){const t=[];return this.baseChart.chartConfig.series.reduce(((e,n)=>{const r=n.valueAxis||this.baseChart.handler.valueAxes[0].id,i="stacked"===n.mode;return"histogram"===n.type?i&&t.includes(r)?e:(i&&t.push(r),e+1):e}),0)}getGroupedNum(t){let e=0;const n=[];for(const r of this.baseChart.chartConfig.series){const i=r.valueAxis||this.baseChart.handler.valueAxes[0].id;if("stacked"===r.mode){if(i in n||(n[i]=e++),r.data.rawId===t)return n[i]}else{if(r.data.rawId===t)return e;e++}}return 0}getValueAxis(){return i.a.find(this.handler.valueAxes,(t=>t.axisConfig.get("id")===this.seriesConfig.valueAxis))||this.handler.valueAxes[0]}getCategoryAxis(){return i.a.find(this.handler.categoryAxes,(t=>t.axisConfig.get("id")===this.seriesConfig.categoryAxis))||this.handler.categoryAxes[0]}addCircleEvents(t){const e=this.events;if(this.handler.visConfig.get("enableHover")){const n=e.addHoverEvent(),r=e.addMouseoutEvent();t.call(n).call(r)}const n=e.addClickEvent();return t.call(n)}addThresholdLine(t){const e=this.chartData,n=this.getCategoryAxis().axisConfig.isHorizontal(),r=this.getValueAxis().axisScale.getDomain(e.values.length),i=this.getValueAxis().getScale(),a=t[0][0].attributes.width.value,s=t[0][0].attributes.height.value,o=this.thresholdLineOptions.width;let u="0";"dashed"===this.thresholdLineOptions.style?u="10,5":"dot-dashed"===this.thresholdLineOptions.style&&(u="20,5,5,5");const l=this.thresholdLineOptions.value,c=this.thresholdLineOptions.color;function h(t){return i(t)}r&&r[0]<=l&&r[1]>=l&&t.append("line").attr("x1",n?0:h(l)).attr("y1",n?h(l):0).attr("x2",n?a:h(l)).attr("y2",n?h(l):s).attr("stroke-width",o).attr("stroke-dasharray",u).attr("stroke",c)}}{constructor(t,e,n,r,a){super(t,e,n,r,a),this.uiSettings=a,this.seriesConfig=i.a.defaults(r||{},ct),this.handler.visConfig.set("legend",{labels:this.getHeatmapLabels(this.handler.visConfig),colors:this.getHeatmapColors(this.handler.visConfig)});const s=this.handler.visConfig.get("legend.colors",null);s&&(this.handler.vis.uiState.setSilent("vis.defaultColors",null),this.handler.vis.uiState.setSilent("vis.defaultColors",s))}getHeatmapLabels(t){const e=t.get("percentageMode"),n=t.get("percentageFormatPattern",this.uiSettings.get(Q.FORMATS_UI_SETTINGS.FORMAT_PERCENT_DEFAULT_PATTERN)),r=t.get("colorsNumber"),i=t.get("colorsRange"),a=this.getValueAxis().axisConfig.get("labels.axisFormatter"),s=this.getValueAxis().getScale(),[o,u]=s.domain(),l=[];if(t.get("setColorRange"))i.forEach((t=>{const e=isFinite(t.from)?a(t.from):t.from,n=isFinite(t.to)?a(t.to):t.to;l.push(`${e} - ${n}`)}));else{if(u===o)return[o.toString()];for(let t=0;t<r;t++){let i,s=t/r,c=(t+1)/r;if(e)s=tt(s,n),c=tt(c,n),i=`${s} - ${c}`;else{if(s=s*(u-o)+o,c=c*(u-o)+o,u-o>10){const e=Math.ceil(s);s=0===t?e===s?s:e-1:e,c=Math.ceil(c)}isFinite(s)&&(s=a(s)),isFinite(c)&&(c=a(c)),i=`${s} - ${c}`}l.push(i)}}return l}getHeatmapColors(t){const e=t.get("invertColors"),n=t.get("colorSchema"),r=this.getHeatmapLabels(t),i={};for(const t in r)if(r[t]){const a=e?1-t/r.length:t/r.length;i[r[t]]=Object(lt.getHeatmapColors)(a,n)}return i}addSquares(t,e){const n=this.getCategoryAxis().getScale(),r=this.handler.categoryAxes[1].getScale(),a=this.getValueAxis().getScale(),s=this.baseChart.tooltip,o=this.handler.visConfig.get("tooltip.show"),u=this.getCategoryAxis().axisConfig.isHorizontal(),l=this.handler.visConfig.get("colorsNumber"),c=this.handler.visConfig.get("setColorRange"),h=this.handler.visConfig.get("colorsRange"),f=this.handler.data.getColorFunc(),p=this.handler.visConfig.get("legend.labels"),d=this.getValueAxis().axisConfig,g=d.get("labels.axisFormatter"),v=d.get("labels.show"),y=d.get("labels.overwriteColor",!1),x=t.append("g").attr("class","series").selectAll("g.square").data(e.values);let _;if(x.exit().remove(),this.getCategoryAxis().axisConfig.isTimeDomain()){const{min:t,interval:e}=this.handler.data.get("ordered"),r=t,i=m()(t).add(e).valueOf();_=n(i)-n(r),u||(_*=-1)}function b(t){return n(t.x)}function w(t){return r(t.series)}const[C,k]=a.domain();function A(t){const e=function(t){let e=0;if(c&&h.length){const e=i.a.find(h,(e=>e.from<=t.y&&e.to>t.y));return e?h.indexOf(e):-1}return isNaN(C)||isNaN(k)?e=l-1:C===k?e=0:(e=(t.y-C)/(k-C),e=Math.min(l-1,Math.floor(e*l))),null==t.y||isNaN(e)?-1:e}(t);return e<0&&(t.hide=!0),p[e]}function M(t){return""===A(t)?"transparent":f(A(t))}const E=_||n.rangeBand(),S=r.rangeBand();if(x.enter().append("g").attr("class","square"),x.append("rect").attr("x",b).attr("width",E).attr("y",w).attr("height",S).attr("data-label",A).attr("fill",M).attr("style","cursor: pointer; stroke: black; stroke-width: 0.1px").style("display",(t=>t.hide?"none":"initial")),v){const t=d.get("labels.rotate"),e=t*Math.PI/180,n=5,r=Math.min(Math.abs(E/Math.cos(e)),Math.abs(S/Math.sin(e)))-n,i=Math.min(Math.abs(E/Math.sin(e)),Math.abs(S/Math.cos(e)))-n;let a;a=y?d.get("labels.color"):t=>{const e=M(t),n=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);return n&&Object(st.isColorDark)(parseInt(n[1]),parseInt(n[2]),parseInt(n[3]))?"#FFF":"#222"};let s=!1;x.append("text").text((t=>g(t.y))).style("display",(function(t){const e=this.getBBox().width,n=this.getBBox().height,a=e>r,o=n>i;return t.hide||!a&&!o||(s=!0),t.hide||a||o?"none":"initial"})).style("dominant-baseline","central").style("text-anchor","middle").style("fill",a).attr("x",(function(t){return b(t)+E/2})).attr("y",(function(t){return w(t)+S/2})).attr("transform",(function(e){const n=b(e)+E/2,r=w(e)+S/2;return`rotate(${t},${n},${r})`})),s&&this.baseChart.handler.alerts.show("Some labels were hidden due to size constraints")}return o&&x.call(s.render()),x.selectAll("rect")}draw(){const t=this;return function(e){e.each((function(){const e=t.chartEl.append("g");e.data([t.chartData]);const n=t.addSquares(e,t.chartData);return t.addCircleEvents(n),t.events.emit("rendered",{chart:t.chartData}),e}))}}}const ht=function(t,e){const n=s.a.select(t).node(),r=S()(n).text();return 0===e||e>=r.length?r:r.substr(0,e)+"…"},ft={isDonut:!1,showTooltip:!0,color:void 0,fillColor:void 0};const pt={angleFactor:.75,maxAngle:2*Math.PI*1.3,minAngle:2*Math.PI*.7},dt={angleFactor:1,maxAngle:2*Math.PI,minAngle:0},gt={showTooltip:!0,percentageMode:!0,innerSpace:5,extents:[0,1e4],outline:!1,scale:{show:!0,color:"#666",width:2,ticks:10,tickLength:8},labels:{show:!0,color:"#666"},style:{bgWidth:.5,width:.9}};const vt={meter:class meter_MeterGauge{constructor(t,e){this.gaugeChart=t,this.gaugeConfig=t.gaugeConfig,this.uiSettings=e,this.gaugeConfig=i.a.defaultsDeep(this.gaugeConfig,gt),this.gaugeChart.handler.visConfig.set("legend",{labels:this.getLabels(),colors:this.getColors()});const n=this.gaugeChart.handler.visConfig.get("legend.colors",null);n&&(this.gaugeChart.handler.vis.uiState.setSilent("vis.defaultColors",null),this.gaugeChart.handler.vis.uiState.setSilent("vis.defaultColors",n)),this.colorFunc=this.gaugeChart.handler.data.getColorFunc()}getLabels(){const t=this.gaugeConfig.percentageMode,e=this.gaugeConfig.percentageFormatPattern||this.uiSettings.get(Q.FORMATS_UI_SETTINGS.FORMAT_PERCENT_DEFAULT_PATTERN),n=this.gaugeConfig.colorsRange,r=i.a.last(n).to,a=[];return n.forEach((n=>{const i=t?tt(n.from/r,e):n.from,s=t?tt(n.to/r,e):n.to;a.push(`${i} - ${s}`)})),a}getColors(){const t=this.gaugeConfig.invertColors,e=this.gaugeConfig.colorSchema,n=this.gaugeConfig.colorsRange,r=this.getLabels(),i={};for(let a=0;a<r.length;a+=1){const s=Math.max(n.length-1,1),o=t?1-a/s:a/s;i[r[a]]=Object(lt.getHeatmapColors)(o,e)}return i}getBucket(t){let e=i.a.findIndex(this.gaugeConfig.colorsRange,(e=>e.from<=t&&e.to>t));return-1===e&&(e=t<this.gaugeConfig.colorsRange[0].from?0:this.gaugeConfig.colorsRange.length-1),e}getLabel(t){const e=this.getBucket(t);return this.gaugeChart.handler.visConfig.get("legend.labels")[e]}getColorBucket(t){const e=this.getBucket(t),n=this.gaugeChart.handler.visConfig.get("legend.labels");return this.colorFunc(n[e])}drawScale(t,e,n){const r=this.gaugeConfig.scale.width,i=this.gaugeConfig.scale.tickLength,a=this.gaugeConfig.scale.ticks,o=t.append("g");this.gaugeConfig.colorsRange.forEach((t=>{const i=this.getColorBucket(t.from),a=s.a.svg.arc().startAngle(n(t.from)).endAngle(n(t.to)).innerRadius(e).outerRadius(e+r);o.append("path").attr("d",a).style("stroke",i).style("fill",i)}));const u=n.domain();for(let t=0;t<=a;t++){const s=t*(u[1]-u[0])/a,l=n(s)-Math.PI/2,c=Math.cos(l)*e,h=Math.cos(l)*(e-i),f=Math.sin(l)*e,p=Math.sin(l)*(e-i),d=this.getColorBucket(s);o.append("line").attr("x1",c).attr("x2",h).attr("y1",f).attr("y2",p).style("stroke-width",r).style("stroke",d)}return o}drawGauge(t,e,n,r){const a=this.gaugeChart.tooltip,o=this.gaugeChart.handler.visConfig.get("addTooltip"),u=this.gaugeChart.handler.visConfig.get("isDisplayWarning",!1),{angleFactor:l,maxAngle:c,minAngle:h}="Circle"===this.gaugeConfig.gaugeType?dt:pt,f=Math.min(n,r/l)/2*.95,p=this.gaugeConfig.extendRange,d=i.a.max(e.values,"y").y,g=this.gaugeConfig.colorsRange[0].from,v=i.a.last(this.gaugeConfig.colorsRange).to,m=s.a.scale.linear().range([h,c]).domain([g,p&&v<d?d:v]),y=s.a.scale.linear().range([0,f]).domain([this.gaugeConfig.innerSpace+1,0]),x=Math.abs(y(0)-y(1)),_=x*(1-this.gaugeConfig.style.bgWidth)/2,b=x*(1-this.gaugeConfig.style.width)/2,w=()=>2*y(1)-(this.gaugeConfig.scale.show?2*this.gaugeConfig.scale.tickLength:2*-Math.max(_,b)),C=s.a.svg.arc().startAngle(h).endAngle((function(t){return Math.max(0,Math.min(c,m(Math.max(g,t.y))))})).innerRadius((function(t,e,n){return Math.max(0,y(n+1)+b)})).outerRadius((function(t,e,n){return Math.max(0,y(n)-b)})),k=s.a.svg.arc().startAngle(h).endAngle(c).innerRadius((function(t,e,n){return Math.max(0,y(n+1)+_)})).outerRadius((function(t,e,n){return Math.max(0,y(n)-_)})),A=t.selectAll("path").data([e]).enter().append("g").attr("data-label",(t=>this.getLabel(t.values[0].y))).selectAll("g").data((t=>t.values)).enter();A.append("path").attr("d",k).attr("class",this.gaugeConfig.outline?"visGauge__meter--outline":void 0).style("fill",this.gaugeConfig.style.bgFill);const M=A.append("path").attr("d",C).attr("class",this.gaugeConfig.outline?"visGauge__meter--outline":void 0).style("fill",(t=>this.getColorBucket(Math.max(g,t.y)))),E=t.node().getBBox().height<70;let S=E,D=!1;A.append("text").attr("class","chart-label").attr("y",-5).text((t=>{if(this.gaugeConfig.percentageMode){const n=(t.y-g)/(v-g);return e.yAxisFormatter(n)}return e.yAxisFormatter(t.y)})).attr("style","dominant-baseline: central;").style("text-anchor","middle").style("font-size","2em").style("display",(function(){const t=this.getBBox().width>=w()-6;return t&&(S=!0,D=!0),t?"none":"initial"})),this.gaugeConfig.labels.show&&(t.append("text").attr("class","chart-label").text(e.label).attr("y",-30).attr("style","dominant-baseline: central; text-anchor: middle;").style("display",(function(){const t=this.getBBox().width>f;return t&&(S=!0),E||t?"none":"initial"})),t.append("text").attr("class","chart-label").text(this.gaugeConfig.style.subText).attr("y",20).attr("style","dominant-baseline: central; text-anchor: middle;").style("display",(function(){const t=this.getBBox().width>f;return t&&(S=!0),D||E||t?"none":"initial"}))),this.gaugeConfig.scale.show&&this.drawScale(t,y(1),m),o&&M.each((function(){s.a.select(this).call(a.render())})),S&&u&&this.gaugeChart.handler.alerts.show("Some labels were hidden due to size constraints");const L=n/2,T=r/2>f?r/2:f;return t.attr("transform",`translate(${L}, ${T})`).attr("data-test-subj",`visGauge__meter--${e.label}`),M}}};class gauge_chart_GaugeChart extends _chart_Chart{constructor(t,e,n,r){super(t,e,n,r),this.gaugeConfig=t.visConfig.get("gauge",{}),this.gauge=new vt[this.gaugeConfig.type](this,r)}addEvents(t){const e=this.events;return t.call(e.addHoverEvent()).call(e.addMouseoutEvent()).call(e.addClickEvent())}calcGaugeDim(t,e,n){const r=e.clientWidth,i=e.clientHeight,a=Math.ceil(25/n),s=r-25,o=i-25,u=Math.floor(s/n),l=Math.floor(o/n)-a;switch(t){case"vertical":return{width:r,height:l,alignment:t};case"horizontal":return{width:u,height:o,alignment:t};default:return{width:s<o?r:u,height:s<o?l:o,alignment:s<o?"vertical":"horizontal"}}}draw(){const t=this,{gaugeConfig:e}=this;return function(n){n.each((function(n){const r=s.a.select(this),{width:i,height:a}=t.calcGaugeDim(e.alignment,this,n.series.length);if(!(a<0||i<0))return r.style("text-align","center").style("overflow-y","auto"),n.series.forEach((e=>{const n=r.append("svg").style("display","inline-block").style("overflow","hidden").attr("focusable","false").attr("width",i),s=n.append("g"),o=t.gauge.drawGauge(s,e,i,a);n.attr("height",a),t.addEvents(o)})),r.append("div").attr("class","chart-title").style("text-align","center").text(n.label||n.yAxisLabel),t.events.emit("rendered",{chart:n}),r}))}}}const mt={pie:class pie_chart_PieChart extends _chart_Chart{constructor(t,e,n,r){super(t,e,n,r);const a=this.handler.data.getVisData();this._validatePieData(a),this._attr=i.a.defaults(t.visConfig.get("chart",{}),ft)}_validatePieData(t){if(t.every((t=>0===t.slices.children.length)))throw new PieContainsAllZeros}addPathEvents(t){const e=this.events;return t.call(e.addHoverEvent()).call(e.addMouseoutEvent()).call(e.addClickEvent())}convertToPercentage(t){!function t(e){if(null!=e.sumOfChildren)return;const n=e,r=n.children,i=n.percentOfParent,a=n.sumOfChildren=Math.abs(r.reduce((function(t,e){return t+Math.abs(e.size)}),0));r.forEach((function(e){e.percentOfGroup=Math.abs(e.size)/a,e.percentOfParent=e.percentOfGroup,null!=i&&(e.percentOfParent*=i),e.children&&t(e)}))}(t)}addPath(t,e,n,r){const i=this,a=i._attr.isDonut,o=Math.min(t,e)/2*.95,u=i.handler.data.getPieColorFunc(),l=i.tooltip,c=i._attr.addTooltip,h=n.append("g").attr("class","arcs"),f=n.append("g").attr("class","labels"),p=i._attr.labels.show,d=i._attr.labels.values,g=i._attr.labels.truncate,v=i._attr.labels.last_level,m=s.a.layout.partition().sort(null).value((function(t){return 100*t.percentOfParent})),y=s.a.scale.linear().range([0,2*Math.PI]),x=s.a.scale.sqrt().range([0,p?.7*o:o]),_=function(t){return Math.max(0,Math.min(2*Math.PI,y(t.x)))},b=function(t){return t.dx<1e-8?y(t.x):Math.max(0,Math.min(2*Math.PI,y(t.x+t.dx)))},w=s.a.svg.arc().startAngle(_).endAngle(b).innerRadius((function(t){return 1!==t.depth||a?Math.max(0,x(t.y)):0})).outerRadius((function(t){return Math.max(0,x(t.y+t.dy))})),C=s.a.svg.arc().startAngle(_).endAngle(b).innerRadius(.8*o).outerRadius(.8*o);let k=0;const A=h.datum(r).selectAll("path").data(m.nodes).enter().append("path").attr("d",w).attr("class",(function(t){if(0!==t.depth)return t.depth>k&&(k=t.depth),"slice"})).attr("data-test-subj",(function(t){if(t.name)return`pieSlice-${t.name.split(" ").join("-")}`})).call(i._addIdentifier,"name").style("fill",(function(t){return 0===t.depth?"none":u(t.name)}));if(p){const t=f.datum(r).selectAll(".label").data(m.nodes),e=n.node().parentNode.parentNode,i={width:e.clientWidth,height:e.clientHeight},a=s.a.geom.quadtree().extent([[-i.width,-i.height],[i.width,i.height]]).x((function(t){return t.position.x})).y((function(t){return t.position.y}))([]);t.enter().append("g").attr("class","label").append("text").text((function(t){if(0!==t.depth){if(d){const e=G()(t.value/100).format("0.[00]%");return`${t.name} (${e})`}return t.name}s.a.select(this.parentNode).remove()})).text((function(){return ht(this,g)})).attr("text-anchor",(function(t){return _(t)+(b(t)-_(t))/2<Math.PI?"start":"end"})).attr("class","label-text").each((function(t){if(0===t.depth)return;const e=this.parentNode;if(v&&k!==t.depth)return void s.a.select(e).remove();const n=this.getBBox(),r=C.centroid(t),i=_(t)+(b(t)-_(t))/2;r[1]+=4,r[0]=(.7+t.depth/10)*o*(i<Math.PI?1:-1),t.position={x:r[0],y:r[1],left:i<Math.PI?r[0]:r[0]-n.width,right:i>Math.PI?r[0]+n.width:r[0],bottom:r[1]+5,top:r[1]-n.height-5};const u=[];a.visit((function(e){if(!e.point)return;if(u.length)return!0;const n=e.point.position,r=t.position;if(n){const t=n.left<0&&r.left<0||n.left>0&&r.left>0,i=n.top>=r.top&&n.top<=r.bottom||n.top<=r.top&&n.bottom>=r.top;return t&&i&&(n.point=e.point,u.push(n)),!0}})),u.length?s.a.select(e).remove():a.add(t)})).attr("x",(function(t){if(0!==t.depth&&t.position)return t.position.x})).attr("y",(function(t){if(0!==t.depth&&t.position)return t.position.y})),t.append("polyline").attr("points",(function(t){if(0===t.depth||!t.position)return;const e=C.centroid(t),n=[t.position.x>0?t.position.x-10:t.position.x+10,t.position.y-4];return e[1]=n[1],[w.centroid(t),e,n]})).attr("class","label-line")}return c&&A.call(l.render()),A}_validateContainerSize(t,e){if(t<=20||e<=20)throw new ContainerTooSmall}draw(){const t=this;return function(e){e.each((function(e){const n=e.slices,r=s.a.select(this),i=S()(this).width(),a=S()(this).height();if(!n.children.length)return;t.convertToPercentage(n),t._validateContainerSize(i,a);const o=r.append("svg").attr("width",i).attr("height",a).attr("focusable","false").append("g").attr("transform","translate("+i/2+","+a/2+")"),u=t.addPath(i,a,o,n);return t.addPathEvents(u),t.events.emit("rendered",{chart:e}),o}))}}},point_series:class point_series_PointSeries extends _chart_Chart{constructor(t,e,n,r){super(t,e,n,r),this.uiSettings=r,this.handler=t,this.chartData=n,this.chartEl=e,this.chartConfig=this.findChartConfig(),this.handler.pointSeries=this}findChartConfig(){return this.handler.visConfig.get("charts")[this.handler.data.chartData().indexOf(this.chartData)]}getSeries(t){return this.series.find((e=>e.chartData.aggId===t))}addBackground(t,e,n){return t.append("rect").attr("x",0).attr("y",0).attr("width",e).attr("height",n).attr("fill","transparent").attr("class","background")}addGrid(t){const{width:e,height:n}=t.node().getBBox();return t.append("g").attr("class","grid").call(this.handler.grid.draw(e,n))}addClipPath(t){const{width:e,height:n}=t.node().getBBox();return this.clipPathId="chart-area"+i.a.uniqueId(),t.append("clipPath").attr("id",this.clipPathId).append("rect").attr("x",0).attr("y",0).attr("width",e).attr("height",n)}addEvents(t){this.events.isBrushable()&&this.events.addBrushEvent(t)}createEndZones(t){const e=this,n=this.handler.categoryAxes[0],r=n.getScale(),a=n.ordered,o=n.axisConfig.isHorizontal();if(!a||i.a.isUndefined(a.min)||i.a.isUndefined(a.max)||!1===a.endzones)return;const{width:u,height:l}=t.node().getBBox(),c=(a.units||i.a.identity)(1),h=o||n.axisConfig.get("scale.inverted",!1),f=o?u:l,p={x:h?0:Math.max(r(a.min),0),w:h?Math.max(r(a.min),0):l-Math.max(r(a.min),0)},d=(n.axisConfig.get("scale.expandLastBucket")?a.max:Math.min(a.max,i.a.last(n.values)))+c,g={x:h?r(d):0,w:h?Math.max(f-r(d),0):r(d)};function v(t){const i=t.target.__data__,a=t.clientX-e.chartEl.getBoundingClientRect().left,s=t.clientY-e.chartEl.getBoundingClientRect().top,u=i&&null!=i.x,l=h?p.w:g.w,c=h?g.x:p.x;let f=o?a:s,d=o?a:s;return u&&(f=r(i.x),d=r(n.addInterval(i.x))),{wholeBucket:u,touchdown:l>f||c<d}}this.endzones=t.selectAll(".layer").data([p,g]).enter().insert("g",".brush").attr("class","endzone").append("rect").attr("class","zone").attr("x",(t=>o?t.x:0)).attr("y",(t=>o?0:t.x)).attr("height",(t=>o?l:t.w)).attr("width",(t=>o?t.w:u));const m=new $("endzones",this.handler.el,(function(){return(({wholeBucket:t})=>Y.a.renderToStaticMarkup(Object(J.jsx)("p",{className:"visTooltip__header"},Object(J.jsx)("i",{className:"fa fa-info-circle visTooltip__headerIcon"}),Object(J.jsx)("span",{className:"visTooltip__headerText"},t?"Part of this bucket":"This area"," may contain partial data. The selected time range does not fully cover it."))))(v(s.a.event))}),null);this.tooltips.push(m),m.order=0,m.showCondition=function(){return v(s.a.event).touchdown},m.render()(t)}calculateRadiusLimits(t){this.radii=i()(t.series).map((function(t){return i.a.map(t.values,"z")})).flattenDeep().reduce((function(t,e){return t.min>e&&(t.min=e),t.max<e&&(t.max=e),t}),{min:1/0,max:-1/0})}draw(){const t=this,e=S()(this.chartEl),n=this.chartConfig.width=e.width(),r=this.chartConfig.height=e.height(),a=this.handler.categoryAxes[0].getScale(),o=this.chartConfig.addTimeMarker,u=this.chartConfig.times||[];let l,c;return function(e){e.each((function(e){if(l=s.a.select(this),c=l.append("svg").attr("focusable","false").attr("width",n).attr("height",r),t.addBackground(c,n,r),t.addGrid(c),t.addClipPath(c),t.addEvents(c),t.createEndZones(c),t.calculateRadiusLimits(e),t.series=[],i.a.each(t.chartConfig.series,((n,r)=>{if(!n.show)return;const i=new heatmap_chart_HeatmapChart(t.handler,c,e.series[r],n,t.uiSettings);i.events=t.events,c.call(i.draw()),t.series.push(i)})),o){new Date(a.domain()[1].getTime()+6e4)>new Date&&new time_marker_TimeMarker(u,a,r).render(c)}return c}))}}},gauge:gauge_chart_GaugeChart,goal:gauge_chart_GaugeChart,metric:gauge_chart_GaugeChart};function yt(t,e){t.each((function(t){const n=s.a.select(this).attr("class",(function(){return t.rows?"visWrapper__splitCharts--row":t.columns?"visWrapper__splitCharts--column":e?"visWrapper__chart--first visWrapper__chart--last visWrapper__chart":this.className+" visWrapper__chart"}));let r,i="";const a=n.selectAll("charts").append("div").data((function(t){return t.rows?(r=t.rows.length,t.rows):t.columns?(r=t.columns.length,t.columns):(i="chart",r=1,[t])})).enter().append("div").attr("class",(function(t,e){let n=i;return"chart"!==n&&(r>1?0===e?n+=" visWrapper__chart--first":e===r-1&&(n+=" visWrapper__chart--last"):n+=" visWrapper__chart--first visWrapper__chart--last"),n}));t.series||a.call(yt)}))}function xt(t){t.each((function(){let t;s.a.select(this).selectAll(".y-axis-div").append("div").data((function(e){return t=e.rows?e.rows.length:1,e.rows?e.rows:[e]})).enter().append("div").attr("class",((e,n)=>{let r="";return 0===n&&(r+=" visWrapper__chart--first"),n===t-1&&(r+=" visWrapper__chart--last"),"y-axis-div axis-div"+r}))}))}function _t(t){t.each((function(){let t;s.a.select(this).selectAll(".x-axis-div").append("div").data((function(e){return t=e.columns?e.columns.length:1,e.columns?e.columns:[e]})).enter().append("div").attr("class",((e,n)=>{let r="";return 0===n&&(r+=" visWrapper__chart--first"),n===t-1&&(r+=" visWrapper__chart--last"),"x-axis-div axis-div"+r}))}))}function bt(t){t.each((function(t){const e=s.a.select(this),n=S()(this).parents(".visWrapper");return t.series?s.a.select(this).remove():(e.selectAll(".chart-title").data((function(t){return t.rows?t.rows:t.columns})).enter().append("div").attr("class","chart-title"),t.rows?n.find(".visAxis__splitTitles--x").remove():n.find(".visAxis__splitTitles--y").remove(),e)}))}function wt(t){t.each((function(t){let e;const n=s.a.select(this).attr("class",(function(){return t.rows?"visWrapper__splitCharts--row":t.columns?"visWrapper__splitCharts--column":"visWrapper__chart"})).selectAll("charts").append("div").data((function(t){return t.rows?(e="chart-row",t.rows):t.columns?(e="chart-column",t.columns):(e="chart",[t])})).enter().append("div").attr("class",(function(){return e}));t.slices||n.call(wt)}))}function Ct(t,e){t.each((function(t){const n=s.a.select(this);return t.slices?s.a.select(this).remove():(n.selectAll(".chart-title").append("div").data((function(t){return t.rows?t.rows:t.columns})).enter().append("div").attr("class","chart-title"),t.rows?s.a.select(e).select(".visAxis__splitTitles--x").remove():s.a.select(e).select(".visAxis__splitTitles--y").remove(),n)}))}function kt(t){t.each((function(t){let e;const n=s.a.select(this).attr("class",(function(){return t.rows?"visWrapper__splitCharts--row":t.columns?"visWrapper__splitCharts--column":"visWrapper__chart"})).selectAll("charts").append("div").data((function(t){return t.rows?(e="chart-row",t.rows):t.columns?(e="chart-column",t.columns):(e="chart",[t])})).enter().append("div").attr("class",(function(){return e}));t.series||n.call(kt)}))}function At(t,e){if(!t||!e)throw new Error("Both an el and data need to be specified");return[{parent:t,type:"div",class:"visWrapper",datum:e,children:[{type:"div",class:"visAxis__splitTitles--y"},{type:"div",class:"visWrapper__column",children:[{type:"div",class:"visWrapper__chart",splits:kt},{type:"div",class:"visWrapper__alerts"},{type:"div",class:"visAxis__splitTitles--x"}]}]}]}const Mt={pie:function(t,e){if(!t||!e)throw new Error("Both an el and data need to be specified");return[{parent:t,type:"div",class:"visWrapper",datum:e,children:[{type:"div",class:"visAxis__splitTitles--y",splits:Ct},{type:"div",class:"visWrapper__column",children:[{type:"div",class:"visWrapper__chart",splits:wt},{type:"div",class:"visAxis__splitTitles--x",splits:Ct}]}]}]},gauge:At,goal:At,metric:At,point_series:function(t,e){if(!t||!e)throw new Error("Both an el and data need to be specified");return[{parent:t,type:"div",class:"visWrapper",datum:e,children:[{type:"div",class:"visAxis--y",children:[{type:"div",class:"visAxis__spacer--y visAxis__spacer--y-top"},{type:"div",class:"visAxis__column--y visAxis__column--left",children:[{type:"div",class:"visAxis__splitTitles--y",splits:bt},{type:"div",class:"visAxis__splitAxes--y",splits:xt}]},{type:"div",class:"visAxis__spacer--y visAxis__spacer--y-bottom"}]},{type:"div",class:"visWrapper__column",children:[{type:"div",class:"visAxis--x visAxis__column--top",children:[{type:"div",class:"visAxis__splitAxes--x",splits:_t}]},{type:"div",class:"visWrapper__chart",splits:yt},{type:"div",class:"visWrapper__alerts"},{type:"div",class:"visAxis--x visAxis__column--bottom",children:[{type:"div",class:"visAxis__splitAxes--x",splits:_t},{type:"div",class:"visAxis__splitTitles--x",splits:bt}]}]},{type:"div",class:"visAxis--y",children:[{type:"div",class:"visAxis__spacer--y visAxis__spacer--y-top"},{type:"div",class:"visAxis__column--y visAxis__column--right",children:[{type:"div",class:"visAxis__splitAxes--y",splits:xt}]},{type:"div",class:"visAxis__spacer--y visAxis__spacer--y-bottom"}]}]}]}};class _error_handler_ErrorHandler{constructor(){}validateWidthandHeight(t,e){const n=i.a.isNaN(t)||t<=0,r=i.a.isNaN(e)||e<=0;if(n||r)throw new ContainerTooSmall}}class axis_title_AxisTitle{constructor(t){this.axisConfig=t,this.elSelector=this.axisConfig.get("title.elSelector").replace("{pos}",this.axisConfig.get("position"))}render(){s.a.select(this.axisConfig.get("rootEl")).selectAll(this.elSelector).call(this.draw())}destroy(){S()(this.axisConfig.get("rootEl")).find(this.elSelector).find("svg").remove()}draw(){const t=this.axisConfig;return function(e){e.each((function(){if(!t.get("show")&&!t.get("title.show",!1))return;const e=this,n=s.a.select(e),r=S()(e).width(),i=S()(e).height(),a=t.isHorizontal()?"x":"y",o=n.append("svg").attr("focusable","false").attr("width",r).attr("height",i).attr("class",`axis-title ${a}-axis-title`),u=o.append("text").attr("transform",(function(){return t.isHorizontal()?`translate(${r/2},0)`:`translate(0,${i/2}) rotate(270)`})).attr("text-anchor","middle").attr("dominant-baseline","hanging").text(t.get("title.text")).node().getBBox();t.isHorizontal()?o.attr("height",Math.ceil(u.height)):o.attr("width",Math.ceil(u.height))}))}}}class axis_labels_AxisLabels{constructor(t,e){this.axisConfig=t,this.axisScale=e}render(t){t.call(this.draw())}rotateAxisLabels(){const t=this.axisConfig;return function(e){const n=e.selectAll(".tick text");t.get("labels.rotate")&&n.style("text-anchor",(function(){const e=S()(this).css("text-anchor"),n=t.get("labels.rotate");if(!n)return e;switch(t.get("position")){case"top":case"bottom":return"end";default:return 90===n||-90===n?"middle":e}})).attr("dy",(function(){return t.isHorizontal()?"0.3em":"0"})).attr("transform",(function(e,r){const i="top"===t.get("position")?t.get("labels.rotate"):-t.get("labels.rotate");if("middle"===S()(this).css("text-anchor")){const t=n[0][r].getBBox();return`rotate(${i}, ${t.x+t.width/2}, ${t.y+t.height/2})`}return`rotate(${i}, ${this.attributes.x.nodeValue}, ${this.attributes.y.nodeValue})`}))}}truncateLabels(){const t=this.axisConfig;return function(e){t.get("labels.truncate")&&e.selectAll(".tick text").text((function(){return ht(this,t.get("labels.truncate"))}))}}filterAxisLabels(){const t=this,e=this.axisConfig;let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return function(i){if(!e.get("labels.filter"))return;const a=S()(e.get("rootEl")).find(e.get("elSelector")),o=e.isHorizontal()?a.width():a.height(),u=t.axisScale.scale.range(),l=Math.abs(u[u.length-1]-u[0]),c=.5*(o-l);i.selectAll(".tick text").text((function(i){const a=s.a.select(this.parentNode).node(),u=e.isHorizontal()?c+t.axisScale.scale(i):o-c-t.axisScale.scale(i),l=1.1*(e.isHorizontal()?a.getBBox().width:a.getBBox().height)/2,h=u-l,f=u+l;if(!(f>o||h<0||f>=n&&h<=r))return n=u-l,r=u+l,this.textContent;s.a.select(this.parentNode).remove()}))}}draw(){const t=this,e=this.axisConfig;return function(n){n.each((function(){n.selectAll("text").attr("style",(function(){return`${s.a.select(this).attr("style")} font-size: ${e.get("labels.fontSize")};`})),e.get("labels.show")||n.selectAll("text").attr("style","display: none;"),n.call(t.truncateLabels()),n.call(t.rotateAxisLabels()),n.call(t.filterAxisLabels())}))}}}class axis_scale_AxisScale{constructor(t,e){this.axisConfig=t,this.visConfig=e,"category"===this.axisConfig.get("type")&&(this.values=this.axisConfig.values,this.ordered=this.axisConfig.ordered)}getScaleType(){return this.axisConfig.getScaleType()}validateUserExtents(t){const e=this.axisConfig;return t.map((t=>{if(t=parseFloat(t),isNaN(t))throw new Error(t+" is not a valid number");return e.isPercentage()&&e.isUserDefined()?t/100:t}))}getTimeDomain(t){return[this.minExtent(t),this.maxExtent(t)]}minExtent(t){return this.calculateExtent(t||this.values,"min")}maxExtent(t){return this.calculateExtent(t||this.values,"max")}calculateExtent(t,e){const n=[this.ordered[e]];let i=s.a[e](t);return this.axisConfig.get("scale.expandLastBucket")&&"max"===e&&(i=this.addInterval(i)),n.push(i),s.a[e](n.reduce((function(t,e){return Object(r.isNumber)(e)||(e=+e),isNaN(e)||t.push(e),t}),[]))}addInterval(t){return this.modByInterval(t,1)}subtractInterval(t){return this.modByInterval(t,-1)}modByInterval(t,e){const n=this.ordered;if(!n)return t;const i=n.interval;if(!i)return t;if(!n.date)return t+n.interval*e;const a=m()(t),s=e>0?"add":"subtract";return Object(r.times)(Math.abs(e),(function(){a[s](i)})),a.valueOf()}getAllPoints(){const t=this.axisConfig,e=this.visConfig.data.chartData();return Object(r.reduce)(e,((e,n,r)=>{const i=n.series.reduce(((e,n,i)=>{const a=this.visConfig.get(`charts[${r}].series[${i}]`),s=!!a.valueAxis&&a.valueAxis===t.get("id"),o=t.get("id")===this.visConfig.get("valueAxes[0].id");if(s||!a.valueAxis&&o){const t=n.values.map((t=>t.y0?t.y0+t.y:t.y));return e.concat(t)}return e}),[]);return e.concat(i)}),[])}getYMin(){return s.a.min(this.getAllPoints())}getYMax(){return s.a.max(this.getAllPoints())}getExtents(){if("category"===this.axisConfig.get("type")){if(this.axisConfig.isTimeDomain())return this.getTimeDomain(this.values);if(this.axisConfig.isOrdinal())return this.values}const t=this.axisConfig.get("scale.min",this.getYMin()),e=this.axisConfig.get("scale.max",this.getYMax()),n=[t,e];if(this.axisConfig.isUserDefined())return this.validateUserExtents(n);if(this.axisConfig.isLogScale())return this.logDomain(t,e);if(this.axisConfig.isYExtents()){const r=this.axisConfig.get("scale.boundsMargin");return 0===r||(e<0&&(n[1]=n[1]+r),t>0&&(n[0]=n[0]-r)),n}return[Math.min(0,t),Math.max(0,e)]}getDomain(t){const e=this.getExtents(),n=this.axisConfig.get("padForLabels");if(n>0&&this.canApplyNice()){const r=(e[1]-e[0])/t*n;e[0]<0&&(e[0]-=r),e[1]+=r}return e}getRange(t){return this.axisConfig.isHorizontal()?this.axisConfig.get("scale.inverted")?[t,0]:[0,t]:this.axisConfig.get("scale.inverted")?[0,t]:[t,0]}throwCustomError(t){throw new Error(t)}throwLogScaleValuesError(){throw new InvalidLogScaleValues}logDomain(t,e){return t<0||e<0?this.throwLogScaleValuesError():[1,e]}getD3Scale(t){let e=t||"linear";return"square root"===e&&(e="sqrt"),this.axisConfig.isTimeDomain()?s.a.time.scale.utc():this.axisConfig.isOrdinal()?s.a.scale.ordinal():"function"!=typeof s.a.scale[e]?this.throwCustomError(`Axis.getScaleType: ${e} is not a function`):s.a.scale[e]()}canApplyNice(){const t=this.axisConfig;return!(t.isUserDefined()||t.isYExtents()||t.isOrdinal()||t.isTimeDomain())}getScale(t){const e=this.axisConfig,n=this.getD3Scale(e.getScaleType()),r=this.getDomain(t),i=this.getRange(t),a=e.get("style.rangePadding"),s=e.get("style.rangeOuterPadding");return this.scale=n.domain(r),e.isOrdinal()?this.scale.rangeBands(i,a,s):this.scale.range(i),this.canApplyNice()&&this.scale.nice(),this.scale.clamp&&this.scale.clamp(!0),this.validateScale(this.scale),this.axisConfig.isTimeDomain()&&(this.scale.timezoneCorrectedTicks=(t=>{const e=t.domain(),n=m()(e[0]).utcOffset(),r=e.map((t=>m()(t).add(n,"minute"))),i=t.copy().domain(r);return t=>{const r=i.ticks(t),a=(e[1]-e[0])/r.length<432e5;return r.map((t=>{const e=m()(t).utcOffset();return m()(t).subtract(a?n:e,"minute").valueOf()}))}})(n)),this.scale}validateScale(t){if(!t||Number.isNaN(t))throw new Error("scale is "+t)}}const Et="normal",St="percentage",Dt="wiggle",Lt="silhouette",Tt="grouped",zt={show:!0,type:"value",elSelector:".visAxis__column--{pos} .axis-div",position:"left",scale:{type:"linear",expandLastBucket:!0,inverted:!1,defaultYExtents:null,boundsMargin:0,setYExtents:null,min:null,max:null,mode:Et},style:{color:"#ddd",lineWidth:"1px",opacity:1,tickColor:"#ddd",tickWidth:"1px",tickLength:"6px",rangePadding:.1,rangeOuterPadding:0},labels:{axisFormatter:null,show:!0,rotate:0,rotateAnchor:"center",filter:!1,color:"#ddd",font:'"Open Sans", "Lato", "Helvetica Neue", Helvetica, Arial, sans-serif',fontSize:"8pt",truncate:100},title:{text:"",elSelector:".visAxis__column--{pos} .axis-div"},padForLabels:0},Nt={type:"category",position:"bottom"},qt={labels:{axisFormatter:s.a.format("n")}},Ft={labels:{rotate:0,rotateAnchor:"end",filter:!0,truncate:0}},Ot={labels:{rotateAnchor:"middle"}};class axis_config_AxisConfig{constructor(t,e){const n="category"===e.type?i.a.cloneDeep(Nt):i.a.cloneDeep(qt),r=i.a.cloneDeep(e),a="category"===r.type,s=r.position&&["top","bottom"].includes(r.position);if(i.a.merge(n,s||a?Ft:Ot),this._values=i.a.defaultsDeep({},r,n,zt),this._values.elSelector=this._values.elSelector.replace("{pos}",this._values.position),this._values.rootEl=t.get("el"),this.data=t.data,a&&(this._values.values?this.values=this._values.values:(this.values=this.data.xValues(t.get("orderBucketsBySum",!1)),this.ordered=this.data.get("ordered")),this._values.labels.axisFormatter||(this._values.labels.axisFormatter=this.data.data.xAxisFormatter||this.data.get("xAxisFormatter"))),"value"===this.get("type")){(this.get("scale.mode")===Dt||this.get("scale.mode")===Lt)&&(this._values.scale.defaultYExtents=!1,e.show||(this._values.show=!1,this._values.title.show=!0)),this.isLogScale()&&(this._values.labels.filter=!0)}if(null==e.title||null==e.title.text){const t=a?"xAxisLabel":"yAxisLabel";this.set("title.text",this.data.get(t))}let o;this.isHorizontal()&&this.isOrdinal()&&(this._values.labels.filter=i.a.get(e,"labels.filter",!1),this._values.labels.rotate=i.a.get(e,"labels.rotate",90),this._values.labels.truncate=i.a.get(e,"labels.truncate",100)),"category"!==this.get("type")||this.isHorizontal()||(this._values.scale.inverted=i.a.get(e,"scale.inverted",!0)),t.get("labels.show",!1)&&!a&&(this._values.padForLabels=s?40:15);let u=!0;switch(this.get("scale.mode")){case Et:o="zero",u=!1;break;case Tt:o="group",u=!1;break;case St:o=function(t){const e=t.length,n=t[0].length,r=[];for(let r=0;r<n;++r){let n=0;for(let i=0;i<e;i++)n+=t[i][r][1];if(n)for(let i=0;i<e;i++)t[i][r][1]/=n}for(let t=0;t<n;++t)r[t]=0;return r};break;default:o=this.get("scale.mode")}this.set("scale.offset",i.a.get(e,"scale.offset",o)),this.set("scale.stacked",u)}get(t,e){if(void 0===e&&!i.a.has(this._values,t))throw new Error(`Accessing invalid config property: ${t}`);const n=i.a.get(this._values,t,e);return null==n&&null!=e?e:n}set(t,e){return Object(c.set)(this._values,t,e)}isHorizontal(){return"top"===this._values.position||"bottom"===this._values.position}isOrdinal(){return!!this.values&&!this.isTimeDomain()}isTimeDomain(){return this.ordered&&this.ordered.date}isPercentage(){return this._values.scale.mode===St}isUserDefined(){return this._values.scale.setYExtents}isYExtents(){return this._values.scale.defaultYExtents}isLogScale(){return"log"===this.getScaleType()}getScaleType(){return this._values.scale.type}}class axis_Axis extends _error_handler_ErrorHandler{constructor(t,e){super(),this.visConfig=t,this.axisConfig=new axis_config_AxisConfig(this.visConfig,e),"category"===this.axisConfig.get("type")&&(this.values=this.axisConfig.values,this.ordered=this.axisConfig.ordered),this.axisScale=new axis_scale_AxisScale(this.axisConfig,t),this.axisTitle=new axis_title_AxisTitle(this.axisConfig),this.axisLabels=new axis_labels_AxisLabels(this.axisConfig,this.axisScale),this.stack=s.a.layout.stack().x((t=>t.x)).y((t=>"function"==typeof this.axisConfig.get("scale.offset")&&"expand"===this.axisConfig.get("scale.offset").name?Math.abs(t.y):t.y)).offset(this.axisConfig.get("scale.offset","zero"));["normal","grouped"].includes(this.axisConfig.get("scale.mode"))&&(this.stack=this._stackNegAndPosVals)}_stackNegAndPosVals(t){const e={};return t.forEach((t=>{t.forEach((t=>{e[t.x]||(e[t.x]=[0,0]),t.y0=e[t.x][t.y<0?0:1],e[t.x][t.y<0?0:1]+=t.y}))})),t}render(){const t=this.axisConfig.get("elSelector"),e=this.axisConfig.get("rootEl");s.a.select(e).selectAll(t).call(this.draw())}destroy(){const t=this.axisConfig.get("elSelector"),e=this.axisConfig.get("rootEl");S()(e).find(t).find("svg").remove(),this.axisTitle.destroy()}getAxis(t){const e=this.axisScale.getScale(t),n=this.axisConfig.get("position"),r=this.axisConfig.get("labels.axisFormatter"),i=s.a.svg.axis().scale(e).tickFormat(r).orient(n);return this.axisConfig.isTimeDomain()?i.tickValues(e.timezoneCorrectedTicks(this.tickScale(t))):i.ticks(this.tickScale(t)),i}getScale(){return this.axisScale.scale}addInterval(t){return this.axisScale.addInterval(t)}substractInterval(t){return this.axisScale.substractInterval(t)}tickScale(t){const e=s.a.scale.linear().clamp(!0).domain([20,40,1e3]).range([0,3,11]);return Math.ceil(e(t))}getLength(t){return this.axisConfig.isHorizontal()?S()(t).width():S()(t).height()}adjustSize(){const t=this.axisConfig,e=t.get("style"),n=this.visConfig.get("el"),r=t.get("position");return function(a){const o=a.selectAll(".tick text"),u=[];o.each((function(){u.push((()=>t.isHorizontal()?s.a.select(this.parentNode).node().getBBox().height:s.a.select(this.parentNode).node().getBBox().width)())}));let l=u.length>0?i.a.max(u):0;if(l+=5,t.isHorizontal()){if(a.attr("height",Math.ceil(l)),"top"===r&&(a.select("g").attr("transform",`translate(0, ${l-parseInt(e.lineWidth)})`),a.select("path").attr("transform","translate(1,0)")),"value"===t.get("type")){const t=S()(n).find(`.visAxis__spacer--y-${r}`),e=S()(n).find(`.visAxis__column--${r}`).height();t.height(e)}}else{const t=Math.ceil(l);a.attr("width",t),"left"===r&&a.select("g").attr("transform",`translate(${t},0)`)}}}validate(){if(this.axisConfig.isLogScale()&&this.axisConfig.isPercentage())throw new errors_VislibError("Can't mix percentage mode with log scale.")}draw(){const t=[],e=this,n=this.axisConfig,r=n.get("style");return function(i){const a=i[0].length;n.get("show")&&e.axisTitle&&["left","top"].includes(n.get("position"))&&e.axisTitle.render(i),i.each((function(){const i=this,o=s.a.select(i),u=S()(i).width(),l=S()(i).height(),c=e.getLength(i,a);e.validate();const h=e.getAxis(c);if(n.get("show")){const i=o.append("svg").attr("focusable","false").attr("width",u).attr("height",l);t.push(i);const a=e.axisConfig.isHorizontal()?"x":"y";i.append("g").attr("class",`${a} axis ${n.get("id")}`).call(h);i.select("g.axis").node()&&(i.select("path").style("stroke",r.color).style("stroke-width",r.lineWidth).style("stroke-opacity",r.opacity),i.selectAll("line").style("stroke",r.tickColor).style("stroke-width",r.tickWidth).style("stroke-opacity",r.opacity)),e.axisLabels&&e.axisLabels.render(i)}})),e.axisTitle&&["right","bottom"].includes(n.get("position"))&&e.axisTitle.render(i),t.forEach((t=>t.call(e.adjustSize())))}}}class chart_title_ChartTitle extends _error_handler_ErrorHandler{constructor(t){super(),this.el=t.get("el"),this.tooltip=new $("chart-title",this.el,(function(t){return"<p>"+i.a.escape(t.label)+"</p>"}))}render(){const t=s.a.select(this.el).select(".chart-title").node(),e=t?t.clientWidth:0,n=t?t.clientHeight:0;return s.a.select(this.el).selectAll(".chart-title").call(this.draw(e,n))}truncate(t){const e=this;return function(n){n.each((function(){const n=s.a.select(this),r=n[0].length,i=t/r*.9,a=this.getComputedTextLength();let o,u,l;return a>i?(o=n.text(),u=a/o.length,l=Math.floor(i/u)-5,o=o.substr(0,l)+"...",e.addMouseEvents(n),n.text(o)):n.text()}))}}addMouseEvents(t){if(this.tooltip)return t.call(this.tooltip.render())}draw(t,e){const n=this;return function(r){r.each((function(){const r=s.a.select(this),i=this.parentNode.__data__.rows?"rows":"columns",a="rows"===i?e:t;n.validateWidthandHeight(t,e),r.append("svg").attr("focusable","false").attr("width",t).attr("height",e).append("text").attr("transform",(function(){return"rows"===i?"translate(11,"+e/2+")rotate(270)":"translate("+t/2+",11)"})).attr("text-anchor","middle").text((function(t){return t.label})),r.selectAll("text").call(n.truncate(a))}))}}}class layout_Layout{constructor(t){this.el=t.get("el"),this.data=t.data.data,this.opts=t,this.layoutType=Mt[t.get("type")](this.el,this.data)}render(){this.removeAll(this.el),this.createLayout(this.layoutType),"point_series"===this.opts.get("type")&&this.updateCategoryAxisSize()}createLayout(t){return i.a.each(t,(t=>{this.layout(t)}))}updateCategoryAxisSize(){const t=this.opts,e=t.get("categoryAxes[0]"),n=new axis_Axis(t,e),r=n.axisConfig.get("position"),i=new chart_title_ChartTitle(t),a=S()(this.el).find(`.visAxis__column--${r}`);a.css("visibility","hidden"),n.render(),i.render();const s=a.width(),o=a.height();if(n.destroy(),S()(this.el).find(".chart-title svg").remove(),a.css("visibility",""),n.axisConfig.isHorizontal()){S()(this.el).find(`.visAxis__spacer--y-${r}`).height(`${o}px`)}else a.find(".visAxis__splitAxes--y").width(`${s}px`)}layout(t){if(!t.parent)throw new Error("No parent element provided");if(!t.type)throw new Error("No element type provided");if("string"!=typeof t.type)throw new Error(t.type+" must be a string");"string"==typeof t.parent&&"."!==t.parent.charAt(0)&&(t.parent="."+t.parent);const e=this.appendElem(t.parent,t.type,t.class);if(t.datum&&e.datum(t.datum),t.splits&&e.call(t.splits,t.parent,this.opts),t.children){const n=e[0][0];i.a.forEach(t.children,(function(t){t.parent||(t.parent=n)})),this.createLayout(t.children)}return e}appendElem(t,e,n){if(!t||!e||!n)throw new Error("Function requires that an el, type, and class be provided");return"string"==typeof t&&(t=s.a.select(this.el).select(t)[0][0]),s.a.select(t).append(e).attr("class",n)}removeAll(t){return s.a.select(t).selectAll("*").remove()}}class alerts_Alerts{constructor(t,e){this.vis=t,this.data=t.data,this.alertDefs=i.a.cloneDeep(e),this.alerts=i()(e).map((e=>{if(e&&(!e.test||e.test(t,this.data)))return this._addAlert(e)})).compact()}_addAlert(t){const e=t.type||"info",n=t.icon||e,r=t.msg,i=S()("<i>").addClass("visAlerts__icon fa fa-"+n),a=S()("<p>").addClass("visAlerts__text").text(r),s=S()("<i>").addClass("fa fa-close"),o=S()("<div>").addClass("visAlerts__close").append(s),u=S()("<div>").addClass("visAlert visAlert--"+e).append([i,a,o]);return o.on("click",(()=>{u.remove()})),u}render(){const t=this.alerts,e=this.vis;S()(e.element).find(".visWrapper__alerts").append(S()("<div>").addClass("visAlerts__tray")),t.size()&&S()(e.element).find(".visAlerts__tray").append(t.value())}show(t,e){const n=this.vis,r={msg:t,type:e};this.alertDefs.find((t=>t.msg===r.msg))||(this.alertDefs.push(r),S()(n.element).find(".visAlerts__tray").append(this._addAlert(r)))}destroy(){S()(this.vis.element).find(".visWrapper__alerts").remove()}}const Rt={style:{color:"rgba(105,112,125,0.2)"},categoryLines:!1,valueAxis:void 0};class chart_grid_ChartGrid{constructor(t,e){e&&(this._handler=t,this._values=i.a.defaultsDeep({},e,Rt))}drawLine(t,e,n,r,i){const a=n.axisConfig.isHorizontal(),o=n.getScale();t.append("path").attr("d",(()=>{const t=a?e:0,n=a?e:r,u=a?0:e,l=a?i:e;return s.a.svg.line().x((t=>a?o(t[0]):t[0])).y((t=>a?t[1]:o(t[1])))([[t,u],[n,l]])})).attr("fill","none").attr("stroke",this.get("style.color")).attr("stroke-width",1)}drawCategoryLines(t,e,n){const r=this._handler.categoryAxes[0];if(!r)return;const i=r.getScale().ticks;i&&i().forEach((i=>{this.drawLine(t,i,r,e,n)}))}drawValueLines(t,e,n){const r=this._handler.valueAxes.find((t=>t.axisConfig.get("id")===this.get("valueAxis")));if(!r)return;const i=r.getScale().ticks;i&&i().forEach((i=>{this.drawLine(t,i,r,e,n)}))}draw(t,e){const n=this;return function(r){n._values&&r.each((function(){n.get("categoryLines")&&n.drawCategoryLines(s.a.select(this),t,e),n.get("valueAxis",!1)&&n.drawValueLines(s.a.select(this),t,e)}))}}get(t,e){if(i.a.has(this._values,t)||void 0!==e)return i.a.get(this._values,t,e);throw new Error(`Accessing invalid config property: ${t}`)}set(t,e){return Object(c.set)(this._values,t,e)}}const jt=new M.a({html:!1,linkify:!0}),It=t=>parseInt(m()(t).format("x"));class handler_Handler{constructor(t,e,n){this.el=e.get("el"),this.ChartClass=mt[e.get("type")],this.uiSettings=n,this.charts=[],this.vis=t,this.visConfig=e,this.data=e.data,this.categoryAxes=e.get("categoryAxes").map((t=>new axis_Axis(e,t))),this.valueAxes=e.get("valueAxes").map((t=>new axis_Axis(e,t))),this.chartTitle=new chart_title_ChartTitle(e),this.alerts=new alerts_Alerts(this,e.get("alerts")),this.grid=new chart_grid_ChartGrid(this,e.get("grid")),"point_series"===e.get("type")&&this.data.stackData(this),e.get("resize",!1)&&(this.resize=e.get("resize")),this.layout=new layout_Layout(e),this.binder=new binder_Binder,this.renderArray=i.a.filter([this.layout,this.chartTitle,this.alerts],Boolean),this.renderArray=this.renderArray.concat(this.valueAxes).concat(this.categoryAxes.slice().reverse()),this.getProxyHandler=i.a.memoize((function(t){const e=this;return function(n){var r;switch(t){case"brush":const{xRaw:i}=null===(r=n.data.series[0])||void 0===r?void 0:r.values.find((({xRaw:t})=>Boolean(t)));if(!i)return;const[a,s]=n.range,o=[It(a),It(s)];return e.vis.emit(t,{name:"brush",data:{table:i.table,range:o,column:i.column}});case"click":return e.vis.emit(t,{name:"filterBucket",data:n})}}})),this.enable=this.chartEventProxyToggle("on"),this.disable=this.chartEventProxyToggle("off")}_validateData(){if(!this.data.type)throw new errors_NoResults}render(){if(this.visConfig.get("error",null))return this.error(this.visConfig.get("error"));const t=this,{binder:e,charts:n=[]}=this,r=s.a.select(this.el);r.selectAll("*").remove(),this._validateData(),this.renderArray.forEach((function(t){"function"==typeof t.render&&t.render()}));let i=0;const a=r.selectAll(".chart");a.each((function(r){const s=new t.ChartClass(t,this,r,t.uiSettings);t.vis.eventNames().forEach((function(e){t.enable(e,s)})),e.on(s.events,"rendered",(()=>{i++,i===a.length&&t.vis.emit("renderComplete")})),n.push(s),s.render()}))}chartEventProxyToggle(t){return function(e,n){const r=this.getProxyHandler(e);i.a.each(n?[n]:this.charts,(function(n){n.events[t](e,r)}))}}removeAll(t){return s.a.select(t).selectAll("*").remove()}error(t){this.removeAll(this.el);const e=s.a.select(this.el).append("div").attr("class","visError chart error").attr("data-test-subj","vislibVisualizeError");return e.append("h4").text(jt.renderInline(t)),Object(l.dispatchRenderComplete)(this.el),e}destroy(){this.binder.destroy(),this.renderArray.forEach((function(t){i.a.isFunction(t.destroy)&&t.destroy()})),this.charts.splice(0).forEach((function(t){i.a.isFunction(t.destroy)&&t.destroy()}))}}class vis_Vis extends o.EventEmitter{constructor(t,e,n,r){super(),this.element=t.get?t.get(0):t,this.visConfigArgs=i.a.cloneDeep(e),this.visConfigArgs.dimmingOpacity=n.uiSettings.get(nt),this.visConfigArgs.heatmapMaxBuckets=n.uiSettings.get("visualization:heatmap:maxBuckets"),this.charts=r,this.uiSettings=n.uiSettings}hasLegend(){return this.visConfigArgs.addLegend}initVisConfig(t,e){this.data=t,this.uiState=e,this.visConfig=new vis_config_VisConfig(this.visConfigArgs,this.data,this.uiState,this.element,this.charts.legacyColors.createColorLookupFunction.bind(this.charts.legacyColors))}render(t,e){if(!t)throw new Error("No valid data!");this.handler&&(this.data=null,this._runOnHandler("destroy")),this.initVisConfig(t,e),this.handler=new handler_Handler(this,this.visConfig,this.uiSettings),this._runOnHandler("render")}getLegendLabels(){return this.visConfig?this.visConfig.get("legend.labels",null):null}getLegendColors(){return this.visConfig?this.visConfig.get("legend.colors",null):null}_runOnHandler(t){try{this.handler[t]()}catch(t){if(!(t instanceof errors_VislibError))throw t;t.displayToScreen(this.handler)}}destroy(){const t=s.a.select(this.element).select(".visWrapper");this.handler&&this._runOnHandler("destroy"),t.remove()}set(t,e){this.visConfigArgs[t]=e,this.render(this.data,this.uiState)}get(t){return this.visConfig.get(t)}on(t,e){const n=0===this.listenerCount(t),r=o.EventEmitter.prototype.on.call(this,t,e),i=this.listenerCount(t)>0;return n&&i&&this.handler&&this.handler.enable(t),r}off(t,e){const n=1===this.listenerCount(t),r=o.EventEmitter.prototype.off.call(this,t,e),i=0===this.listenerCount(t);return n&&i&&this.handler&&this.handler.disable(t),r}removeAllListeners(t){const e=o.EventEmitter.prototype.removeAllListeners.call(this,t);return this.handler.disable(t),e}}}])]);